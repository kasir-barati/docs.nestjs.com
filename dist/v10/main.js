(self.webpackChunkdocs_nestjs_com=self.webpackChunkdocs_nestjs_com||[]).push([[792],{8050:(je,ne,C)=>{"use strict";C.d(ne,{y:()=>q});var g=C(8295),Y=(C(9628),C(1582),C(3809),C(7240),C(981),C(4438));let q=(()=>{class Fe{applicationRef;el;isHljsInitialized=!1;constructor(Q,me){this.applicationRef=Q,this.el=me}get nativeElement(){return this.el.nativeElement}get isMarkupReady(){return this.isHljsInitialized}ngAfterViewChecked(){this.initHljs()}initHljs(){if(this.isHljsInitialized||!this.el)return;const Q=this.el.nativeElement.querySelectorAll("code");[].forEach.call(Q,me=>{me.className&&(g.highlightElement(me),this.isHljsInitialized=!0)}),setTimeout(()=>this.applicationRef.tick(),1e3)}static \u0275fac=function(me){return new(me||Fe)(Y.rXU(Y.o8S),Y.rXU(Y.aKT))};static \u0275cmp=Y.VBU({type:Fe,selectors:[["app-base-page"]],decls:0,vars:0,template:function(me,Te){},encapsulation:2})}return Fe})()},5749:(je,ne,C)=>{"use strict";C.d(ne,{Q:()=>e});var g=C(4438);let e=(()=>{class ${static \u0275fac=function(G){return new(G||$)};static \u0275cmp=g.VBU({type:$,selectors:[["app-banner-courses"]],decls:25,vars:0,consts:[[1,"banner"],[1,"fas","fa-check"],["href","https://courses.nestjs.com","target","_blank","title","Courses | NestJS - A node.js framework built on top of TypeScript",1,"btn-more"]],template:function(G,re){1&G&&(g.j41(0,"div",0)(1,"h2"),g.EFF(2,"Learn the "),g.j41(3,"span"),g.EFF(4,"right"),g.k0s(),g.EFF(5," way!"),g.k0s(),g.j41(6,"ul")(7,"li")(8,"span"),g.nrm(9,"i",1),g.k0s(),g.EFF(10," 80+ chapters "),g.k0s(),g.j41(11,"li")(12,"span"),g.nrm(13,"i",1),g.k0s(),g.EFF(14," 5+ hours of videos "),g.k0s(),g.j41(15,"li")(16,"span"),g.nrm(17,"i",1),g.k0s(),g.EFF(18," Official certificate "),g.k0s(),g.j41(19,"li")(20,"span"),g.nrm(21,"i",1),g.k0s(),g.EFF(22," Deep-dive sessions "),g.k0s()(),g.j41(23,"a",2),g.EFF(24,"Explore official courses"),g.k0s()())},styles:[".banner[_ngcontent-%COMP%]{background-color:#111;background-image:url(/assets/banners/courses.jpg)}"],changeDetection:0})}return $})()},7077:(je,ne,C)=>{"use strict";C.d(ne,{_:()=>e});var g=C(4438);let e=(()=>{class ${static \u0275fac=function(G){return new(G||$)};static \u0275cmp=g.VBU({type:$,selectors:[["app-banner-devtools"]],decls:24,vars:0,consts:[[1,"banner"],[1,"fas","fa-check"],["href","https://devtools.nestjs.com","target","_blank","title","Devtools | NestJS - A node.js framework built on top of TypeScript",1,"btn-more"]],template:function(G,re){1&G&&(g.j41(0,"div",0)(1,"h2"),g.EFF(2,"Explore your graph with "),g.j41(3,"span"),g.EFF(4,"NestJS Devtools"),g.k0s()(),g.j41(5,"ul")(6,"li")(7,"span"),g.nrm(8,"i",1),g.k0s(),g.EFF(9," Graph visualizer "),g.k0s(),g.j41(10,"li")(11,"span"),g.nrm(12,"i",1),g.k0s(),g.EFF(13," Routes navigator "),g.k0s(),g.j41(14,"li")(15,"span"),g.nrm(16,"i",1),g.k0s(),g.EFF(17," Interactive playground "),g.k0s(),g.j41(18,"li")(19,"span"),g.nrm(20,"i",1),g.k0s(),g.EFF(21," CI/CD integration "),g.k0s()(),g.j41(22,"a",2),g.EFF(23,"Sign up"),g.k0s()())},styles:[".banner[_ngcontent-%COMP%]{background-color:#111;background-image:url(/assets/banners/courses-graphql-sf.jpg)}"],changeDetection:0})}return $})()},8149:(je,ne,C)=>{"use strict";C.d(ne,{d:()=>e});var g=C(4438);let e=(()=>{class ${static \u0275fac=function(G){return new(G||$)};static \u0275cmp=g.VBU({type:$,selectors:[["app-banner-enterprise"]],decls:25,vars:0,consts:[[1,"banner"],[1,"fas","fa-check"],["href","https://enterprise.nestjs.com","target","_blank","title","Enterprise | NestJS - A progressive Node.js framework",1,"btn-more"]],template:function(G,re){1&G&&(g.j41(0,"div",0)(1,"h2"),g.EFF(2,"Official "),g.j41(3,"span"),g.EFF(4,"enterprise"),g.k0s(),g.EFF(5," support"),g.k0s(),g.j41(6,"ul")(7,"li")(8,"span"),g.nrm(9,"i",1),g.k0s(),g.EFF(10," Providing technical guidance "),g.k0s(),g.j41(11,"li")(12,"span"),g.nrm(13,"i",1),g.k0s(),g.EFF(14," Performing in-depth code reviews "),g.k0s(),g.j41(15,"li")(16,"span"),g.nrm(17,"i",1),g.k0s(),g.EFF(18," Mentoring team members "),g.k0s(),g.j41(19,"li")(20,"span"),g.nrm(21,"i",1),g.k0s(),g.EFF(22," Advising best practices "),g.k0s()(),g.j41(23,"a",2),g.EFF(24,"Explore more"),g.k0s()())},styles:[".banner[_ngcontent-%COMP%]{background-color:#111;background-image:url(/assets/banners/enterprise.jpg)}.banner[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{max-width:820px}"],changeDetection:0})}return $})()},2469:(je,ne,C)=>{"use strict";C.d(ne,{z:()=>O});var g=C(4438),e=C(3506);const $=["*"];let O=(()=>{class N{elRef=(0,g.WQX)(g.aKT);copied=!1;cdr=(0,g.WQX)(g.gRc);revertIconTimeout=null;onCopy(){const re=this.elRef.nativeElement.querySelector("pre:not(.hide)");re&&(navigator.clipboard.writeText(re.firstChild.textContent),this.copied=!0,this.cdr.detectChanges(),this.revertIconTimeout=setTimeout(()=>{this.copied=!1,this.cdr.detectChanges(),this.revertIconTimeout=null},2e3))}ngOnDestroy(){this.revertIconTimeout&&clearTimeout(this.revertIconTimeout)}static \u0275fac=function(be){return new(be||N)};static \u0275cmp=g.VBU({type:N,selectors:[["app-copy-button"]],ngContentSelectors:$,decls:4,vars:3,consts:[[1,"clipboard",3,"click"]],template:function(be,fe){1&be&&(g.NAR(),g.j41(0,"button",0),g.bIt("click",function(){return fe.onCopy()}),g.j41(1,"mat-icon"),g.EFF(2),g.k0s()(),g.SdG(3)),2&be&&(g.AVh("copied",fe.copied),g.R7$(2),g.JRh(fe.copied?"check":"content_copy"))},dependencies:[e.An],styles:["[_nghost-%COMP%]{display:block;position:relative}.with-heading[_nghost-%COMP%]   .clipboard[_ngcontent-%COMP%]{top:65px}[_nghost-%COMP%]   .clipboard[_ngcontent-%COMP%]{color:#dfdfdf;cursor:pointer;background:transparent;border:none;padding:10px;position:absolute;top:20px;right:10px;z-index:10;opacity:.7}[_nghost-%COMP%]   .clipboard[_ngcontent-%COMP%]:hover:not(.copied){opacity:1}[_nghost-%COMP%]   .clipboard[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{width:18px;height:18px;font-size:18px}"]})}return N})()},5119:(je,ne,C)=>{"use strict";C.d(ne,{O:()=>e});var g=C(4438);let e=(()=>{class ${isJsActive=!1;static \u0275fac=function(G){return new(G||$)};static \u0275cmp=g.VBU({type:$,selectors:[["app-tabs"]],decls:5,vars:4,consts:[[1,"tabs-wrapper"],[1,"tab",3,"click"],[1,"tab","active",3,"click"]],template:function(G,re){1&G&&(g.j41(0,"div",0)(1,"span",1),g.bIt("click",function(){return re.isJsActive=!0}),g.EFF(2," JS "),g.k0s(),g.j41(3,"span",2),g.bIt("click",function(){return re.isJsActive=!1}),g.EFF(4," TS "),g.k0s()()),2&G&&(g.R7$(),g.AVh("active",re.isJsActive),g.R7$(2),g.AVh("active",!re.isJsActive))},styles:['.transition[_ngcontent-%COMP%]{transition:all .2s cubic-bezier(.7,0,.3,1)}.transition-fast[_ngcontent-%COMP%]{transition:all .1s cubic-bezier(.7,0,.3,1)}.transition-slow[_ngcontent-%COMP%]{transition:all .52s cubic-bezier(.7,0,.3,1)}.clearfix[_ngcontent-%COMP%]:before, .clearfix[_ngcontent-%COMP%]:after{content:" ";display:table}.clearfix[_ngcontent-%COMP%]:after{clear:both}.center-element[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%) translateY(-50%)}.center-left[_ngcontent-%COMP%]{position:absolute;left:50%;transform:translate(-50%)}.center-top[_ngcontent-%COMP%]{position:absolute;top:50%;transform:translateY(-50%)}.box-sizing[_ngcontent-%COMP%]{box-sizing:border-box}.tabs-wrapper[_ngcontent-%COMP%]{position:absolute;right:0;top:0;bottom:0}.tab[_ngcontent-%COMP%]{color:#dfdfdf;cursor:pointer;margin:0;float:right;font-weight:600;height:100%;padding:12px 20px;box-sizing:border-box;-webkit-box-sizing:border-box}.tab[_ngcontent-%COMP%]:hover:not(.active){color:#efefef}.tab.active[_ngcontent-%COMP%]{display:none}'],changeDetection:0})}return $})()},4819:(je,ne,C)=>{"use strict";C.d(ne,{a:()=>$});var g=C(4438),e=C(685);let $=(()=>{class O{elementRef;renderer;router;id;constructor(G,re,be){this.elementRef=G,this.renderer=re,this.router=be}ngAfterViewInit(){const G=null==this.id?this.getImplicitId():this.id;null==this.id&&this.renderer.setProperty(this.elementRef.nativeElement,"id",G);const re=this.renderer.createElement("a");this.renderer.setProperty(re,"href",`${this.router.url.split("#")[0]}#${G}`);const be=this.renderer.createText("#");this.renderer.appendChild(re,be),this.renderer.appendChild(this.elementRef.nativeElement,re)}getImplicitId(){return this.elementRef.nativeElement.innerText.replace(/\s/g,"-").toLocaleLowerCase()}static \u0275fac=function(re){return new(re||O)(g.rXU(g.aKT),g.rXU(g.sFG),g.rXU(e.Ix))};static \u0275dir=g.FsC({type:O,selectors:[["","appAnchor",""]],inputs:{id:"id"}})}return O})()},5663:(je,ne,C)=>{"use strict";C.d(ne,{M:()=>e});var g=C(4438);let e=(()=>{class ${transform(N,G){return G?`${N}.js`:`${N}.ts`}static \u0275fac=function(G){return new(G||$)};static \u0275pipe=g.EJ8({name:"extension",type:$,pure:!0})}return $})()},4599:(je,ne,C)=>{"use strict";C.d(ne,{n:()=>e});var g=C(4438);let e=(()=>{class ${set(N,G){localStorage.setItem(N,JSON.stringify(G))}get(N){const G=localStorage.getItem(N);return G?JSON.parse(G):null}remove(N){this.get(N)&&localStorage.removeItem(N)}static \u0275fac=function(G){return new(G||$)};static \u0275prov=g.jDH({token:$,factory:$.\u0275fac,providedIn:"root"})}return $})()},445:(je,ne,C)=>{"use strict";C.d(ne,{G:()=>ue});var g=C(177),e=C(4599),$=C(4438);let be=(()=>{class X{static#e=this.\u0275fac=function(q){return new(q||X)};static#t=this.\u0275mod=$.$C({type:X});static#n=this.\u0275inj=$.G2t({})}return X})();var fe=C(3506);let ue=(()=>{class X{static \u0275fac=function(q){return new(q||X)};static \u0275mod=$.$C({type:X});static \u0275inj=$.G2t({providers:[e.n],imports:[g.MD,be,fe.m_]})}return X})()},6760:(je,ne,C)=>{"use strict";var g=C(345),e=C(4438),$=C(1626),O=function(v){return v[v.State=0]="State",v[v.Transition=1]="Transition",v[v.Sequence=2]="Sequence",v[v.Group=3]="Group",v[v.Animate=4]="Animate",v[v.Keyframes=5]="Keyframes",v[v.Style=6]="Style",v[v.Trigger=7]="Trigger",v[v.Reference=8]="Reference",v[v.AnimateChild=9]="AnimateChild",v[v.AnimateRef=10]="AnimateRef",v[v.Query=11]="Query",v[v.Stagger=12]="Stagger",v}(O||{});const N="*";function G(v,l){return{type:O.Trigger,name:v,definitions:l,options:{}}}function re(v,l=null){return{type:O.Animate,styles:l,timings:v}}function ue(v){return{type:O.Style,styles:v,offset:null}}function Y(v,l,a=null){return{type:O.Transition,expr:v,animation:l,options:a}}function Q(v,l,a=null){return{type:O.Query,selector:v,animation:l,options:a}}class Ve{constructor(l=0,a=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=l+a}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(l=>l()),this._onDoneFns=[])}onStart(l){this._originalOnStartFns.push(l),this._onStartFns.push(l)}onDone(l){this._originalOnDoneFns.push(l),this._onDoneFns.push(l)}onDestroy(l){this._onDestroyFns.push(l)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(l=>l()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(l=>l()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(l){this._position=this.totalTime?l*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(l){const a="start"==l?this._onStartFns:this._onDoneFns;a.forEach(c=>c()),a.length=0}}class it{constructor(l){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=l;let a=0,c=0,h=0;const b=this.players.length;0==b?queueMicrotask(()=>this._onFinish()):this.players.forEach(M=>{M.onDone(()=>{++a==b&&this._onFinish()}),M.onDestroy(()=>{++c==b&&this._onDestroy()}),M.onStart(()=>{++h==b&&this._onStart()})}),this.totalTime=this.players.reduce((M,u)=>Math.max(M,u.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(l=>l()),this._onDoneFns=[])}init(){this.players.forEach(l=>l.init())}onStart(l){this._onStartFns.push(l)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(l=>l()),this._onStartFns=[])}onDone(l){this._onDoneFns.push(l)}onDestroy(l){this._onDestroyFns.push(l)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(l=>l.play())}pause(){this.players.forEach(l=>l.pause())}restart(){this.players.forEach(l=>l.restart())}finish(){this._onFinish(),this.players.forEach(l=>l.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(l=>l.destroy()),this._onDestroyFns.forEach(l=>l()),this._onDestroyFns=[])}reset(){this.players.forEach(l=>l.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(l){const a=l*this.totalTime;this.players.forEach(c=>{const h=c.totalTime?Math.min(1,a/c.totalTime):1;c.setPosition(h)})}getPosition(){const l=this.players.reduce((a,c)=>null===a||c.totalTime>a.totalTime?c:a,null);return null!=l?l.getPosition():0}beforeDestroy(){this.players.forEach(l=>{l.beforeDestroy&&l.beforeDestroy()})}triggerCallback(l){const a="start"==l?this._onStartFns:this._onDoneFns;a.forEach(c=>c()),a.length=0}}function kt(v){return new e.wOt(3e3,!1)}function On(v){switch(v.length){case 0:return new Ve;case 1:return v[0];default:return new it(v)}}function Zt(v,l,a=new Map,c=new Map){const h=[],b=[];let M=-1,u=null;if(l.forEach(m=>{const p=m.get("offset"),F=p==M,_=F&&u||new Map;m.forEach((S,x)=>{let z=x,U=S;if("offset"!==x)switch(z=v.normalizePropertyName(z,h),U){case"!":U=a.get(x);break;case N:U=c.get(x);break;default:U=v.normalizeStyleValue(x,z,U,h)}_.set(z,U)}),F||b.push(_),u=_,M=p}),h.length)throw function Ne(){return new e.wOt(3502,!1)}();return b}function Ht(v,l,a,c){switch(l){case"start":v.onStart(()=>c(a&&_t(a,"start",v)));break;case"done":v.onDone(()=>c(a&&_t(a,"done",v)));break;case"destroy":v.onDestroy(()=>c(a&&_t(a,"destroy",v)))}}function _t(v,l,a){const b=Ar(v.element,v.triggerName,v.fromState,v.toState,l||v.phaseName,a.totalTime??v.totalTime,!!a.disabled),M=v._data;return null!=M&&(b._data=M),b}function Ar(v,l,a,c,h="",b=0,M){return{element:v,triggerName:l,fromState:a,toState:c,phaseName:h,totalTime:b,disabled:!!M}}function ct(v,l,a){let c=v.get(l);return c||v.set(l,c=a),c}function no(v){const l=v.indexOf(":");return[v.substring(1,l),v.slice(l+1)]}const Wt=typeof document>"u"?null:document.documentElement;function zr(v){const l=v.parentNode||v.host||null;return l===Wt?null:l}let nr=null,ie=!1;function ye(v,l){for(;l;){if(l===v)return!0;l=zr(l)}return!1}function $e(v,l,a){if(a)return Array.from(v.querySelectorAll(l));const c=v.querySelector(l);return c?[c]:[]}let ht=(()=>{class v{validateStyleProperty(a){return function K(v){nr||(nr=function V(){return typeof document<"u"?document.body:null}()||{},ie=!!nr.style&&"WebkitAppearance"in nr.style);let l=!0;return nr.style&&!function ro(v){return"ebkit"==v.substring(1,6)}(v)&&(l=v in nr.style,!l&&ie&&(l="Webkit"+v.charAt(0).toUpperCase()+v.slice(1)in nr.style)),l}(a)}containsElement(a,c){return ye(a,c)}getParentElement(a){return zr(a)}query(a,c,h){return $e(a,c,h)}computeStyle(a,c,h){return h||""}animate(a,c,h,b,M,u=[],m){return new Ve(h,b)}static#e=this.\u0275fac=function(c){return new(c||v)};static#t=this.\u0275prov=e.jDH({token:v,factory:v.\u0275fac})}return v})();class sn{static#e=this.NOOP=new ht}class Rn{}const cr=1e3,Cs="ng-enter",bo="ng-leave",kn="ng-trigger",rt=".ng-trigger",lr="ng-animating",is=".ng-animating";function ur(v){if("number"==typeof v)return v;const l=v.match(/^(-?[\.\d]+)(m?s)/);return!l||l.length<2?0:zo(parseFloat(l[1]),l[2])}function zo(v,l){return"s"===l?v*cr:v}function wr(v,l,a){return v.hasOwnProperty("duration")?v:function Ot(v,l,a){let h,b=0,M="";if("string"==typeof v){const u=v.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===u)return l.push(kt()),{duration:0,delay:0,easing:""};h=zo(parseFloat(u[1]),u[2]);const m=u[3];null!=m&&(b=zo(parseFloat(m),u[4]));const p=u[5];p&&(M=p)}else h=v;if(!a){let u=!1,m=l.length;h<0&&(l.push(function Ye(){return new e.wOt(3100,!1)}()),u=!0),b<0&&(l.push(function pt(){return new e.wOt(3101,!1)}()),u=!0),u&&l.splice(m,0,kt())}return{duration:h,delay:b,easing:M}}(v,l,a)}function Nn(v,l,a){l.forEach((c,h)=>{const b=as(h);a&&!a.has(h)&&a.set(h,v.style[b]),v.style[b]=c})}function kr(v,l){l.forEach((a,c)=>{const h=as(c);v.style[h]=""})}function dr(v){return Array.isArray(v)?1==v.length?v[0]:function fe(v,l=null){return{type:O.Sequence,steps:v,options:l}}(v):v}const wo=new RegExp("{{\\s*(.+?)\\s*}}","g");function ko(v){let l=[];if("string"==typeof v){let a;for(;a=wo.exec(v);)l.push(a[1]);wo.lastIndex=0}return l}function Cr(v,l,a){const c=`${v}`,h=c.replace(wo,(b,M)=>{let u=l[M];return null==u&&(a.push(function Rt(){return new e.wOt(3003,!1)}()),u=""),u.toString()});return h==c?v:h}const so=/-+([a-z0-9])/g;function as(v){return v.replace(so,(...l)=>l[1].toUpperCase())}function B(v,l,a){switch(l.type){case O.Trigger:return v.visitTrigger(l,a);case O.State:return v.visitState(l,a);case O.Transition:return v.visitTransition(l,a);case O.Sequence:return v.visitSequence(l,a);case O.Group:return v.visitGroup(l,a);case O.Animate:return v.visitAnimate(l,a);case O.Keyframes:return v.visitKeyframes(l,a);case O.Style:return v.visitStyle(l,a);case O.Reference:return v.visitReference(l,a);case O.AnimateChild:return v.visitAnimateChild(l,a);case O.AnimateRef:return v.visitAnimateRef(l,a);case O.Query:return v.visitQuery(l,a);case O.Stagger:return v.visitStagger(l,a);default:throw function Kt(){return new e.wOt(3004,!1)}()}}function ce(v,l){return window.getComputedStyle(v)[l]}const pe=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class xe extends Rn{normalizePropertyName(l,a){return as(l)}normalizeStyleValue(l,a,c,h){let b="";const M=c.toString().trim();if(pe.has(a)&&0!==c&&"0"!==c)if("number"==typeof c)b="px";else{const u=c.match(/^[+-]?[\d\.]+([a-z]*)$/);u&&0==u[1].length&&h.push(function se(){return new e.wOt(3005,!1)}())}return M+b}}const an="*";const Dt=new Set(["true","1"]),_n=new Set(["false","0"]);function ot(v,l){const a=Dt.has(v)||_n.has(v),c=Dt.has(l)||_n.has(l);return(h,b)=>{let M=v==an||v==h,u=l==an||l==b;return!M&&a&&"boolean"==typeof h&&(M=h?Dt.has(v):_n.has(v)),!u&&c&&"boolean"==typeof b&&(u=b?Dt.has(l):_n.has(l)),M&&u}}const Dr=new RegExp("s*:selfs*,?","g");function Co(v,l,a,c){return new Wo(v).build(l,a,c)}class Wo{constructor(l){this._driver=l}build(l,a,c){const h=new wt(a);return this._resetContextStyleTimingState(h),B(this,dr(l),h)}_resetContextStyleTimingState(l){l.currentQuerySelector="",l.collectedStyles=new Map,l.collectedStyles.set("",new Map),l.currentTime=0}visitTrigger(l,a){let c=a.queryCount=0,h=a.depCount=0;const b=[],M=[];return"@"==l.name.charAt(0)&&a.errors.push(function ae(){return new e.wOt(3006,!1)}()),l.definitions.forEach(u=>{if(this._resetContextStyleTimingState(a),u.type==O.State){const m=u,p=m.name;p.toString().split(/\s*,\s*/).forEach(F=>{m.name=F,b.push(this.visitState(m,a))}),m.name=p}else if(u.type==O.Transition){const m=this.visitTransition(u,a);c+=m.queryCount,h+=m.depCount,M.push(m)}else a.errors.push(function he(){return new e.wOt(3007,!1)}())}),{type:O.Trigger,name:l.name,states:b,transitions:M,queryCount:c,depCount:h,options:null}}visitState(l,a){const c=this.visitStyle(l.styles,a),h=l.options&&l.options.params||null;if(c.containsDynamicStyles){const b=new Set,M=h||{};c.styles.forEach(u=>{u instanceof Map&&u.forEach(m=>{ko(m).forEach(p=>{M.hasOwnProperty(p)||b.add(p)})})}),b.size&&a.errors.push(function ge(){return new e.wOt(3008,!1)}(0,b.values()))}return{type:O.State,name:l.name,style:c,options:h?{params:h}:null}}visitTransition(l,a){a.queryCount=0,a.depCount=0;const c=B(this,dr(l.animation),a),h=function nn(v,l){const a=[];return"string"==typeof v?v.split(/\s*,\s*/).forEach(c=>function bn(v,l,a){if(":"==v[0]){const m=function Mt(v,l){switch(v){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(a,c)=>parseFloat(c)>parseFloat(a);case":decrement":return(a,c)=>parseFloat(c)<parseFloat(a);default:return l.push(function Qt(){return new e.wOt(3016,!1)}()),"* => *"}}(v,a);if("function"==typeof m)return void l.push(m);v=m}const c=v.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==c||c.length<4)return a.push(function Pt(){return new e.wOt(3015,!1)}()),l;const h=c[1],b=c[2],M=c[3];l.push(ot(h,M)),"<"==b[0]&&(h!=an||M!=an)&&l.push(ot(M,h))}(c,a,l)):a.push(v),a}(l.expr,a.errors);return{type:O.Transition,matchers:h,animation:c,queryCount:a.queryCount,depCount:a.depCount,options:Cn(l.options)}}visitSequence(l,a){return{type:O.Sequence,steps:l.steps.map(c=>B(this,c,a)),options:Cn(l.options)}}visitGroup(l,a){const c=a.currentTime;let h=0;const b=l.steps.map(M=>{a.currentTime=c;const u=B(this,M,a);return h=Math.max(h,a.currentTime),u});return a.currentTime=h,{type:O.Group,steps:b,options:Cn(l.options)}}visitAnimate(l,a){const c=function Ei(v,l){if(v.hasOwnProperty("duration"))return v;if("number"==typeof v)return Gs(wr(v,l).duration,0,"");const a=v;if(a.split(/\s+/).some(b=>"{"==b.charAt(0)&&"{"==b.charAt(1))){const b=Gs(0,0,"");return b.dynamic=!0,b.strValue=a,b}const h=wr(a,l);return Gs(h.duration,h.delay,h.easing)}(l.timings,a.errors);a.currentAnimateTimings=c;let h,b=l.styles?l.styles:ue({});if(b.type==O.Keyframes)h=this.visitKeyframes(b,a);else{let M=l.styles,u=!1;if(!M){u=!0;const p={};c.easing&&(p.easing=c.easing),M=ue(p)}a.currentTime+=c.duration+c.delay;const m=this.visitStyle(M,a);m.isEmptyStep=u,h=m}return a.currentAnimateTimings=null,{type:O.Animate,timings:c,style:h,options:null}}visitStyle(l,a){const c=this._makeStyleAst(l,a);return this._validateStyleAst(c,a),c}_makeStyleAst(l,a){const c=[],h=Array.isArray(l.styles)?l.styles:[l.styles];for(let u of h)"string"==typeof u?u===N?c.push(u):a.errors.push(new e.wOt(3002,!1)):c.push(new Map(Object.entries(u)));let b=!1,M=null;return c.forEach(u=>{if(u instanceof Map&&(u.has("easing")&&(M=u.get("easing"),u.delete("easing")),!b))for(let m of u.values())if(m.toString().indexOf("{{")>=0){b=!0;break}}),{type:O.Style,styles:c,easing:M,offset:l.offset,containsDynamicStyles:b,options:null}}_validateStyleAst(l,a){const c=a.currentAnimateTimings;let h=a.currentTime,b=a.currentTime;c&&b>0&&(b-=c.duration+c.delay),l.styles.forEach(M=>{"string"!=typeof M&&M.forEach((u,m)=>{const p=a.collectedStyles.get(a.currentQuerySelector),F=p.get(m);let _=!0;F&&(b!=h&&b>=F.startTime&&h<=F.endTime&&(a.errors.push(function Qe(){return new e.wOt(3010,!1)}()),_=!1),b=F.startTime),_&&p.set(m,{startTime:b,endTime:h}),a.options&&function Ds(v,l,a){const c=l.params||{},h=ko(v);h.length&&h.forEach(b=>{c.hasOwnProperty(b)||a.push(function ft(){return new e.wOt(3001,!1)}())})}(u,a.options,a.errors)})})}visitKeyframes(l,a){const c={type:O.Keyframes,styles:[],options:null};if(!a.currentAnimateTimings)return a.errors.push(function Ct(){return new e.wOt(3011,!1)}()),c;let b=0;const M=[];let u=!1,m=!1,p=0;const F=l.steps.map(Le=>{const ze=this._makeStyleAst(Le,a);let dt=null!=ze.offset?ze.offset:function Ws(v){if("string"==typeof v)return null;let l=null;if(Array.isArray(v))v.forEach(a=>{if(a instanceof Map&&a.has("offset")){const c=a;l=parseFloat(c.get("offset")),c.delete("offset")}});else if(v instanceof Map&&v.has("offset")){const a=v;l=parseFloat(a.get("offset")),a.delete("offset")}return l}(ze.styles),rn=0;return null!=dt&&(b++,rn=ze.offset=dt),m=m||rn<0||rn>1,u=u||rn<p,p=rn,M.push(rn),ze});m&&a.errors.push(function qe(){return new e.wOt(3012,!1)}()),u&&a.errors.push(function tt(){return new e.wOt(3200,!1)}());const _=l.steps.length;let S=0;b>0&&b<_?a.errors.push(function Vt(){return new e.wOt(3202,!1)}()):0==b&&(S=1/(_-1));const x=_-1,z=a.currentTime,U=a.currentAnimateTimings,Ee=U.duration;return F.forEach((Le,ze)=>{const dt=S>0?ze==x?1:S*ze:M[ze],rn=dt*Ee;a.currentTime=z+U.delay+rn,U.duration=rn,this._validateStyleAst(Le,a),Le.offset=dt,c.styles.push(Le)}),c}visitReference(l,a){return{type:O.Reference,animation:B(this,dr(l.animation),a),options:Cn(l.options)}}visitAnimateChild(l,a){return a.depCount++,{type:O.AnimateChild,options:Cn(l.options)}}visitAnimateRef(l,a){return{type:O.AnimateRef,animation:this.visitReference(l.animation,a),options:Cn(l.options)}}visitQuery(l,a){const c=a.currentQuerySelector,h=l.options||{};a.queryCount++,a.currentQuery=l;const[b,M]=function cs(v){const l=!!v.split(/\s*,\s*/).find(a=>":self"==a);return l&&(v=v.replace(Dr,"")),v=v.replace(/@\*/g,rt).replace(/@\w+/g,a=>rt+"-"+a.slice(1)).replace(/:animating/g,is),[v,l]}(l.selector);a.currentQuerySelector=c.length?c+" "+b:b,ct(a.collectedStyles,a.currentQuerySelector,new Map);const u=B(this,dr(l.animation),a);return a.currentQuery=null,a.currentQuerySelector=c,{type:O.Query,selector:b,limit:h.limit||0,optional:!!h.optional,includeSelf:M,animation:u,originalSelector:l.selector,options:Cn(l.options)}}visitStagger(l,a){a.currentQuery||a.errors.push(function Jt(){return new e.wOt(3013,!1)}());const c="full"===l.timings?{duration:0,delay:0,easing:"full"}:wr(l.timings,a.errors,!0);return{type:O.Stagger,animation:B(this,dr(l.animation),a),timings:c,options:null}}}class wt{constructor(l){this.errors=l,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Cn(v){return v?(v={...v}).params&&(v.params=function Go(v){return v?{...v}:null}(v.params)):v={},v}function Gs(v,l,a){return{duration:v,delay:l,easing:a}}function vi(v,l,a,c,h,b,M=null,u=!1){return{type:1,element:v,keyframes:l,preStyleProps:a,postStyleProps:c,duration:h,delay:b,totalTime:h+b,easing:M,subTimeline:u}}class ls{constructor(){this._map=new Map}get(l){return this._map.get(l)||[]}append(l,a){let c=this._map.get(l);c||this._map.set(l,c=[]),c.push(...a)}has(l){return this._map.has(l)}clear(){this._map.clear()}}const Is=new RegExp(":enter","g"),rr=new RegExp(":leave","g");function us(v,l,a,c,h,b=new Map,M=new Map,u,m,p=[]){return(new Do).buildKeyframes(v,l,a,c,h,b,M,u,m,p)}class Do{buildKeyframes(l,a,c,h,b,M,u,m,p,F=[]){p=p||new ls;const _=new io(l,a,p,h,b,F,[]);_.options=m;const S=m.delay?ur(m.delay):0;_.currentTimeline.delayNextStep(S),_.currentTimeline.setStyles([M],null,_.errors,m),B(this,c,_);const x=_.timelines.filter(z=>z.containsAnimation());if(x.length&&u.size){let z;for(let U=x.length-1;U>=0;U--){const Ee=x[U];if(Ee.element===a){z=Ee;break}}z&&!z.allowOnlyTimelineStyles()&&z.setStyles([u],null,_.errors,m)}return x.length?x.map(z=>z.buildKeyframes()):[vi(a,[],[],[],0,S,"",!1)]}visitTrigger(l,a){}visitState(l,a){}visitTransition(l,a){}visitAnimateChild(l,a){const c=a.subInstructions.get(a.element);if(c){const h=a.createSubContext(l.options),b=a.currentTimeline.currentTime,M=this._visitSubInstructions(c,h,h.options);b!=M&&a.transformIntoNewTimeline(M)}a.previousNode=l}visitAnimateRef(l,a){const c=a.createSubContext(l.options);c.transformIntoNewTimeline(),this._applyAnimationRefDelays([l.options,l.animation.options],a,c),this.visitReference(l.animation,c),a.transformIntoNewTimeline(c.currentTimeline.currentTime),a.previousNode=l}_applyAnimationRefDelays(l,a,c){for(const h of l){const b=h?.delay;if(b){const M="number"==typeof b?b:ur(Cr(b,h?.params??{},a.errors));c.delayNextStep(M)}}}_visitSubInstructions(l,a,c){let b=a.currentTimeline.currentTime;const M=null!=c.duration?ur(c.duration):null,u=null!=c.delay?ur(c.delay):null;return 0!==M&&l.forEach(m=>{const p=a.appendInstructionToTimeline(m,M,u);b=Math.max(b,p.duration+p.delay)}),b}visitReference(l,a){a.updateOptions(l.options,!0),B(this,l.animation,a),a.previousNode=l}visitSequence(l,a){const c=a.subContextCount;let h=a;const b=l.options;if(b&&(b.params||b.delay)&&(h=a.createSubContext(b),h.transformIntoNewTimeline(),null!=b.delay)){h.previousNode.type==O.Style&&(h.currentTimeline.snapshotCurrentStyles(),h.previousNode=Nr);const M=ur(b.delay);h.delayNextStep(M)}l.steps.length&&(l.steps.forEach(M=>B(this,M,h)),h.currentTimeline.applyStylesToKeyframe(),h.subContextCount>c&&h.transformIntoNewTimeline()),a.previousNode=l}visitGroup(l,a){const c=[];let h=a.currentTimeline.currentTime;const b=l.options&&l.options.delay?ur(l.options.delay):0;l.steps.forEach(M=>{const u=a.createSubContext(l.options);b&&u.delayNextStep(b),B(this,M,u),h=Math.max(h,u.currentTimeline.currentTime),c.push(u.currentTimeline)}),c.forEach(M=>a.currentTimeline.mergeTimelineCollectedStyles(M)),a.transformIntoNewTimeline(h),a.previousNode=l}_visitTiming(l,a){if(l.dynamic){const c=l.strValue;return wr(a.params?Cr(c,a.params,a.errors):c,a.errors)}return{duration:l.duration,delay:l.delay,easing:l.easing}}visitAnimate(l,a){const c=a.currentAnimateTimings=this._visitTiming(l.timings,a),h=a.currentTimeline;c.delay&&(a.incrementTime(c.delay),h.snapshotCurrentStyles());const b=l.style;b.type==O.Keyframes?this.visitKeyframes(b,a):(a.incrementTime(c.duration),this.visitStyle(b,a),h.applyStylesToKeyframe()),a.currentAnimateTimings=null,a.previousNode=l}visitStyle(l,a){const c=a.currentTimeline,h=a.currentAnimateTimings;!h&&c.hasCurrentStyleProperties()&&c.forwardFrame();const b=h&&h.easing||l.easing;l.isEmptyStep?c.applyEmptyStep(b):c.setStyles(l.styles,b,a.errors,a.options),a.previousNode=l}visitKeyframes(l,a){const c=a.currentAnimateTimings,h=a.currentTimeline.duration,b=c.duration,u=a.createSubContext().currentTimeline;u.easing=c.easing,l.styles.forEach(m=>{u.forwardTime((m.offset||0)*b),u.setStyles(m.styles,m.easing,a.errors,a.options),u.applyStylesToKeyframe()}),a.currentTimeline.mergeTimelineCollectedStyles(u),a.transformIntoNewTimeline(h+b),a.previousNode=l}visitQuery(l,a){const c=a.currentTimeline.currentTime,h=l.options||{},b=h.delay?ur(h.delay):0;b&&(a.previousNode.type===O.Style||0==c&&a.currentTimeline.hasCurrentStyleProperties())&&(a.currentTimeline.snapshotCurrentStyles(),a.previousNode=Nr);let M=c;const u=a.invokeQuery(l.selector,l.originalSelector,l.limit,l.includeSelf,!!h.optional,a.errors);a.currentQueryTotal=u.length;let m=null;u.forEach((p,F)=>{a.currentQueryIndex=F;const _=a.createSubContext(l.options,p);b&&_.delayNextStep(b),p===a.element&&(m=_.currentTimeline),B(this,l.animation,_),_.currentTimeline.applyStylesToKeyframe(),M=Math.max(M,_.currentTimeline.currentTime)}),a.currentQueryIndex=0,a.currentQueryTotal=0,a.transformIntoNewTimeline(M),m&&(a.currentTimeline.mergeTimelineCollectedStyles(m),a.currentTimeline.snapshotCurrentStyles()),a.previousNode=l}visitStagger(l,a){const c=a.parentContext,h=a.currentTimeline,b=l.timings,M=Math.abs(b.duration),u=M*(a.currentQueryTotal-1);let m=M*a.currentQueryIndex;switch(b.duration<0?"reverse":b.easing){case"reverse":m=u-m;break;case"full":m=c.currentStaggerTime}const F=a.currentTimeline;m&&F.delayNextStep(m);const _=F.currentTime;B(this,l.animation,a),a.previousNode=l,c.currentStaggerTime=h.currentTime-_+(h.startTime-c.currentTimeline.startTime)}}const Nr={};class io{constructor(l,a,c,h,b,M,u,m){this._driver=l,this.element=a,this.subInstructions=c,this._enterClassName=h,this._leaveClassName=b,this.errors=M,this.timelines=u,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Nr,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=m||new pr(this._driver,a,0),u.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(l,a){if(!l)return;const c=l;let h=this.options;null!=c.duration&&(h.duration=ur(c.duration)),null!=c.delay&&(h.delay=ur(c.delay));const b=c.params;if(b){let M=h.params;M||(M=this.options.params={}),Object.keys(b).forEach(u=>{(!a||!M.hasOwnProperty(u))&&(M[u]=Cr(b[u],M,this.errors))})}}_copyOptions(){const l={};if(this.options){const a=this.options.params;if(a){const c=l.params={};Object.keys(a).forEach(h=>{c[h]=a[h]})}}return l}createSubContext(l=null,a,c){const h=a||this.element,b=new io(this._driver,h,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(h,c||0));return b.previousNode=this.previousNode,b.currentAnimateTimings=this.currentAnimateTimings,b.options=this._copyOptions(),b.updateOptions(l),b.currentQueryIndex=this.currentQueryIndex,b.currentQueryTotal=this.currentQueryTotal,b.parentContext=this,this.subContextCount++,b}transformIntoNewTimeline(l){return this.previousNode=Nr,this.currentTimeline=this.currentTimeline.fork(this.element,l),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(l,a,c){const h={duration:a??l.duration,delay:this.currentTimeline.currentTime+(c??0)+l.delay,easing:""},b=new ds(this._driver,l.element,l.keyframes,l.preStyleProps,l.postStyleProps,h,l.stretchStartingKeyframe);return this.timelines.push(b),h}incrementTime(l){this.currentTimeline.forwardTime(this.currentTimeline.duration+l)}delayNextStep(l){l>0&&this.currentTimeline.delayNextStep(l)}invokeQuery(l,a,c,h,b,M){let u=[];if(h&&u.push(this.element),l.length>0){l=(l=l.replace(Is,"."+this._enterClassName)).replace(rr,"."+this._leaveClassName);let p=this._driver.query(this.element,l,1!=c);0!==c&&(p=c<0?p.slice(p.length+c,p.length):p.slice(0,c)),u.push(...p)}return!b&&0==u.length&&M.push(function ar(){return new e.wOt(3014,!1)}()),u}}class pr{constructor(l,a,c,h){this._driver=l,this.element=a,this.startTime=c,this._elementTimelineStylesLookup=h,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(a),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(a,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(l){const a=1===this._keyframes.size&&this._pendingStyles.size;this.duration||a?(this.forwardTime(this.currentTime+l),a&&this.snapshotCurrentStyles()):this.startTime+=l}fork(l,a){return this.applyStylesToKeyframe(),new pr(this._driver,l,a||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(l){this.applyStylesToKeyframe(),this.duration=l,this._loadKeyframe()}_updateStyle(l,a){this._localTimelineStyles.set(l,a),this._globalTimelineStyles.set(l,a),this._styleSummary.set(l,{time:this.currentTime,value:a})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(l){l&&this._previousKeyframe.set("easing",l);for(let[a,c]of this._globalTimelineStyles)this._backFill.set(a,c||N),this._currentKeyframe.set(a,N);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(l,a,c,h){a&&this._previousKeyframe.set("easing",a);const b=h&&h.params||{},M=function Ir(v,l){const a=new Map;let c;return v.forEach(h=>{if("*"===h){c??=l.keys();for(let b of c)a.set(b,N)}else for(let[b,M]of h)a.set(b,M)}),a}(l,this._globalTimelineStyles);for(let[u,m]of M){const p=Cr(m,b,c);this._pendingStyles.set(u,p),this._localTimelineStyles.has(u)||this._backFill.set(u,this._globalTimelineStyles.get(u)??N),this._updateStyle(u,p)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((l,a)=>{this._currentKeyframe.set(a,l)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((l,a)=>{this._currentKeyframe.has(a)||this._currentKeyframe.set(a,l)}))}snapshotCurrentStyles(){for(let[l,a]of this._localTimelineStyles)this._pendingStyles.set(l,a),this._updateStyle(l,a)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const l=[];for(let a in this._currentKeyframe)l.push(a);return l}mergeTimelineCollectedStyles(l){l._styleSummary.forEach((a,c)=>{const h=this._styleSummary.get(c);(!h||a.time>h.time)&&this._updateStyle(c,a.value)})}buildKeyframes(){this.applyStylesToKeyframe();const l=new Set,a=new Set,c=1===this._keyframes.size&&0===this.duration;let h=[];this._keyframes.forEach((u,m)=>{const p=new Map([...this._backFill,...u]);p.forEach((F,_)=>{"!"===F?l.add(_):F===N&&a.add(_)}),c||p.set("offset",m/this.duration),h.push(p)});const b=[...l.values()],M=[...a.values()];if(c){const u=h[0],m=new Map(u);u.set("offset",0),m.set("offset",1),h=[u,m]}return vi(this.element,h,b,M,this.duration,this.startTime,this.easing,!1)}}class ds extends pr{constructor(l,a,c,h,b,M,u=!1){super(l,a,M.delay),this.keyframes=c,this.preStyleProps=h,this.postStyleProps=b,this._stretchStartingKeyframe=u,this.timings={duration:M.duration,delay:M.delay,easing:M.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let l=this.keyframes,{delay:a,duration:c,easing:h}=this.timings;if(this._stretchStartingKeyframe&&a){const b=[],M=c+a,u=a/M,m=new Map(l[0]);m.set("offset",0),b.push(m);const p=new Map(l[0]);p.set("offset",En(u)),b.push(p);const F=l.length-1;for(let _=1;_<=F;_++){let S=new Map(l[_]);const x=S.get("offset");S.set("offset",En((a+x*c)/M)),b.push(S)}c=M,a=0,h="",l=b}return vi(this.element,l,this.preStyleProps,this.postStyleProps,c,a,h,!0)}}function En(v,l=3){const a=Math.pow(10,l-1);return Math.round(v*a)/a}function Ze(v,l,a,c,h,b,M,u,m,p,F,_,S){return{type:0,element:v,triggerName:l,isRemovalTransition:h,fromState:a,fromStyles:b,toState:c,toStyles:M,timelines:u,queriedElements:m,preStyleProps:p,postStyleProps:F,totalTime:_,errors:S}}const ao={};class Io{constructor(l,a,c){this._triggerName=l,this.ast=a,this._stateStyles=c}match(l,a,c,h){return function Wr(v,l,a,c,h){return v.some(b=>b(l,a,c,h))}(this.ast.matchers,l,a,c,h)}buildStyles(l,a,c){let h=this._stateStyles.get("*");return void 0!==l&&(h=this._stateStyles.get(l?.toString())||h),h?h.buildStyles(a,c):new Map}build(l,a,c,h,b,M,u,m,p,F){const _=[],S=this.ast.options&&this.ast.options.params||ao,z=this.buildStyles(c,u&&u.params||ao,_),U=m&&m.params||ao,Ee=this.buildStyles(h,U,_),Le=new Set,ze=new Map,dt=new Map,rn="void"===h,Sn={params:Ko(U,S),delay:this.ast.options?.delay},Gn=F?[]:us(l,a,this.ast.animation,b,M,z,Ee,Sn,p,_);let gn=0;return Gn.forEach(qn=>{gn=Math.max(qn.duration+qn.delay,gn)}),_.length?Ze(a,this._triggerName,c,h,rn,z,Ee,[],[],ze,dt,gn,_):(Gn.forEach(qn=>{const _s=qn.element,Bo=ct(ze,_s,new Set);qn.preStyleProps.forEach(Us=>Bo.add(Us));const Ml=ct(dt,_s,new Set);qn.postStyleProps.forEach(Us=>Ml.add(Us)),_s!==a&&Le.add(_s)}),Ze(a,this._triggerName,c,h,rn,z,Ee,Gn,[...Le.values()],ze,dt,gn))}}function Ko(v,l){const a={...l};return Object.entries(v).forEach(([c,h])=>{null!=h&&(a[c]=h)}),a}class hs{constructor(l,a,c){this.styles=l,this.defaultParams=a,this.normalizer=c}buildStyles(l,a){const c=new Map,h=Ko(l,this.defaultParams);return this.styles.styles.forEach(b=>{"string"!=typeof b&&b.forEach((M,u)=>{M&&(M=Cr(M,h,a));const m=this.normalizer.normalizePropertyName(u,a);M=this.normalizer.normalizeStyleValue(u,m,M,a),c.set(u,M)})}),c}}class Jo{constructor(l,a,c){this.name=l,this.ast=a,this._normalizer=c,this.transitionFactories=[],this.states=new Map,a.states.forEach(h=>{this.states.set(h.name,new hs(h.style,h.options&&h.options.params||{},c))}),To(this.states,"true","1"),To(this.states,"false","0"),a.transitions.forEach(h=>{this.transitionFactories.push(new Io(l,h,this.states))}),this.fallbackTransition=function ki(v,l){return new Io(v,{type:O.Transition,animation:{type:O.Sequence,steps:[],options:null},matchers:[(M,u)=>!0],options:null,queryCount:0,depCount:0},l)}(l,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(l,a,c,h){return this.transitionFactories.find(M=>M.match(l,a,c,h))||null}matchStyles(l,a,c){return this.fallbackTransition.buildStyles(l,a,c)}}function To(v,l,a){v.has(l)?v.has(a)||v.set(a,v.get(l)):v.has(a)&&v.set(l,v.get(a))}const Ts=new ls;class Tr{constructor(l,a,c){this.bodyNode=l,this._driver=a,this._normalizer=c,this._animations=new Map,this._playersById=new Map,this.players=[]}register(l,a){const c=[],b=Co(this._driver,a,c,[]);if(c.length)throw function br(){return new e.wOt(3503,!1)}();this._animations.set(l,b)}_buildPlayer(l,a,c){const h=l.element,b=Zt(this._normalizer,l.keyframes,a,c);return this._driver.animate(h,b,l.duration,l.delay,l.easing,[],!0)}create(l,a,c={}){const h=[],b=this._animations.get(l);let M;const u=new Map;if(b?(M=us(this._driver,a,b,Cs,bo,new Map,new Map,c,Ts,h),M.forEach(F=>{const _=ct(u,F.element,new Map);F.postStyleProps.forEach(S=>_.set(S,null))})):(h.push(function Hr(){return new e.wOt(3300,!1)}()),M=[]),h.length)throw function jr(){return new e.wOt(3504,!1)}();u.forEach((F,_)=>{F.forEach((S,x)=>{F.set(x,this._driver.computeStyle(_,x,N))})});const p=On(M.map(F=>{const _=u.get(F.element);return this._buildPlayer(F,new Map,_)}));return this._playersById.set(l,p),p.onDestroy(()=>this.destroy(l)),this.players.push(p),p}destroy(l){const a=this._getPlayer(l);a.destroy(),this._playersById.delete(l);const c=this.players.indexOf(a);c>=0&&this.players.splice(c,1)}_getPlayer(l){const a=this._playersById.get(l);if(!a)throw function yi(){return new e.wOt(3301,!1)}();return a}listen(l,a,c,h){const b=Ar(a,"","","");return Ht(this._getPlayer(l),c,b,h),()=>{}}command(l,a,c,h){if("register"==c)return void this.register(l,h[0]);if("create"==c)return void this.create(l,a,h[0]||{});const b=this._getPlayer(l);switch(c){case"play":b.play();break;case"pause":b.pause();break;case"reset":b.reset();break;case"restart":b.restart();break;case"finish":b.finish();break;case"init":b.init();break;case"setPosition":b.setPosition(parseFloat(h[0]));break;case"destroy":this.destroy(l)}}}const qs="ng-animate-queued",Pr="ng-animate-disabled",Mo=[],Ci={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Ks={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Mr="__ng_removed";class Pn{get params(){return this.options.params}constructor(l,a=""){this.namespaceId=a;const c=l&&l.hasOwnProperty("value");if(this.value=function Lr(v){return v??null}(c?l.value:l),c){const{value:b,...M}=l;this.options=M}else this.options={};this.options.params||(this.options.params={})}absorbOptions(l){const a=l.params;if(a){const c=this.options.params;Object.keys(a).forEach(h=>{null==c[h]&&(c[h]=a[h])})}}}const So="void",xo=new Pn(So);class zi{constructor(l,a,c){this.id=l,this.hostElement=a,this._engine=c,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+l,In(a,this._hostClassName)}listen(l,a,c,h){if(!this._triggers.has(a))throw function _r(){return new e.wOt(3302,!1)}();if(null==c||0==c.length)throw function xt(){return new e.wOt(3303,!1)}();if(!function xs(v){return"start"==v||"done"==v}(c))throw function gt(){return new e.wOt(3400,!1)}();const b=ct(this._elementListeners,l,[]),M={name:a,phase:c,callback:h};b.push(M);const u=ct(this._engine.statesByElement,l,new Map);return u.has(a)||(In(l,kn),In(l,kn+"-"+a),u.set(a,xo)),()=>{this._engine.afterFlush(()=>{const m=b.indexOf(M);m>=0&&b.splice(m,1),this._triggers.has(a)||u.delete(a)})}}register(l,a){return!this._triggers.has(l)&&(this._triggers.set(l,a),!0)}_getTrigger(l){const a=this._triggers.get(l);if(!a)throw function $r(){return new e.wOt(3401,!1)}();return a}trigger(l,a,c,h=!0){const b=this._getTrigger(a),M=new hr(this.id,a,l);let u=this._engine.statesByElement.get(l);u||(In(l,kn),In(l,kn+"-"+a),this._engine.statesByElement.set(l,u=new Map));let m=u.get(a);const p=new Pn(c,this.id);if(!(c&&c.hasOwnProperty("value"))&&m&&p.absorbOptions(m.options),u.set(a,p),m||(m=xo),p.value!==So&&m.value===p.value){if(!function Qo(v,l){const a=Object.keys(v),c=Object.keys(l);if(a.length!=c.length)return!1;for(let h=0;h<a.length;h++){const b=a[h];if(!l.hasOwnProperty(b)||v[b]!==l[b])return!1}return!0}(m.params,p.params)){const U=[],Ee=b.matchStyles(m.value,m.params,U),Le=b.matchStyles(p.value,p.params,U);U.length?this._engine.reportError(U):this._engine.afterFlush(()=>{kr(l,Ee),Nn(l,Le)})}return}const S=ct(this._engine.playersByElement,l,[]);S.forEach(U=>{U.namespaceId==this.id&&U.triggerName==a&&U.queued&&U.destroy()});let x=b.matchTransition(m.value,p.value,l,p.params),z=!1;if(!x){if(!h)return;x=b.fallbackTransition,z=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:l,triggerName:a,transition:x,fromState:m,toState:p,player:M,isFallbackTransition:z}),z||(In(l,qs),M.onStart(()=>{or(l,qs)})),M.onDone(()=>{let U=this.players.indexOf(M);U>=0&&this.players.splice(U,1);const Ee=this._engine.playersByElement.get(l);if(Ee){let Le=Ee.indexOf(M);Le>=0&&Ee.splice(Le,1)}}),this.players.push(M),S.push(M),M}deregister(l){this._triggers.delete(l),this._engine.statesByElement.forEach(a=>a.delete(l)),this._elementListeners.forEach((a,c)=>{this._elementListeners.set(c,a.filter(h=>h.name!=l))})}clearElementCache(l){this._engine.statesByElement.delete(l),this._elementListeners.delete(l);const a=this._engine.playersByElement.get(l);a&&(a.forEach(c=>c.destroy()),this._engine.playersByElement.delete(l))}_signalRemovalForInnerTriggers(l,a){const c=this._engine.driver.query(l,rt,!0);c.forEach(h=>{if(h[Mr])return;const b=this._engine.fetchNamespacesByElement(h);b.size?b.forEach(M=>M.triggerLeaveAnimation(h,a,!1,!0)):this.clearElementCache(h)}),this._engine.afterFlushAnimationsDone(()=>c.forEach(h=>this.clearElementCache(h)))}triggerLeaveAnimation(l,a,c,h){const b=this._engine.statesByElement.get(l),M=new Map;if(b){const u=[];if(b.forEach((m,p)=>{if(M.set(p,m.value),this._triggers.has(p)){const F=this.trigger(l,p,So,h);F&&u.push(F)}}),u.length)return this._engine.markElementAsRemoved(this.id,l,!0,a,M),c&&On(u).onDone(()=>this._engine.processLeaveNode(l)),!0}return!1}prepareLeaveAnimationListeners(l){const a=this._elementListeners.get(l),c=this._engine.statesByElement.get(l);if(a&&c){const h=new Set;a.forEach(b=>{const M=b.name;if(h.has(M))return;h.add(M);const m=this._triggers.get(M).fallbackTransition,p=c.get(M)||xo,F=new Pn(So),_=new hr(this.id,M,l);this._engine.totalQueuedPlayers++,this._queue.push({element:l,triggerName:M,transition:m,fromState:p,toState:F,player:_,isFallbackTransition:!0})})}}removeNode(l,a){const c=this._engine;if(l.childElementCount&&this._signalRemovalForInnerTriggers(l,a),this.triggerLeaveAnimation(l,a,!0))return;let h=!1;if(c.totalAnimations){const b=c.players.length?c.playersByQueriedElement.get(l):[];if(b&&b.length)h=!0;else{let M=l;for(;M=M.parentNode;)if(c.statesByElement.get(M)){h=!0;break}}}if(this.prepareLeaveAnimationListeners(l),h)c.markElementAsRemoved(this.id,l,!1,a);else{const b=l[Mr];(!b||b===Ci)&&(c.afterFlush(()=>this.clearElementCache(l)),c.destroyInnerAnimations(l),c._onRemovalComplete(l,a))}}insertNode(l,a){In(l,this._hostClassName)}drainQueuedTransitions(l){const a=[];return this._queue.forEach(c=>{const h=c.player;if(h.destroyed)return;const b=c.element,M=this._elementListeners.get(b);M&&M.forEach(u=>{if(u.name==c.triggerName){const m=Ar(b,c.triggerName,c.fromState.value,c.toState.value);m._data=l,Ht(c.player,u.phase,m,u.callback)}}),h.markedForDestroy?this._engine.afterFlush(()=>{h.destroy()}):a.push(c)}),this._queue=[],a.sort((c,h)=>{const b=c.transition.ast.depCount,M=h.transition.ast.depCount;return 0==b||0==M?b-M:this._engine.driver.containsElement(c.element,h.element)?1:-1})}destroy(l){this.players.forEach(a=>a.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,l)}}class Di{_onRemovalComplete(l,a){this.onRemovalComplete(l,a)}constructor(l,a,c){this.bodyNode=l,this.driver=a,this._normalizer=c,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(h,b)=>{}}get queuedPlayers(){const l=[];return this._namespaceList.forEach(a=>{a.players.forEach(c=>{c.queued&&l.push(c)})}),l}createNamespace(l,a){const c=new zi(l,a,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,a)?this._balanceNamespaceList(c,a):(this.newHostElements.set(a,c),this.collectEnterElement(a)),this._namespaceLookup[l]=c}_balanceNamespaceList(l,a){const c=this._namespaceList,h=this.namespacesByHostElement;if(c.length-1>=0){let M=!1,u=this.driver.getParentElement(a);for(;u;){const m=h.get(u);if(m){const p=c.indexOf(m);c.splice(p+1,0,l),M=!0;break}u=this.driver.getParentElement(u)}M||c.unshift(l)}else c.push(l);return h.set(a,l),l}register(l,a){let c=this._namespaceLookup[l];return c||(c=this.createNamespace(l,a)),c}registerTrigger(l,a,c){let h=this._namespaceLookup[l];h&&h.register(a,c)&&this.totalAnimations++}destroy(l,a){l&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const c=this._fetchNamespace(l);this.namespacesByHostElement.delete(c.hostElement);const h=this._namespaceList.indexOf(c);h>=0&&this._namespaceList.splice(h,1),c.destroy(a),delete this._namespaceLookup[l]}))}_fetchNamespace(l){return this._namespaceLookup[l]}fetchNamespacesByElement(l){const a=new Set,c=this.statesByElement.get(l);if(c)for(let h of c.values())if(h.namespaceId){const b=this._fetchNamespace(h.namespaceId);b&&a.add(b)}return a}trigger(l,a,c,h){if(lo(a)){const b=this._fetchNamespace(l);if(b)return b.trigger(a,c,h),!0}return!1}insertNode(l,a,c,h){if(!lo(a))return;const b=a[Mr];if(b&&b.setForRemoval){b.setForRemoval=!1,b.setForMove=!0;const M=this.collectedLeaveElements.indexOf(a);M>=0&&this.collectedLeaveElements.splice(M,1)}if(l){const M=this._fetchNamespace(l);M&&M.insertNode(a,c)}h&&this.collectEnterElement(a)}collectEnterElement(l){this.collectedEnterElements.push(l)}markElementAsDisabled(l,a){a?this.disabledNodes.has(l)||(this.disabledNodes.add(l),In(l,Pr)):this.disabledNodes.has(l)&&(this.disabledNodes.delete(l),or(l,Pr))}removeNode(l,a,c){if(lo(a)){const h=l?this._fetchNamespace(l):null;h?h.removeNode(a,c):this.markElementAsRemoved(l,a,!1,c);const b=this.namespacesByHostElement.get(a);b&&b.id!==l&&b.removeNode(a,c)}else this._onRemovalComplete(a,c)}markElementAsRemoved(l,a,c,h,b){this.collectedLeaveElements.push(a),a[Mr]={namespaceId:l,setForRemoval:h,hasAnimation:c,removedBeforeQueried:!1,previousTriggersValues:b}}listen(l,a,c,h,b){return lo(a)?this._fetchNamespace(l).listen(a,c,h,b):()=>{}}_buildInstruction(l,a,c,h,b){return l.transition.build(this.driver,l.element,l.fromState.value,l.toState.value,c,h,l.fromState.options,l.toState.options,a,b)}destroyInnerAnimations(l){let a=this.driver.query(l,rt,!0);a.forEach(c=>this.destroyActiveAnimationsForElement(c)),0!=this.playersByQueriedElement.size&&(a=this.driver.query(l,is,!0),a.forEach(c=>this.finishActiveQueriedAnimationOnElement(c)))}destroyActiveAnimationsForElement(l){const a=this.playersByElement.get(l);a&&a.forEach(c=>{c.queued?c.markedForDestroy=!0:c.destroy()})}finishActiveQueriedAnimationOnElement(l){const a=this.playersByQueriedElement.get(l);a&&a.forEach(c=>c.finish())}whenRenderingDone(){return new Promise(l=>{if(this.players.length)return On(this.players).onDone(()=>l());l()})}processLeaveNode(l){const a=l[Mr];if(a&&a.setForRemoval){if(l[Mr]=Ci,a.namespaceId){this.destroyInnerAnimations(l);const c=this._fetchNamespace(a.namespaceId);c&&c.clearElementCache(l)}this._onRemovalComplete(l,a.setForRemoval)}l.classList?.contains(Pr)&&this.markElementAsDisabled(l,!1),this.driver.query(l,".ng-animate-disabled",!0).forEach(c=>{this.markElementAsDisabled(c,!1)})}flush(l=-1){let a=[];if(this.newHostElements.size&&(this.newHostElements.forEach((c,h)=>this._balanceNamespaceList(c,h)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let c=0;c<this.collectedEnterElements.length;c++)In(this.collectedEnterElements[c],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const c=[];try{a=this._flushAnimations(c,l)}finally{for(let h=0;h<c.length;h++)c[h]()}}else for(let c=0;c<this.collectedLeaveElements.length;c++)this.processLeaveNode(this.collectedLeaveElements[c]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(c=>c()),this._flushFns=[],this._whenQuietFns.length){const c=this._whenQuietFns;this._whenQuietFns=[],a.length?On(a).onDone(()=>{c.forEach(h=>h())}):c.forEach(h=>h())}}reportError(l){throw function Kn(){return new e.wOt(3402,!1)}()}_flushAnimations(l,a){const c=new ls,h=[],b=new Map,M=[],u=new Map,m=new Map,p=new Map,F=new Set;this.disabledNodes.forEach(nt=>{F.add(nt);const Be=this.driver.query(nt,".ng-animate-queued",!0);for(let lt=0;lt<Be.length;lt++)F.add(Be[lt])});const _=this.bodyNode,S=Array.from(this.statesByElement.keys()),x=fr(S,this.collectedEnterElements),z=new Map;let U=0;x.forEach((nt,Be)=>{const lt=Cs+U++;z.set(Be,lt),nt.forEach(Ut=>In(Ut,lt))});const Ee=[],Le=new Set,ze=new Set;for(let nt=0;nt<this.collectedLeaveElements.length;nt++){const Be=this.collectedLeaveElements[nt],lt=Be[Mr];lt&&lt.setForRemoval&&(Ee.push(Be),Le.add(Be),lt.hasAnimation?this.driver.query(Be,".ng-star-inserted",!0).forEach(Ut=>Le.add(Ut)):ze.add(Be))}const dt=new Map,rn=fr(S,Array.from(Le));rn.forEach((nt,Be)=>{const lt=bo+U++;dt.set(Be,lt),nt.forEach(Ut=>In(Ut,lt))}),l.push(()=>{x.forEach((nt,Be)=>{const lt=z.get(Be);nt.forEach(Ut=>or(Ut,lt))}),rn.forEach((nt,Be)=>{const lt=dt.get(Be);nt.forEach(Ut=>or(Ut,lt))}),Ee.forEach(nt=>{this.processLeaveNode(nt)})});const Sn=[],Gn=[];for(let nt=this._namespaceList.length-1;nt>=0;nt--)this._namespaceList[nt].drainQueuedTransitions(a).forEach(lt=>{const Ut=lt.player,on=lt.element;if(Sn.push(Ut),this.collectedEnterElements.length){const xr=on[Mr];if(xr&&xr.setForMove){if(xr.previousTriggersValues&&xr.previousTriggersValues.has(lt.triggerName)){const ir=xr.previousTriggersValues.get(lt.triggerName),go=this.statesByElement.get(lt.element);if(go&&go.has(lt.triggerName)){const ma=go.get(lt.triggerName);ma.value=ir,go.set(lt.triggerName,ma)}}return void Ut.destroy()}}const ws=!_||!this.driver.containsElement(_,on),Fr=dt.get(on),Yr=z.get(on),qt=this._buildInstruction(lt,c,Yr,Fr,ws);if(qt.errors&&qt.errors.length)return void Gn.push(qt);if(ws)return Ut.onStart(()=>kr(on,qt.fromStyles)),Ut.onDestroy(()=>Nn(on,qt.toStyles)),void h.push(Ut);if(lt.isFallbackTransition)return Ut.onStart(()=>kr(on,qt.fromStyles)),Ut.onDestroy(()=>Nn(on,qt.toStyles)),void h.push(Ut);const Sl=[];qt.timelines.forEach(xr=>{xr.stretchStartingKeyframe=!0,this.disabledNodes.has(xr.element)||Sl.push(xr)}),qt.timelines=Sl,c.append(on,qt.timelines),M.push({instruction:qt,player:Ut,element:on}),qt.queriedElements.forEach(xr=>ct(u,xr,[]).push(Ut)),qt.preStyleProps.forEach((xr,ir)=>{if(xr.size){let go=m.get(ir);go||m.set(ir,go=new Set),xr.forEach((ma,Pa)=>go.add(Pa))}}),qt.postStyleProps.forEach((xr,ir)=>{let go=p.get(ir);go||p.set(ir,go=new Set),xr.forEach((ma,Pa)=>go.add(Pa))})});if(Gn.length){const nt=[];Gn.forEach(Be=>{nt.push(function jt(){return new e.wOt(3505,!1)}())}),Sn.forEach(Be=>Be.destroy()),this.reportError(nt)}const gn=new Map,qn=new Map;M.forEach(nt=>{const Be=nt.element;c.has(Be)&&(qn.set(Be,Be),this._beforeAnimationBuild(nt.player.namespaceId,nt.instruction,gn))}),h.forEach(nt=>{const Be=nt.element;this._getPreviousPlayers(Be,!1,nt.namespaceId,nt.triggerName,null).forEach(Ut=>{ct(gn,Be,[]).push(Ut),Ut.destroy()})});const _s=Ee.filter(nt=>Js(nt,m,p)),Bo=new Map;Gr(Bo,this.driver,ze,p,N).forEach(nt=>{Js(nt,m,p)&&_s.push(nt)});const Us=new Map;x.forEach((nt,Be)=>{Gr(Us,this.driver,new Set(nt),m,"!")}),_s.forEach(nt=>{const Be=Bo.get(nt),lt=Us.get(nt);Bo.set(nt,new Map([...Be?.entries()??[],...lt?.entries()??[]]))});const kc=[],ns=[],Cc={};M.forEach(nt=>{const{element:Be,player:lt,instruction:Ut}=nt;if(c.has(Be)){if(F.has(Be))return lt.onDestroy(()=>Nn(Be,Ut.toStyles)),lt.disabled=!0,lt.overrideTotalTime(Ut.totalTime),void h.push(lt);let on=Cc;if(qn.size>1){let Fr=Be;const Yr=[];for(;Fr=Fr.parentNode;){const qt=qn.get(Fr);if(qt){on=qt;break}Yr.push(Fr)}Yr.forEach(qt=>qn.set(qt,on))}const ws=this._buildAnimation(lt.namespaceId,Ut,gn,b,Us,Bo);if(lt.setRealPlayer(ws),on===Cc)kc.push(lt);else{const Fr=this.playersByElement.get(on);Fr&&Fr.length&&(lt.parentPlayer=On(Fr)),h.push(lt)}}else kr(Be,Ut.fromStyles),lt.onDestroy(()=>Nn(Be,Ut.toStyles)),ns.push(lt),F.has(Be)&&h.push(lt)}),ns.forEach(nt=>{const Be=b.get(nt.element);if(Be&&Be.length){const lt=On(Be);nt.setRealPlayer(lt)}}),h.forEach(nt=>{nt.parentPlayer?nt.syncPlayerEvents(nt.parentPlayer):nt.destroy()});for(let nt=0;nt<Ee.length;nt++){const Be=Ee[nt],lt=Be[Mr];if(or(Be,bo),lt&&lt.hasAnimation)continue;let Ut=[];if(u.size){let ws=u.get(Be);ws&&ws.length&&Ut.push(...ws);let Fr=this.driver.query(Be,is,!0);for(let Yr=0;Yr<Fr.length;Yr++){let qt=u.get(Fr[Yr]);qt&&qt.length&&Ut.push(...qt)}}const on=Ut.filter(ws=>!ws.destroyed);on.length?qr(this,Be,on):this.processLeaveNode(Be)}return Ee.length=0,kc.forEach(nt=>{this.players.push(nt),nt.onDone(()=>{nt.destroy();const Be=this.players.indexOf(nt);this.players.splice(Be,1)}),nt.play()}),kc}afterFlush(l){this._flushFns.push(l)}afterFlushAnimationsDone(l){this._whenQuietFns.push(l)}_getPreviousPlayers(l,a,c,h,b){let M=[];if(a){const u=this.playersByQueriedElement.get(l);u&&(M=u)}else{const u=this.playersByElement.get(l);if(u){const m=!b||b==So;u.forEach(p=>{p.queued||!m&&p.triggerName!=h||M.push(p)})}}return(c||h)&&(M=M.filter(u=>!(c&&c!=u.namespaceId||h&&h!=u.triggerName))),M}_beforeAnimationBuild(l,a,c){const b=a.element,M=a.isRemovalTransition?void 0:l,u=a.isRemovalTransition?void 0:a.triggerName;for(const m of a.timelines){const p=m.element,F=p!==b,_=ct(c,p,[]);this._getPreviousPlayers(p,F,M,u,a.toState).forEach(x=>{const z=x.getRealPlayer();z.beforeDestroy&&z.beforeDestroy(),x.destroy(),_.push(x)})}kr(b,a.fromStyles)}_buildAnimation(l,a,c,h,b,M){const u=a.triggerName,m=a.element,p=[],F=new Set,_=new Set,S=a.timelines.map(z=>{const U=z.element;F.add(U);const Ee=U[Mr];if(Ee&&Ee.removedBeforeQueried)return new Ve(z.duration,z.delay);const Le=U!==m,ze=function jo(v){const l=[];return ms(v,l),l}((c.get(U)||Mo).map(gn=>gn.getRealPlayer())).filter(gn=>!!gn.element&&gn.element===U),dt=b.get(U),rn=M.get(U),Sn=Zt(this._normalizer,z.keyframes,dt,rn),Gn=this._buildPlayer(z,Sn,ze);if(z.subTimeline&&h&&_.add(U),Le){const gn=new hr(l,u,U);gn.setRealPlayer(Gn),p.push(gn)}return Gn});p.forEach(z=>{ct(this.playersByQueriedElement,z.element,[]).push(z),z.onDone(()=>function Lt(v,l,a){let c=v.get(l);if(c){if(c.length){const h=c.indexOf(a);c.splice(h,1)}0==c.length&&v.delete(l)}return c}(this.playersByQueriedElement,z.element,z))}),F.forEach(z=>In(z,lr));const x=On(S);return x.onDestroy(()=>{F.forEach(z=>or(z,lr)),Nn(m,a.toStyles)}),_.forEach(z=>{ct(h,z,[]).push(x)}),x}_buildPlayer(l,a,c){return a.length>0?this.driver.animate(l.element,a,l.duration,l.delay,l.easing,c):new Ve(l.duration,l.delay)}}class hr{constructor(l,a,c){this.namespaceId=l,this.triggerName=a,this.element=c,this._player=new Ve,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(l){this._containsRealPlayer||(this._player=l,this._queuedCallbacks.forEach((a,c)=>{a.forEach(h=>Ht(l,c,void 0,h))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(l.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(l){this.totalTime=l}syncPlayerEvents(l){const a=this._player;a.triggerCallback&&l.onStart(()=>a.triggerCallback("start")),l.onDone(()=>this.finish()),l.onDestroy(()=>this.destroy())}_queueEvent(l,a){ct(this._queuedCallbacks,l,[]).push(a)}onDone(l){this.queued&&this._queueEvent("done",l),this._player.onDone(l)}onStart(l){this.queued&&this._queueEvent("start",l),this._player.onStart(l)}onDestroy(l){this.queued&&this._queueEvent("destroy",l),this._player.onDestroy(l)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(l){this.queued||this._player.setPosition(l)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(l){const a=this._player;a.triggerCallback&&a.triggerCallback(l)}}function lo(v){return v&&1===v.nodeType}function fs(v,l){const a=v.style.display;return v.style.display=l??"none",a}function Gr(v,l,a,c,h){const b=[];a.forEach(m=>b.push(fs(m)));const M=[];c.forEach((m,p)=>{const F=new Map;m.forEach(_=>{const S=l.computeStyle(p,_,h);F.set(_,S),(!S||0==S.length)&&(p[Mr]=Ks,M.push(p))}),v.set(p,F)});let u=0;return a.forEach(m=>fs(m,b[u++])),M}function fr(v,l){const a=new Map;if(v.forEach(u=>a.set(u,[])),0==l.length)return a;const h=new Set(l),b=new Map;function M(u){if(!u)return 1;let m=b.get(u);if(m)return m;const p=u.parentNode;return m=a.has(p)?p:h.has(p)?1:M(p),b.set(u,m),m}return l.forEach(u=>{const m=M(u);1!==m&&a.get(m).push(u)}),a}function In(v,l){v.classList?.add(l)}function or(v,l){v.classList?.remove(l)}function qr(v,l,a){On(a).onDone(()=>v.processLeaveNode(l))}function ms(v,l){for(let a=0;a<v.length;a++){const c=v[a];c instanceof it?ms(c.players,l):l.push(c)}}function Js(v,l,a){const c=a.get(v);if(!c)return!1;let h=l.get(v);return h?c.forEach(b=>h.add(b)):l.set(v,c),a.delete(v),!0}class Zo{constructor(l,a,c){this._driver=a,this._normalizer=c,this._triggerCache={},this.onRemovalComplete=(h,b)=>{},this._transitionEngine=new Di(l.body,a,c),this._timelineEngine=new Tr(l.body,a,c),this._transitionEngine.onRemovalComplete=(h,b)=>this.onRemovalComplete(h,b)}registerTrigger(l,a,c,h,b){const M=l+"-"+h;let u=this._triggerCache[M];if(!u){const m=[],F=Co(this._driver,b,m,[]);if(m.length)throw function An(){return new e.wOt(3404,!1)}();u=function wi(v,l,a){return new Jo(v,l,a)}(h,F,this._normalizer),this._triggerCache[M]=u}this._transitionEngine.registerTrigger(a,h,u)}register(l,a){this._transitionEngine.register(l,a)}destroy(l,a){this._transitionEngine.destroy(l,a)}onInsert(l,a,c,h){this._transitionEngine.insertNode(l,a,c,h)}onRemove(l,a,c){this._transitionEngine.removeNode(l,a,c)}disableAnimations(l,a){this._transitionEngine.markElementAsDisabled(l,a)}process(l,a,c,h){if("@"==c.charAt(0)){const[b,M]=no(c);this._timelineEngine.command(b,a,M,h)}else this._transitionEngine.trigger(l,a,c,h)}listen(l,a,c,h,b){if("@"==c.charAt(0)){const[M,u]=no(c);return this._timelineEngine.listen(M,a,u,b)}return this._transitionEngine.listen(l,a,c,h,b)}flush(l=-1){this._transitionEngine.flush(l)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(l){this._transitionEngine.afterFlushAnimationsDone(l)}}class Kr{static#e=this.initialStylesByElement=new WeakMap;constructor(l,a,c){this._element=l,this._startStyles=a,this._endStyles=c,this._state=0;let h=Kr.initialStylesByElement.get(l);h||Kr.initialStylesByElement.set(l,h=new Map),this._initialStyles=h}start(){this._state<1&&(this._startStyles&&Nn(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Nn(this._element,this._initialStyles),this._endStyles&&(Nn(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(Kr.initialStylesByElement.delete(this._element),this._startStyles&&(kr(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(kr(this._element,this._endStyles),this._endStyles=null),Nn(this._element,this._initialStyles),this._state=3)}}function js(v){let l=null;return v.forEach((a,c)=>{(function Gt(v){return"display"===v||"position"===v})(c)&&(l=l||new Map,l.set(c,a))}),l}class zn{constructor(l,a,c,h){this.element=l,this.keyframes=a,this.options=c,this._specialStyles=h,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=c.duration,this._delay=c.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(l=>l()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const l=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,l,this.options),this._finalKeyframe=l.length?l[l.length-1]:new Map;const a=()=>this._onFinish();this.domPlayer.addEventListener("finish",a),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",a)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(l){const a=[];return l.forEach(c=>{a.push(Object.fromEntries(c))}),a}_triggerWebAnimation(l,a,c){return l.animate(this._convertKeyframesToObject(a),c)}onStart(l){this._originalOnStartFns.push(l),this._onStartFns.push(l)}onDone(l){this._originalOnDoneFns.push(l),this._onDoneFns.push(l)}onDestroy(l){this._onDestroyFns.push(l)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(l=>l()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(l=>l()),this._onDestroyFns=[])}setPosition(l){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=l*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const l=new Map;this.hasStarted()&&this._finalKeyframe.forEach((c,h)=>{"offset"!==h&&l.set(h,this._finished?c:ce(this.element,h))}),this.currentSnapshot=l}triggerCallback(l){const a="start"===l?this._onStartFns:this._onDoneFns;a.forEach(c=>c()),a.length=0}}class Qs{validateStyleProperty(l){return!0}validateAnimatableStyleProperty(l){return!0}containsElement(l,a){return ye(l,a)}getParentElement(l){return zr(l)}query(l,a,c){return $e(l,a,c)}computeStyle(l,a,c){return ce(l,a)}animate(l,a,c,h,b,M=[]){const m={duration:c,delay:h,fill:0==h?"both":"forwards"};b&&(m.easing=b);const p=new Map,F=M.filter(x=>x instanceof zn);(function A(v,l){return 0===v||0===l})(c,h)&&F.forEach(x=>{x.currentSnapshot.forEach((z,U)=>p.set(U,z))});let _=function _o(v){return v.length?v[0]instanceof Map?v:v.map(l=>new Map(Object.entries(l))):[]}(a).map(x=>new Map(x));_=function H(v,l,a){if(a.size&&l.length){let c=l[0],h=[];if(a.forEach((b,M)=>{c.has(M)||h.push(M),c.set(M,b)}),h.length)for(let b=1;b<l.length;b++){let M=l[b];h.forEach(u=>M.set(u,ce(v,u)))}}return l}(l,_,p);const S=function Wi(v,l){let a=null,c=null;return Array.isArray(l)&&l.length?(a=js(l[0]),l.length>1&&(c=js(l[l.length-1]))):l instanceof Map&&(a=js(l)),a||c?new Kr(v,a,c):null}(l,_);return new zn(l,_,m,S)}}const Gi="@.disabled";class qi{constructor(l,a,c,h){this.namespaceId=l,this.delegate=a,this.engine=c,this._onDestroy=h,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(l){this.delegate.destroyNode?.(l)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(l,a){return this.delegate.createElement(l,a)}createComment(l){return this.delegate.createComment(l)}createText(l){return this.delegate.createText(l)}appendChild(l,a){this.delegate.appendChild(l,a),this.engine.onInsert(this.namespaceId,a,l,!1)}insertBefore(l,a,c,h=!0){this.delegate.insertBefore(l,a,c),this.engine.onInsert(this.namespaceId,a,l,h)}removeChild(l,a,c){this.parentNode(a)&&this.engine.onRemove(this.namespaceId,a,this.delegate)}selectRootElement(l,a){return this.delegate.selectRootElement(l,a)}parentNode(l){return this.delegate.parentNode(l)}nextSibling(l){return this.delegate.nextSibling(l)}setAttribute(l,a,c,h){this.delegate.setAttribute(l,a,c,h)}removeAttribute(l,a,c){this.delegate.removeAttribute(l,a,c)}addClass(l,a){this.delegate.addClass(l,a)}removeClass(l,a){this.delegate.removeClass(l,a)}setStyle(l,a,c,h){this.delegate.setStyle(l,a,c,h)}removeStyle(l,a,c){this.delegate.removeStyle(l,a,c)}setProperty(l,a,c){"@"==a.charAt(0)&&a==Gi?this.disableAnimations(l,!!c):this.delegate.setProperty(l,a,c)}setValue(l,a){this.delegate.setValue(l,a)}listen(l,a,c){return this.delegate.listen(l,a,c)}disableAnimations(l,a){this.engine.disableAnimations(l,a)}}class Ti extends qi{constructor(l,a,c,h,b){super(a,c,h,b),this.factory=l,this.namespaceId=a}setProperty(l,a,c){"@"==a.charAt(0)?"."==a.charAt(1)&&a==Gi?this.disableAnimations(l,c=void 0===c||!!c):this.engine.process(this.namespaceId,l,a.slice(1),c):this.delegate.setProperty(l,a,c)}listen(l,a,c){if("@"==a.charAt(0)){const h=function la(v){switch(v){case"body":return document.body;case"document":return document;case"window":return window;default:return v}}(l);let b=a.slice(1),M="";return"@"!=b.charAt(0)&&([b,M]=function ua(v){const l=v.indexOf(".");return[v.substring(0,l),v.slice(l+1)]}(b)),this.engine.listen(this.namespaceId,h,b,M,u=>{this.factory.scheduleListenerCallback(u._data||-1,c,u)})}return this.delegate.listen(l,a,c)}}class da{constructor(l,a,c){this.delegate=l,this.engine=a,this._zone=c,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,a.onRemovalComplete=(h,b)=>{b?.removeChild(null,h)}}createRenderer(l,a){const h=this.delegate.createRenderer(l,a);if(!l||!a?.data?.animation){const p=this._rendererCache;let F=p.get(h);return F||(F=new qi("",h,this.engine,()=>p.delete(h)),p.set(h,F)),F}const b=a.id,M=a.id+"-"+this._currentId;this._currentId++,this.engine.register(M,l);const u=p=>{Array.isArray(p)?p.forEach(u):this.engine.registerTrigger(b,M,l,p.name,p)};return a.data.animation.forEach(u),new Ti(this,M,h,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(l,a,c){if(l>=0&&l<this._microtaskId)return void this._zone.run(()=>a(c));const h=this._animationCallbacksBuffer;0==h.length&&queueMicrotask(()=>{this._zone.run(()=>{h.forEach(b=>{const[M,u]=b;M(u)}),this._animationCallbacksBuffer=[]})}),h.push([a,c])}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}var Sr=C(177);const mr=[{provide:Rn,useFactory:function gs(){return new xe}},{provide:Zo,useClass:(()=>{class v extends Zo{constructor(a,c,h){super(a,c,h)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(c){return new(c||v)(e.KVO(Sr.qQ),e.KVO(sn),e.KVO(Rn))};static#t=this.\u0275prov=e.jDH({token:v,factory:v.\u0275fac})}return v})()},{provide:e._9s,useFactory:function uo(v,l,a){return new da(v,l,a)},deps:[g.B7,Zo,e.SKi]}],Xs=[{provide:sn,useFactory:()=>new Qs},{provide:e.bc$,useValue:"BrowserAnimations"},...mr],Ys=[{provide:sn,useClass:ht},{provide:e.bc$,useValue:"NoopAnimations"},...mr];let Ft=(()=>{class v{static withConfig(a){return{ngModule:v,providers:a.disableAnimations?Ys:Xs}}static#e=this.\u0275fac=function(c){return new(c||v)};static#t=this.\u0275mod=e.$C({type:v});static#n=this.\u0275inj=e.G2t({providers:Xs,imports:[g.Bb]})}return v})();var yt=C(685),As=C(8750),Fs=C(1985),ys=C(1397),Mi=C(7441),po=C(8071),Br=C(6450);const ei=["addListener","removeListener"],ti=["addEventListener","removeEventListener"],Si=["on","off"];function Ao(v,l,a,c){if((0,po.T)(a)&&(c=a,a=void 0),c)return Ao(v,l,a).pipe((0,Br.I)(c));const[h,b]=function ni(v){return(0,po.T)(v.addEventListener)&&(0,po.T)(v.removeEventListener)}(v)?ti.map(M=>u=>v[M](l,u,a)):function xi(v){return(0,po.T)(v.addListener)&&(0,po.T)(v.removeListener)}(v)?ei.map(pa(v,l)):function Ji(v){return(0,po.T)(v.on)&&(0,po.T)(v.off)}(v)?Si.map(pa(v,l)):[];if(!h&&(0,Mi.X)(v))return(0,ys.Z)(M=>Ao(M,l,a))((0,As.Tg)(v));if(!h)throw new TypeError("Invalid event target");return new Fs.c(M=>{const u=(...m)=>M.next(1<m.length?m:m[0]);return h(u),()=>b(u)})}function pa(v,l){return a=>c=>v[a](l,c)}var Es=C(5964),ji=C(152);var Qi=C(3888),ri=C(9470);var ho=C(6697);const si=["tocWrapper"];function fn(v,l){if(1&v){const a=e.RV6();e.j41(0,"li")(1,"a",3),e.bIt("click",function(h){const b=e.eBV(a).$implicit,M=e.XpG();return e.Njj(M.navigateToAnchor(h,b.elementRef))}),e.EFF(2),e.k0s()()}if(2&v){const a=l.$implicit,c=l.index,h=e.XpG();e.AVh("current",c===h.activeId),e.BMQ("id",a.id),e.R7$(),e.FCK("href","",h.currentURL(),"#",a.elementRef.id,"",e.B4B),e.R7$(),e.SpI(" ",a.textContent," ")}}let fo=(()=>{class v{cd;renderer;contentReference;headings=[];activeId;tocWrapper;isPositionFixed=!0;scrollTopOffset=100;scrollDebounceTime=10;scrollSubscription;timerSubscription;maxTopOffset;constructor(a,c){this.cd=a,this.renderer=c}ngOnInit(){this.scrollSubscription=Ao(window,"scroll").pipe((0,ji.B)(this.scrollDebounceTime)).subscribe(()=>{this.findCurrentHeading(),this.checkViewportBoundaries()}),this.init(),this.updateOffsetTop()}ngOnChanges(){this.init(),this.updateOffsetTop()}ngOnDestroy(){this.scrollSubscription&&this.scrollSubscription.unsubscribe(),this.timerSubscription&&this.timerSubscription.unsubscribe()}init(){this.lookupHeadings(),this.findCurrentHeading(),this.findMaxTopOffset()}lookupHeadings(){if(!this.contentReference)return;const a=this.contentReference.querySelectorAll("h3, h4"),c=h=>{const b=h&&h.indexOf("#");return b>=0?h.slice(0,b):h};this.headings=Array.from(a).map(h=>({offsetTop:h.offsetTop,textContent:c(h.textContent),elementRef:h}))}updateOffsetTop(){this.timerSubscription=function Ai(v=0,l,a=Qi.b){let c=-1;return null!=l&&((0,ri.m)(l)?a=l:c=l),new Fs.c(h=>{let b=function oi(v){return v instanceof Date&&!isNaN(v)}(v)?+v-a.now():v;b<0&&(b=0);let M=0;return a.schedule(function(){h.closed||(h.next(M++),0<=c?this.schedule(void 0,c):h.complete())},b)})}(600,200).pipe((0,ho.s)(3)).subscribe(()=>this.init())}navigateToAnchor(a,c){c&&this.findCurrentHeading()}findCurrentHeading(){const c=h=>{const b=this.activeId!==h;this.activeId=h,b&&this.cd.markForCheck()};for(let h=0;h<this.headings.length;h++){if(this.headings.length-1===h)return c(h);if(this.headings[h+1].offsetTop>=window.pageYOffset+this.scrollTopOffset+15)return c(h)}}findMaxTopOffset(){if(!this.tocWrapper)return;const{nativeElement:a}=this.tocWrapper,c=document.querySelector(".page-wrapper");c&&a&&(this.maxTopOffset=c.scrollHeight-a.scrollHeight-this.scrollTopOffset)}currentURL(){return window.location.href.split("#")[0]}checkViewportBoundaries(){this.isPositionFixed=this.maxTopOffset>window.pageYOffset;const{nativeElement:a}=this.tocWrapper;this.isPositionFixed?(this.renderer.removeStyle(a,"top"),this.renderer.removeStyle(a,"position")):(this.renderer.setStyle(a,"top",this.maxTopOffset+150+"px"),this.renderer.setStyle(a,"position","absolute"))}trackById(a,c){return c.id}static \u0275fac=function(c){return new(c||v)(e.rXU(e.gRc),e.rXU(e.sFG))};static \u0275cmp=e.VBU({type:v,selectors:[["app-toc"]],viewQuery:function(c,h){if(1&c&&e.GBs(si,7),2&c){let b;e.mGM(b=e.lsd())&&(h.tocWrapper=b.first)}},inputs:{contentReference:"contentReference",headings:"headings"},features:[e.OA$],decls:4,vars:2,consts:[["tocWrapper",""],["perfectScrollbar","",1,"toc-wrapper"],[3,"current",4,"ngFor","ngForOf","ngForTrackBy"],[3,"click","href"]],template:function(c,h){1&c&&(e.j41(0,"div",1,0)(2,"ul"),e.DNE(3,fn,3,7,"li",2),e.k0s()()),2&c&&(e.R7$(3),e.Y8G("ngForOf",h.headings)("ngForTrackBy",h.trackById))},dependencies:[Sr.Sq],styles:['.transition[_ngcontent-%COMP%]{transition:all .2s cubic-bezier(.7,0,.3,1)}.transition-fast[_ngcontent-%COMP%]{transition:all .1s cubic-bezier(.7,0,.3,1)}.transition-slow[_ngcontent-%COMP%]{transition:all .52s cubic-bezier(.7,0,.3,1)}.clearfix[_ngcontent-%COMP%]:before, .clearfix[_ngcontent-%COMP%]:after{content:" ";display:table}.clearfix[_ngcontent-%COMP%]:after{clear:both}.center-element[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%) translateY(-50%)}.center-left[_ngcontent-%COMP%]{position:absolute;left:50%;transform:translate(-50%)}.center-top[_ngcontent-%COMP%]{position:absolute;top:50%;transform:translateY(-50%)}.box-sizing[_ngcontent-%COMP%]{box-sizing:border-box}.toc-wrapper[_ngcontent-%COMP%]{width:250px;padding-left:45px;box-sizing:border-box;position:fixed;top:90px;right:20px;max-height:350px;max-height:calc(100vh - 350px)}@media print{.toc-wrapper[_ngcontent-%COMP%]{display:none}}.toc-wrapper[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{position:relative;padding:0}.toc-wrapper[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]:before{content:"";position:absolute;left:0;top:10px;bottom:10px;width:2px;background:var(--background-4dp)}.toc-wrapper[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:block;position:relative;padding-left:30px;font-size:14px;line-height:24px;margin-bottom:6px}.toc-wrapper[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{color:#ea2845;background:var(--primary-gradient);-webkit-background-clip:text!important;-webkit-text-fill-color:transparent}.toc-wrapper[_ngcontent-%COMP%]   .current[_ngcontent-%COMP%]{color:#ea2845;background:var(--primary-gradient);-webkit-background-clip:text!important;-webkit-text-fill-color:transparent;font-weight:600}.toc-wrapper[_ngcontent-%COMP%]   .current[_ngcontent-%COMP%]:before{background:var(--primary-gradient);border-color:var(--primary-gradient);border-width:1px;left:-3px}.toc-wrapper[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:before{border-radius:50%;transform:translateY(-50%);content:"";background:var(--background);border:2px solid var(--background-4dp);left:-4px;width:6px;height:6px;top:50%;display:inline-block;position:absolute}.toc-wrapper[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-of-type:before{top:auto;bottom:0}.toc-wrapper[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--color);font-weight:400}.toc-wrapper[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#ea2845;background:var(--primary-gradient);-webkit-background-clip:text!important;-webkit-text-fill-color:transparent}.toc-wrapper[_ngcontent-%COMP%]   .current[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-weight:600;color:#ea2845;background:var(--primary-gradient);-webkit-background-clip:text!important;-webkit-text-fill-color:transparent}'],changeDetection:0})}return v})();var vs=C(1844),ha=C(4599);function Oo(v,l){if(1&v){const a=e.RV6();e.j41(0,"span",2),e.bIt("click",function(){e.eBV(a);const h=e.XpG();return e.Njj(h.toggleTheme())}),e.EFF(1," light_mode "),e.k0s()}}function ii(v,l){if(1&v){const a=e.RV6();e.j41(0,"span",2),e.bIt("click",function(){e.eBV(a);const h=e.XpG();return e.Njj(h.toggleTheme())}),e.EFF(1," dark_mode "),e.k0s()}}let Qr=(()=>{class v{document;mediaMatcher;storageService;changeDetector;theme;constructor(a,c,h,b){this.document=a,this.mediaMatcher=c,this.storageService=h,this.changeDetector=b}ngOnInit(){const a=this.mediaMatcher.matchMedia("(prefers-color-scheme: dark)");a.onchange=({matches:b})=>{this.getStoredTheme()||this.setTheme(b?"dark":"light")};const c=a.matches?"dark":"light",h=this.getStoredTheme();this.setTheme(h??c)}toggleTheme(a=!1){const c="dark"===this.theme?"light":"dark";a||this.storageService.set("theme",c),this.setTheme(c)}getStoredTheme(){return this.storageService.get("theme")}setTheme(a){this.theme=a,this.document.documentElement.setAttribute("mode",a),this.changeDetector.detectChanges()}static \u0275fac=function(c){return new(c||v)(e.rXU(Sr.qQ),e.rXU(vs.DY),e.rXU(ha.n),e.rXU(e.gRc))};static \u0275cmp=e.VBU({type:v,selectors:[["app-theme-mode-toggle"]],decls:3,vars:2,consts:[[1,"theme-mode-toggle"],["class","material-icons",3,"click",4,"ngIf"],[1,"material-icons",3,"click"]],template:function(c,h){1&c&&(e.j41(0,"button",0),e.DNE(1,Oo,2,0,"span",1)(2,ii,2,0,"span",1),e.k0s()),2&c&&(e.R7$(),e.Y8G("ngIf","dark"===h.theme),e.R7$(),e.Y8G("ngIf","light"===h.theme))},dependencies:[Sr.bT],styles:['.transition[_ngcontent-%COMP%]{transition:all .2s cubic-bezier(.7,0,.3,1)}.transition-fast[_ngcontent-%COMP%]{transition:all .1s cubic-bezier(.7,0,.3,1)}.transition-slow[_ngcontent-%COMP%]{transition:all .52s cubic-bezier(.7,0,.3,1)}.clearfix[_ngcontent-%COMP%]:before, .clearfix[_ngcontent-%COMP%]:after{content:" ";display:table}.clearfix[_ngcontent-%COMP%]:after{clear:both}.center-element[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%) translateY(-50%)}.center-left[_ngcontent-%COMP%]{position:absolute;left:50%;transform:translate(-50%)}.center-top[_ngcontent-%COMP%], [_nghost-%COMP%]{position:absolute;top:50%;transform:translateY(-50%)}.box-sizing[_ngcontent-%COMP%]{box-sizing:border-box}[_nghost-%COMP%]{position:relative;display:inline-flex;align-items:center;justify-content:center;float:right;padding-right:40px}@media only screen and (max-width : 767px){[_nghost-%COMP%]{padding-right:20px}}@media only screen and (max-width : 480px){[_nghost-%COMP%]{position:absolute;right:20px;padding-right:0}}.theme-mode-toggle[_ngcontent-%COMP%]{border:none;width:auto;overflow:visible;background:transparent;font:inherit;line-height:normal;-webkit-font-smoothing:inherit;-moz-osx-font-smoothing:inherit;-webkit-appearance:none;display:flex;align-items:center;justify-content:center;margin:0 0 0 15px;color:#fff;padding:0 0 0 15px;position:relative}@media only screen and (max-width : 480px){.theme-mode-toggle[_ngcontent-%COMP%]{padding:0;margin:0}}.theme-mode-toggle[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:20px;cursor:pointer;background:var(--primary-gradient);-webkit-background-clip:text!important;-webkit-text-fill-color:transparent}@media only screen and (max-width : 480px){.theme-mode-toggle[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{background:#fff}}.theme-mode-toggle[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]:before{content:"";position:absolute;background:#fff;opacity:.2;left:0;top:2px;bottom:2px;width:2px}.theme-mode-toggle[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]:hover{background:#fff}@media only screen and (max-width : 480px){.theme-mode-toggle[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]:hover{background:var(--primary-gradient);-webkit-background-clip:text!important;-webkit-text-fill-color:transparent}}@media only screen and (max-width : 480px){.theme-mode-toggle[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:24px}.theme-mode-toggle[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]:before{display:none}}']})}return v})(),Ro=(()=>{class v{static \u0275fac=function(c){return new(c||v)};static \u0275cmp=e.VBU({type:v,selectors:[["app-social-wrapper"]],decls:11,vars:0,consts:[[1,"social-wrapper"],["href","https://twitter.com/nestframework","title","Twitter account","target","_blank"],[1,"fa-brands","fa-x-twitter"],["href","https://github.com/nestjs/nest","title","Github repository","target","_blank"],[1,"fa-brands","fa-github"],["href","https://stackoverflow.com/questions/tagged/nestjs","title","Stackoverflow","target","_blank"],[1,"fa-brands","fa-stack-overflow"],["href","https://nestjs.com","title","NestJS - A node.js framework built on top of TypeScript","target","_blank"],[1,"fa","fa-globe"],["href","https://discord.gg/G7Qnnhy","title","Discord","target","_blank","rel","nofollow"],[1,"fa-brands","fa-discord"]],template:function(c,h){1&c&&(e.j41(0,"div",0)(1,"a",1),e.nrm(2,"i",2),e.k0s(),e.j41(3,"a",3),e.nrm(4,"i",4),e.k0s(),e.j41(5,"a",5),e.nrm(6,"i",6),e.k0s(),e.j41(7,"a",7),e.nrm(8,"i",8),e.k0s(),e.j41(9,"a",9),e.nrm(10,"i",10),e.k0s()())},styles:['.transition[_ngcontent-%COMP%]{transition:all .2s cubic-bezier(.7,0,.3,1)}.transition-fast[_ngcontent-%COMP%], .social-wrapper[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{transition:all .1s cubic-bezier(.7,0,.3,1)}.transition-slow[_ngcontent-%COMP%]{transition:all .52s cubic-bezier(.7,0,.3,1)}.clearfix[_ngcontent-%COMP%]:before, .clearfix[_ngcontent-%COMP%]:after{content:" ";display:table}.clearfix[_ngcontent-%COMP%]:after{clear:both}.center-element[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%) translateY(-50%)}.center-left[_ngcontent-%COMP%]{position:absolute;left:50%;transform:translate(-50%)}.center-top[_ngcontent-%COMP%], .social-wrapper[_ngcontent-%COMP%]{position:absolute;top:50%;transform:translateY(-50%)}.box-sizing[_ngcontent-%COMP%]{box-sizing:border-box}@media only screen and (max-width : 480px){[_nghost-%COMP%]{position:absolute;top:50%;right:20px;transform:translateY(-50%)}}.social-wrapper[_ngcontent-%COMP%]{float:right;position:relative;display:flex}.social-wrapper[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:inline-flex;vertical-align:middle;color:#fff;font-size:18px;margin-left:15px;cursor:pointer}.social-wrapper[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .discord-icon[_ngcontent-%COMP%]{fill:#fff;position:relative}.social-wrapper[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .discord-icon[_ngcontent-%COMP%]:hover{fill:var(--primary)}.social-wrapper[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:first-of-type{font-size:20px}.social-wrapper[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--primary)}@media only screen and (max-width : 480px){.social-wrapper[_ngcontent-%COMP%]{top:0;transform:none}.social-wrapper[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:none}}@media print{.social-wrapper[_ngcontent-%COMP%]{display:none}}']})}return v})();const Os=["*"];let ai=(()=>{class v{toggle=new e.bkB;isSidebarOpened=!0;static \u0275fac=function(c){return new(c||v)};static \u0275cmp=e.VBU({type:v,selectors:[["app-header"]],inputs:{isSidebarOpened:"isSidebarOpened"},outputs:{toggle:"toggle"},ngContentSelectors:Os,decls:33,vars:2,consts:[[1,"icon-wrapper",3,"click"],[1,"nav-icon"],[1,"mobile-nav-icon"],["height","512pt","viewBox","0 -27 512 512","width","512pt","xmlns","http://www.w3.org/2000/svg",1,"desktop-nav-icon"],["d","m213.117188 81.011719c6.273437-5.488281 6.910156-15.027344 1.421874-21.300781-5.492187-6.273438-15.027343-6.910157-21.300781-1.421876l-2.597656 2.273438c-6.273437 5.488281-6.910156 15.027344-1.421875 21.300781 2.984375 3.410157 7.164062 5.15625 11.367188 5.15625 3.527343 0 7.070312-1.230469 9.933593-3.734375zm0 0"],["d","m117.898438 120.203125-2.597657 2.273437c-6.273437 5.492188-6.910156 15.027344-1.421875 21.300782 2.984375 3.414062 7.164063 5.15625 11.367188 5.15625 3.527344 0 7.070312-1.226563 9.933594-3.730469l2.597656-2.273437c6.273437-5.492188 6.910156-15.027344 1.421875-21.300782-5.488281-6.277344-15.027344-6.914062-21.300781-1.425781zm0 0"],["d","m216.179688 121.503906-2.597657 2.273438c-6.269531 5.492187-6.90625 15.027344-1.417969 21.300781 2.984376 3.414063 7.164063 5.15625 11.367188 5.15625 3.527344 0 7.070312-1.230469 9.933594-3.738281l2.597656-2.273438c6.273438-5.488281 6.910156-15.027344 1.417969-21.300781-5.488281-6.273437-15.023438-6.90625-21.300781-1.417969zm0 0"],["d","m315.523438 70.039062.253906-3.441406c.609375-8.316406-5.636719-15.550781-13.949219-16.160156s-15.550781 5.636719-16.160156 13.949219l-.253907 3.441406c-.609374 8.316406 5.636719 15.550781 13.949219 16.160156.375.027344.75.042969 1.121094.042969 7.835937 0 14.457031-6.054688 15.039063-13.992188zm0 0"],["d","m403.570312 96.273438c-5.109374-6.589844-14.589843-7.789063-21.179687-2.683594-6.589844 5.109375-7.789063 14.589844-2.683594 21.179687l2.117188 2.730469c2.976562 3.835938 7.433593 5.847656 11.941406 5.847656 3.230469 0 6.484375-1.035156 9.238281-3.167968 6.585938-5.105469 7.789063-14.589844 2.679688-21.179688zm0 0"],["d","m325.449219 118.675781c-8.308594-.628906-15.550781 5.632813-16.164063 13.945313l-.253906 3.441406c-.613281 8.316406 5.632812 15.550781 13.945312 16.164062.378907.027344.753907.042969 1.125.042969 7.832032 0 14.453126-6.050781 15.039063-13.988281l.253906-3.441406c.613281-8.316406-5.632812-15.550782-13.945312-16.164063zm0 0"],["d","m479.355469 183.492188v-22.644532c0-88.691406-72.15625-160.847656-160.847657-160.847656h-116.597656c-88.691406 0-160.847656 72.15625-160.847656 160.847656v19.882813c-23.519531 5.632812-41.0625 26.820312-41.0625 52.039062v3.253907c0 25.21875 17.542969 46.40625 41.0625 52.039062v26.367188c0 3.339843.507812 6.597656 1.441406 9.6875v2.667968c0 72.097656 58.652344 130.75 130.75 130.75h175.351563c72.097656 0 130.75-58.652344 130.75-130.75v-41.484375c19.167969-8.152343 32.644531-27.171875 32.644531-49.277343v-3.253907c0-22.109375-13.476562-41.125-32.644531-49.277343zm-408.101563-22.644532c0-72.046875 58.609375-130.65625 130.65625-130.65625h116.597656c72.046876 0 130.65625 58.609375 130.65625 130.65625v18.402344h-377.910156zm377.910156 165.9375c0 4.710938-3.179687 7-4.546874 7.765625-1.378907.769531-5.023438 2.296875-9.082032-.191406-1.34375-.824219-2.664062-1.664063-3.980468-2.503906-10.746094-6.835938-24.117188-15.347657-48.917969-15.347657-24.804688 0-38.175781 8.507813-48.917969 15.347657-9.328125 5.9375-16.699219 10.628906-32.707031 10.628906-16.007813 0-23.375-4.6875-32.703125-10.628906-10.746094-6.835938-24.113282-15.347657-48.917969-15.347657-24.800781 0-38.171875 8.511719-48.914063 15.347657-9.328124 5.9375-16.695312 10.628906-32.703124 10.628906-16.003907 0-23.375-4.6875-32.699219-10.628906-7.894531-5.023438-16.839844-10.714844-30.464844-13.5625-1.425781-.296875-2.53125-1.210938-3.042969-2.394531-.03125-.078126-.058594-.160157-.09375-.238282-.136718-.390625-.21875-.800781-.21875-1.230468v-24.886719h377.910156zm-100.558593 100.558594h-175.355469c-47.492188 0-87.398438-33.097656-97.871094-77.4375 4.75 1.863281 8.773438 4.421875 13.480469 7.417969 10.742187 6.839843 24.113281 15.351562 48.914063 15.351562 24.800781 0 38.171874-8.511719 48.914062-15.351562 9.328125-5.9375 16.695312-10.628907 32.703125-10.628907s23.375 4.691407 32.703125 10.628907c10.746094 6.839843 24.113281 15.351562 48.917969 15.351562 24.800781 0 38.171875-8.511719 48.917969-15.351562 9.328124-5.9375 16.695312-10.628907 32.703124-10.628907 16.007813 0 23.378907 4.691407 32.707032 10.628907 1.460937.929687 2.917968 1.859375 4.40625 2.769531 6.667968 4.089844 14.089844 6.027344 21.488281 5.828125-15.292969 36.0625-51.054687 61.421875-92.628906 61.421875zm133.203125-191.320312c0 12.863281-10.464844 23.328124-23.328125 23.328124h-404.960938c-12.863281 0-23.328125-10.464843-23.328125-23.328124v-3.253907c0-12.863281 10.464844-23.328125 23.328125-23.328125h404.960938c12.863281 0 23.328125 10.464844 23.328125 23.328125zm0 0"],[1,"menu-wrapper"],["id","search",1,"search-wrapper"],["href","https://courses.nestjs.com","target","_blank","title","Courses | NestJS - A node.js framework built on top of TypeScript"],["href","https://enterprise.nestjs.com","target","_blank","title","Enterprise | NestJS - A node.js framework built on top of TypeScript"],["href","https://devtools.nestjs.com","target","_blank","title","Devtools | NestJS - A node.js framework built on top of TypeScript"],[1,"new"],["href","https://mau.nestjs.com","target","_blank","title","Deploy Nest | NestJS - A node.js framework built on top of TypeScript"]],template:function(c,h){1&c&&(e.NAR(),e.j41(0,"header")(1,"button",0),e.bIt("click",function(){return h.toggle.emit()}),e.j41(2,"div",1)(3,"div",2),e.nrm(4,"span"),e.k0s(),e.qSk(),e.j41(5,"svg",3),e.nrm(6,"path",4)(7,"path",5)(8,"path",6)(9,"path",7)(10,"path",8)(11,"path",9)(12,"path",10),e.k0s()()(),e.SdG(13),e.joV(),e.nrm(14,"app-theme-mode-toggle")(15,"app-social-wrapper"),e.j41(16,"div",11),e.nrm(17,"div",12),e.j41(18,"ul")(19,"li")(20,"a",13),e.EFF(21,"Courses"),e.k0s()(),e.j41(22,"li")(23,"a",14),e.EFF(24,"Enterprise"),e.k0s()(),e.j41(25,"li")(26,"a",15)(27,"span",16),e.EFF(28,"NEW"),e.k0s(),e.EFF(29," Devtools"),e.k0s()(),e.j41(30,"li")(31,"a",17),e.EFF(32,"Deploy with Mau "),e.k0s()()()()()),2&c&&(e.R7$(),e.AVh("opened",h.isSidebarOpened))},dependencies:[Qr,Ro],styles:['.transition[_ngcontent-%COMP%], .icon-wrapper[_ngcontent-%COMP%]{transition:all .2s cubic-bezier(.7,0,.3,1)}.transition-fast[_ngcontent-%COMP%], .menu-wrapper[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{transition:all .1s cubic-bezier(.7,0,.3,1)}.transition-slow[_ngcontent-%COMP%]{transition:all .52s cubic-bezier(.7,0,.3,1)}.clearfix[_ngcontent-%COMP%]:before, .clearfix[_ngcontent-%COMP%]:after{content:" ";display:table}.clearfix[_ngcontent-%COMP%]:after{clear:both}.center-element[_ngcontent-%COMP%], .icon-wrapper[_ngcontent-%COMP%]   .nav-icon[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%) translateY(-50%)}.center-left[_ngcontent-%COMP%]{position:absolute;left:50%;transform:translate(-50%)}.center-top[_ngcontent-%COMP%], .menu-wrapper[_ngcontent-%COMP%]{position:absolute;top:50%;transform:translateY(-50%)}.box-sizing[_ngcontent-%COMP%]{box-sizing:border-box}[_nghost-%COMP%]{background:var(--header-background);display:block;position:fixed;z-index:10000;width:100%;height:70px}@media print{[_nghost-%COMP%]{position:relative}}.top-bar[_ngcontent-%COMP%]{background:#0a0a0a;text-align:center;height:35px;padding:4px;letter-spacing:.2px;box-sizing:border-box}.top-bar[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin:0}.top-bar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;font-weight:600;font-size:18px}@media only screen and (max-width : 480px){.top-bar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:15px}}.new[_ngcontent-%COMP%]{background:var(--primary-gradient);font-size:11px;padding:2px 4px;border-radius:2px;margin-right:2px;-webkit-text-fill-color:#fff}header[_ngcontent-%COMP%]{display:block;position:relative;background:var(--header-background);width:100%;height:70px;z-index:10000}.icon-wrapper[_ngcontent-%COMP%]{height:100%;width:80px;top:0;bottom:0;display:inline-block;position:relative;z-index:10000;border:none;background:transparent}.icon-wrapper[_ngcontent-%COMP%]:hover{cursor:pointer;background:#212121}.icon-wrapper.opened[_ngcontent-%COMP%]{width:250px}@media only screen and (max-width: 1200px){.icon-wrapper.opened[_ngcontent-%COMP%]{width:250px}}@media only screen and (max-width: 991px){.icon-wrapper.opened[_ngcontent-%COMP%]{width:80px}}.icon-wrapper[_ngcontent-%COMP%]   .nav-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:30px;height:30px;fill:#fff}@media only screen and (max-width : 767px){.icon-wrapper[_ngcontent-%COMP%]{background:transparent}}@media print{.icon-wrapper[_ngcontent-%COMP%]{display:none}}[_nghost-%COMP%]     .logo-wrapper{display:inline-block;height:100%;text-align:center;vertical-align:top;padding-left:85px}@media only screen and (max-width: 1200px){[_nghost-%COMP%]     .logo-wrapper{padding-left:15px}}@media only screen and (max-width : 767px){[_nghost-%COMP%]     .logo-wrapper{padding-left:10px}}[_nghost-%COMP%]     .logo-wrapper a{display:inline-block;padding-top:10px}@media print{[_nghost-%COMP%]     .logo-wrapper{left:50%;position:relative;transform:translate(-50%);padding:0}}.menu-wrapper[_ngcontent-%COMP%]{position:relative;float:right;padding:14px 25px}@media (min-width: 1500px){.menu-wrapper[_ngcontent-%COMP%]{margin-right:30px}}@media (max-width: 1499px){.menu-wrapper[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:first-of-type{display:none}.menu-wrapper[_ngcontent-%COMP%]   .search-wrapper[_ngcontent-%COMP%]{margin-right:0}}@media (max-width: 1350px){.menu-wrapper[_ngcontent-%COMP%]{padding:14px 5px}.menu-wrapper[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-of-type(3){display:none}}@media (max-width: 1150px){.menu-wrapper[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:none!important}}@media (max-width: 600px){.menu-wrapper[_ngcontent-%COMP%]   .search-wrapper[_ngcontent-%COMP%]{display:none}}@media only screen and (max-width: 1200px){.menu-wrapper[_ngcontent-%COMP%]{margin-right:0;padding:14px 5px}}@media only screen and (max-width: 991px){.menu-wrapper[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:none!important}}@media only screen and (max-width : 480px){.menu-wrapper[_ngcontent-%COMP%]   .search-wrapper[_ngcontent-%COMP%]{display:none}}.menu-wrapper[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle;padding:0}.menu-wrapper[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle;margin-left:30px}.menu-wrapper[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:first-of-type{margin-left:0}.menu-wrapper[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-of-type   a[_ngcontent-%COMP%]{border-radius:2px;transition:none;padding:4px 6px;background:var(--primary-gradient)}.menu-wrapper[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-of-type   a[_ngcontent-%COMP%]:hover{background:#262626}@media only screen and (max-width: 1200px){.menu-wrapper[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-left:20px}}.menu-wrapper[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-transform:uppercase;font-size:14px;font-weight:600}.menu-wrapper[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--primary-4dp)}@media print{.menu-wrapper[_ngcontent-%COMP%]{display:none}}.workshop-wrapper[_ngcontent-%COMP%]{float:right;padding:14px 25px}@media only screen and (max-width : 767px){.workshop-wrapper[_ngcontent-%COMP%]{padding:23px 15px}}@media only screen and (max-width : 480px){.workshop-wrapper[_ngcontent-%COMP%]{display:none}}.workshop-wrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-right:10px;width:55px}@media only screen and (max-width : 767px){.workshop-wrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:none!important}}.workshop-wrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .workshop-wrapper[_ngcontent-%COMP%]   .workshop-info[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle}.workshop-wrapper[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:15px;font-weight:400;color:#fff;margin:0}.workshop-wrapper[_ngcontent-%COMP%]   .short-title[_ngcontent-%COMP%]{display:none}@media only screen and (max-width : 767px){.workshop-wrapper[_ngcontent-%COMP%]   .short-title[_ngcontent-%COMP%]{display:block}}@media only screen and (max-width : 767px){.workshop-wrapper[_ngcontent-%COMP%]   .long-title[_ngcontent-%COMP%]{display:none}}.workshop-wrapper[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#03a9f4;font-weight:600;font-size:12px;position:relative}.workshop-wrapper[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--primary)}.workshop-wrapper[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover:after{background:var(--primary)}.workshop-wrapper[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:after{content:"";display:block;background:#246081;height:2px;left:0;right:0;bottom:-1px;position:absolute}.workshop-wrapper[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block;padding:1px 2px;font-weight:700;background:linear-gradient(#ee2943,#d31e5a)}@media (max-width: 480px){.workshop-wrapper[_ngcontent-%COMP%]{display:none}[_nghost-%COMP%]     .logo-wrapper{width:100%}.icon-wrapper[_ngcontent-%COMP%]{position:absolute}}.fa-stack-overflow[_ngcontent-%COMP%]{font-size:18px}.mobile-nav-icon[_ngcontent-%COMP%]{display:none;width:25px;margin-top:5px;cursor:pointer}@media only screen and (max-width: 1200px){.mobile-nav-icon[_ngcontent-%COMP%]{display:inline-block}}.mobile-nav-icon[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .mobile-nav-icon[_ngcontent-%COMP%]:after, .mobile-nav-icon[_ngcontent-%COMP%]:before{content:"";background:#fff;display:block;height:2px;width:100%}.mobile-nav-icon[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin:6px 0}@media only screen and (max-width: 1200px){.desktop-nav-icon[_ngcontent-%COMP%]{display:none}}.search-wrapper[_ngcontent-%COMP%]{margin-right:2em;height:100%;display:inline-block;position:relative}.search-icon[_ngcontent-%COMP%], [_nghost-%COMP%]     .DocSearch-Search-Icon{position:absolute;margin-top:7px;color:#a5a5a5!important;font-size:14px;width:14px}@media (max-width: 1150px){[_nghost-%COMP%]     .DocSearch-Search-Icon{margin-top:0}}.search-input[_ngcontent-%COMP%],   .DocSearch-Button{background:transparent;border:0;border-bottom:2px solid #414141;padding:5px 20px 5px 28px;color:#fff;font-family:Source Sans Pro,Helvetica Neue,sans-serif;font-display:swap;font-size:14px;outline:0!important;transition:all 90ms ease-in-out;width:215px}.search-input[_ngcontent-%COMP%]:active, .search-input[_ngcontent-%COMP%]:focus,   .DocSearch-Button:active,   .DocSearch-Button:focus{border-bottom-color:var(--primary);width:190px}@media (max-width: 1300px){.search-input[_ngcontent-%COMP%],   .DocSearch-Button{width:190px}}  .DocSearch-Button:hover,   .DocSearch-Button:active   .DocSearch-Button:focus{border-bottom-color:#ea2845;width:240px}@media (min-width: 1200px) and (max-width: 1300px){  .DocSearch-Button:hover,   .DocSearch-Button:active   .DocSearch-Button:focus{width:190px}}@media (max-width: 680px){  .DocSearch-Button:hover,   .DocSearch-Button:active   .DocSearch-Button:focus{width:190px}}.search-input[_ngcontent-%COMP%]::placeholder{color:#a5a5a5;opacity:1}  .DocSearch-Button{border-radius:0;color:#a5a5a5;padding:5px}  .DocSearch-Button-Placeholder{padding-left:30px;font-size:14px;margin-top:7px;display:block!important}@media (max-width: 1150px){  .DocSearch-Button-Placeholder{margin-top:0}}  .DocSearch-Button-Keys{display:none}  .DocSearch-Button:active,   .DocSearch-Button:focus,   .DocSearch-Button:hover{color:#a5a5a5}.close-icon[_ngcontent-%COMP%]{position:absolute;right:0;width:15px;height:15px;top:10px;cursor:pointer;visibility:hidden;transition:all 90ms ease-in-out}.close-icon.visible[_ngcontent-%COMP%]{visibility:visible}.close-icon[_ngcontent-%COMP%]:after, .close-icon[_ngcontent-%COMP%]:before{content:"";background:var(--primary);display:block;height:2px;position:absolute;width:15px}.close-icon[_ngcontent-%COMP%]:after{transform:rotate(45deg) translateY(3px)}.close-icon[_ngcontent-%COMP%]:before{transform:rotate(-45deg) translateY(3px)}@media (max-width: 1300px){.shop-link[_ngcontent-%COMP%]{display:none!important}}'],changeDetection:0})}return v})(),Yo=(()=>{class v{currentDate=Date.now();static \u0275fac=function(c){return new(c||v)};static \u0275cmp=e.VBU({type:v,selectors:[["app-footer"]],decls:28,vars:4,consts:[[1,"social-wrapper"],["title","Kamil Mysliwiec Facebook","href","https://www.facebook.com/kammysliwiec/","target","_blank"],[1,"fa-brands","fa-facebook"],["title","Kamil Mysliwiec Twitter","href","https://twitter.com/kammysliwiec","target","_blank"],[1,"fa-brands","fa-x-twitter"],["title","Kamil Mysliwiec Github","href","https://github.com/kamilmysliwiec","target","_blank"],[1,"fa-brands","fa-github"],["href","https://kamilmysliwiec.com","title","Kamil Mysliwiec Blog | Full-Stack Software Engineer","target","_blank"],[1,"fa-solid","fa-globe"],[1,"credits"],["href","https://kamilmysliwiec.com","target","_blank","title","Kamil Mysliwiec Blog | Full-Stack Software Engineer"],[1,"separator"],["href","https://dribbble.com/JakubStaron","title","Jakub Staron Dribble","target","_blank"],["href","https://trilon.io","target","_blank","title","Official NestJS Consulting | Angular Consulting"],["href","https://www.netlify.com","target","_blank"]],template:function(c,h){1&c&&(e.j41(0,"footer")(1,"div",0)(2,"a",1),e.nrm(3,"i",2),e.k0s(),e.j41(4,"a",3),e.nrm(5,"i",4),e.k0s(),e.j41(6,"a",5),e.nrm(7,"i",6),e.k0s(),e.j41(8,"a",7),e.nrm(9,"i",8),e.k0s()(),e.j41(10,"div",9)(11,"p"),e.EFF(12),e.nI1(13,"date"),e.j41(14,"a",10),e.EFF(15," Kamil Mysliwiec"),e.k0s(),e.nrm(16,"span",11),e.EFF(17," design by "),e.j41(18,"a",12),e.EFF(19,"Jakub Staron"),e.k0s(),e.nrm(20,"br"),e.EFF(21," Official NestJS Consulting "),e.j41(22,"a",13),e.EFF(23," Trilon.io"),e.k0s(),e.nrm(24,"span",11),e.EFF(25," hosted by "),e.j41(26,"a",14),e.EFF(27,"Netlify"),e.k0s()()()()),2&c&&(e.R7$(12),e.SpI(" Copyright \xa9 2017-",e.i5U(13,1,h.currentDate,"yyyy")," MIT by "))},dependencies:[Sr.vh],styles:['.transition[_ngcontent-%COMP%], [_nghost-%COMP%], .social-wrapper[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{transition:all .2s cubic-bezier(.7,0,.3,1)}.transition-fast[_ngcontent-%COMP%]{transition:all .1s cubic-bezier(.7,0,.3,1)}.transition-slow[_ngcontent-%COMP%]{transition:all .52s cubic-bezier(.7,0,.3,1)}.clearfix[_ngcontent-%COMP%]:before, .clearfix[_ngcontent-%COMP%]:after{content:" ";display:table}.clearfix[_ngcontent-%COMP%]:after{clear:both}.center-element[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%) translateY(-50%)}.center-left[_ngcontent-%COMP%]{position:absolute;left:50%;transform:translate(-50%)}.center-top[_ngcontent-%COMP%]{position:absolute;top:50%;transform:translateY(-50%)}.box-sizing[_ngcontent-%COMP%], [_nghost-%COMP%]{box-sizing:border-box}[_nghost-%COMP%]{background:var(--header-background);display:block;padding:40px 0;margin:0 -85px;width:auto;font-size:14px;position:relative;z-index:12}@media only screen and (max-width: 1200px){[_nghost-%COMP%]{margin:0 -50px}}@media only screen and (max-width : 767px){[_nghost-%COMP%]{padding:15px;margin:0 -20px;width:calc(100% + 40px);position:static;height:auto;text-align:center}}footer[_ngcontent-%COMP%]{display:block;position:relative;color:#929292;text-align:center}footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--primary-5dp);font-weight:600;background:var(--primary-gradient);-webkit-background-clip:text!important;-webkit-text-fill-color:transparent}footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background:#fff}footer[_ngcontent-%COMP%]   .separator[_ngcontent-%COMP%]{display:inline-block;width:2px;height:12px;margin:0 3px 0 5px;vertical-align:middle;background:#313131}footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{line-height:25px;margin-bottom:0}.social-wrapper[_ngcontent-%COMP%]{text-align:center;right:40px}.social-wrapper[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle;color:#f3f5f7;font-size:20px;margin-left:15px;cursor:pointer;color:#fff}.social-wrapper[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:first-of-type{font-size:20px}.social-wrapper[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--primary)}@media print{.social-wrapper[_ngcontent-%COMP%]{display:none}}'],changeDetection:0})}return v})();G("fadeAnimation",[Y("* => *",[Q(":enter",[ue({opacity:0})],{optional:!0}),Q(":leave",[ue({opacity:1}),re("0.3s",ue({opacity:0}))],{optional:!0}),Q(":enter",[ue({opacity:0}),re("0.3s",ue({opacity:1}))],{optional:!0})])]);const bs=G("openCloseAnimation",[function X(v,l,a){return{type:O.State,name:v,styles:l,options:a}}("false",ue({display:"none"})),Y("false => true",[ue("*"),ue({height:0,overflow:"hidden"}),re("250ms ease-out",ue({height:"*"}))]),Y("true => false",[ue({height:"*",overflow:"hidden"}),re("250ms ease-in",ue({height:0}))])]),No=()=>({exact:!0});function es(v,l){1&v&&(e.j41(0,"span",9),e.EFF(1,"NEW"),e.k0s())}function Zi(v,l){if(1&v&&(e.j41(0,"i",14),e.EFF(1),e.k0s()),2&v){const a=e.XpG(2).$implicit;e.R7$(),e.SpI(" ",a.icon," ")}}function y(v,l){if(1&v&&(e.j41(0,"a",12),e.DNE(1,Zi,2,1,"i",13),e.EFF(2),e.k0s()),2&v){const a=e.XpG().$implicit;e.AVh("pending",a.isPending),e.Y8G("routerLink",a.path)("routerLinkActiveOptions",e.lJ4(6,No)),e.R7$(),e.Y8G("ngIf",a.icon),e.R7$(),e.SpI(" ",a.title," ")}}function T(v,l){if(1&v&&(e.j41(0,"i",14),e.EFF(1),e.k0s()),2&v){const a=e.XpG(2).$implicit;e.R7$(),e.SpI(" ",a.icon," ")}}function w(v,l){if(1&v&&(e.j41(0,"a",15),e.DNE(1,T,2,1,"i",13),e.EFF(2),e.k0s()),2&v){const a=e.XpG().$implicit;e.FS9("href",a.externalUrl,e.B4B),e.R7$(),e.Y8G("ngIf",a.icon),e.R7$(),e.SpI(" ",a.title," ")}}function I(v,l){if(1&v&&(e.j41(0,"li"),e.DNE(1,y,3,7,"a",10)(2,w,3,3,"a",11),e.k0s()),2&v){const a=l.$implicit;e.R7$(),e.Y8G("ngIf",!a.externalUrl),e.R7$(),e.Y8G("ngIf",!!a.externalUrl)}}function P(v,l){if(1&v){const a=e.RV6();e.j41(0,"div",2)(1,"div",3),e.bIt("click",function(){e.eBV(a);const h=e.XpG();return e.Njj(h.toggle())}),e.j41(2,"h3"),e.DNE(3,es,2,0,"span",4),e.EFF(4),e.k0s(),e.qSk(),e.j41(5,"svg",5),e.nrm(6,"path",6),e.k0s()(),e.joV(),e.j41(7,"ul",7),e.DNE(8,I,3,2,"li",8),e.k0s()()}if(2&v){const a=e.XpG();e.AVh("opened",a.isOpen),e.R7$(3),e.Y8G("ngIf",a.isNew),e.R7$(),e.JRh(a.title),e.R7$(3),e.Y8G("@openCloseAnimation",a.isOpen),e.R7$(),e.Y8G("ngForOf",a.children)}}function le(v,l){if(1&v&&(e.j41(0,"i",14),e.EFF(1),e.k0s()),2&v){const a=e.XpG(3);e.R7$(),e.SpI(" ",a.icon," ")}}function ke(v,l){1&v&&(e.j41(0,"span",9),e.EFF(1,"NEW"),e.k0s())}function Ge(v,l){if(1&v&&(e.j41(0,"a",12)(1,"h3"),e.DNE(2,le,2,1,"i",13)(3,ke,2,0,"span",4),e.EFF(4),e.k0s()()),2&v){const a=e.XpG(2);e.AVh("has-icon",a.icon),e.Y8G("routerLink",a.path)("routerLinkActiveOptions",e.lJ4(7,No)),e.R7$(2),e.Y8G("ngIf",a.icon),e.R7$(),e.Y8G("ngIf",a.isNew),e.R7$(),e.SpI("",a.title," ")}}function Bt(v,l){if(1&v&&(e.j41(0,"i",14),e.EFF(1),e.k0s()),2&v){const a=e.XpG(3);e.R7$(),e.SpI(" ",a.icon," ")}}function ln(v,l){1&v&&(e.j41(0,"span",9),e.EFF(1,"NEW"),e.k0s())}function zt(v,l){if(1&v&&(e.j41(0,"a",15)(1,"h3"),e.DNE(2,Bt,2,1,"i",13)(3,ln,2,0,"span",4),e.EFF(4),e.k0s()()),2&v){const a=e.XpG(2);e.FS9("href",a.externalUrl,e.B4B),e.R7$(2),e.Y8G("ngIf",a.icon),e.R7$(),e.Y8G("ngIf",a.isNew),e.R7$(),e.SpI("",a.title," ")}}function It(v,l){if(1&v&&(e.j41(0,"div",16),e.DNE(1,Ge,5,8,"a",17)(2,zt,5,4,"a",11),e.k0s()),2&v){const a=e.XpG();e.R7$(),e.Y8G("ngIf",!a.externalUrl),e.R7$(),e.Y8G("ngIf",!!a.externalUrl)}}let un=(()=>{class v{isOpen=!1;children=[];path;title;icon;externalUrl;isNew;toggle(){this.isOpen=!this.isOpen}static \u0275fac=function(c){return new(c||v)};static \u0275cmp=e.VBU({type:v,selectors:[["app-menu-item"]],inputs:{isOpen:"isOpen",children:"children",path:"path",title:"title",icon:"icon",externalUrl:"externalUrl",isNew:"isNew"},decls:3,vars:2,consts:[["withoutChildren",""],["class","nav-item",3,"opened",4,"ngIf","ngIfElse"],[1,"nav-item"],[1,"heading",3,"click"],["class","new",4,"ngIf"],["width","20","height","20","viewBox","0 0 1792 1792","xmlns","http://www.w3.org/2000/svg",1,"arrow-icon"],["d","M1171 960q0 13-10 23l-466 466q-10 10-23 10t-23-10l-50-50q-10-10-10-23t10-23l393-393-393-393q-10-10-10-23t10-23l50-50q10-10 23-10t23 10l466 466q10 10 10 23z"],[1,"sub-nav"],[4,"ngFor","ngForOf"],[1,"new"],["routerLinkActive","active",3,"pending","routerLink","routerLinkActiveOptions",4,"ngIf"],["target","_blank",3,"href",4,"ngIf"],["routerLinkActive","active",3,"routerLink","routerLinkActiveOptions"],["class","material-icons",4,"ngIf"],[1,"material-icons"],["target","_blank",3,"href"],[1,"heading"],["routerLinkActive","active",3,"routerLink","routerLinkActiveOptions","has-icon",4,"ngIf"]],template:function(c,h){if(1&c&&e.DNE(0,P,9,6,"div",1)(1,It,3,2,"ng-template",null,0,e.C5r),2&c){const b=e.sdS(2);e.Y8G("ngIf",h.children)("ngIfElse",b)}},dependencies:[Sr.Sq,Sr.bT,yt.Wk,yt.wQ],styles:['.transition[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], .arrow-icon[_ngcontent-%COMP%]{transition:all .2s cubic-bezier(.7,0,.3,1)}.transition-fast[_ngcontent-%COMP%]{transition:all .1s cubic-bezier(.7,0,.3,1)}.transition-slow[_ngcontent-%COMP%]{transition:all .52s cubic-bezier(.7,0,.3,1)}.clearfix[_ngcontent-%COMP%]:before, .clearfix[_ngcontent-%COMP%]:after{content:" ";display:table}.clearfix[_ngcontent-%COMP%]:after{clear:both}.center-element[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%) translateY(-50%)}.center-left[_ngcontent-%COMP%]{position:absolute;left:50%;transform:translate(-50%)}.center-top[_ngcontent-%COMP%]{position:absolute;top:50%;transform:translateY(-50%)}.box-sizing[_ngcontent-%COMP%]{box-sizing:border-box}[_nghost-%COMP%]{position:relative;display:block}h3[_ngcontent-%COMP%]{text-transform:uppercase;font-weight:700;color:var(--color-1dp);font-size:15px;margin:10px 0}h3[_ngcontent-%COMP%]:hover{color:#ea2845;background:var(--primary-gradient);-webkit-background-clip:text!important;-webkit-text-fill-color:transparent}.new[_ngcontent-%COMP%]{color:#fff;background:var(--primary-gradient);font-size:11px;padding:2px 4px;margin-right:5px;font-weight:700;border-radius:2px;-webkit-text-fill-color:#fff}.active[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#ea2845;background:var(--primary-gradient);-webkit-background-clip:text!important;-webkit-text-fill-color:transparent}.material-icons[_ngcontent-%COMP%]{margin-right:5px}.arrow-icon[_ngcontent-%COMP%]{transform:rotate(90deg);position:absolute;top:1px;right:20px;font-size:20px;cursor:pointer}li[_ngcontent-%COMP%]{display:block;padding:2.5px 0}li[_ngcontent-%COMP%]:first-of-type{padding-top:0}li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--menu-color);font-size:14px;text-decoration:none;cursor:pointer}li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#ea2845;background:var(--primary-gradient);-webkit-background-clip:text!important;-webkit-text-fill-color:transparent}li[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{font-weight:600;color:#ea2845;background:var(--primary-gradient);-webkit-background-clip:text!important;-webkit-text-fill-color:transparent}li[_ngcontent-%COMP%]   .pending[_ngcontent-%COMP%]{color:#afafaf!important;pointer-events:none}.nav-item[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:10px 0 15px}.nav-item[_ngcontent-%COMP%]   .arrow-icon[_ngcontent-%COMP%]{fill:var(--color)}.nav-item.opened[_ngcontent-%COMP%]   .arrow-icon[_ngcontent-%COMP%]{transform:rotate(-90deg);fill:var(--primary)}.heading[_ngcontent-%COMP%]{cursor:pointer}.heading[_ngcontent-%COMP%]:hover   .arrow-icon[_ngcontent-%COMP%]{color:var(--primary)}ul[_ngcontent-%COMP%]{padding-left:15px}.material-icons[_ngcontent-%COMP%]{font-size:14px;margin-left:3px;vertical-align:middle;padding-bottom:4px}.has-icon[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#ea2845;background:var(--primary-gradient);-webkit-background-clip:text!important;-webkit-text-fill-color:transparent}'],data:{animation:[bs]},changeDetection:0})}return v})();function st(v,l){if(1&v&&e.nrm(0,"app-menu-item",4),2&v){const a=l.$implicit;e.Y8G("isOpen",a.isOpened)("title",a.title)("externalUrl",null==a?null:a.externalUrl)("isNew",a.isNew)("icon",null==a?null:a.icon)("path",null==a?null:a.path)("children",a.children)}}let Ce=(()=>{class v{route;router;isSidebarOpened=!0;items=[{title:"Introduction",isOpened:!1,path:"/"},{title:"Overview",isOpened:!0,children:[{title:"First steps",path:"/first-steps"},{title:"Controllers",path:"/controllers"},{title:"Providers",path:"/providers"},{title:"Modules",path:"/modules"},{title:"Middleware",path:"/middleware"},{title:"Exception filters",path:"/exception-filters"},{title:"Pipes",path:"/pipes"},{title:"Guards",path:"/guards"},{title:"Interceptors",path:"/interceptors"},{title:"Custom decorators",path:"/custom-decorators"}]},{title:"Fundamentals",isOpened:!1,children:[{title:"Custom providers",path:"/fundamentals/custom-providers"},{title:"Asynchronous providers",path:"/fundamentals/async-providers"},{title:"Dynamic modules",path:"/fundamentals/dynamic-modules"},{title:"Injection scopes",path:"/fundamentals/injection-scopes"},{title:"Circular dependency",path:"/fundamentals/circular-dependency"},{title:"Module reference",path:"/fundamentals/module-ref"},{title:"Lazy-loading modules",path:"/fundamentals/lazy-loading-modules"},{title:"Execution context",path:"/fundamentals/execution-context"},{title:"Lifecycle events",path:"/fundamentals/lifecycle-events"},{title:"Platform agnosticism",path:"/fundamentals/platform-agnosticism"},{title:"Testing",path:"/fundamentals/testing"}]},{title:"Techniques",isOpened:!1,children:[{title:"Configuration",path:"/techniques/configuration"},{title:"Database",path:"/techniques/database"},{title:"Mongo",path:"/techniques/mongodb"},{title:"Validation",path:"/techniques/validation"},{title:"Caching",path:"/techniques/caching"},{title:"Serialization",path:"/techniques/serialization"},{title:"Versioning",path:"/techniques/versioning"},{title:"Task scheduling",path:"/techniques/task-scheduling"},{title:"Queues",path:"/techniques/queues"},{title:"Logging",path:"/techniques/logger"},{title:"Cookies",path:"/techniques/cookies"},{title:"Events",path:"/techniques/events"},{title:"Compression",path:"/techniques/compression"},{title:"File upload",path:"/techniques/file-upload"},{title:"Streaming files",path:"/techniques/streaming-files"},{title:"HTTP module",path:"/techniques/http-module"},{title:"Session",path:"/techniques/session"},{title:"Model-View-Controller",path:"/techniques/mvc"},{title:"Performance (Fastify)",path:"/techniques/performance"},{title:"Server-Sent Events",path:"/techniques/server-sent-events"}]},{title:"Security",isOpened:!1,children:[{title:"Authentication",path:"/security/authentication"},{title:"Authorization",path:"/security/authorization"},{title:"Encryption and Hashing",path:"/security/encryption-and-hashing"},{title:"Helmet",path:"/security/helmet"},{title:"CORS",path:"/security/cors"},{title:"CSRF Protection",path:"/security/csrf"},{title:"Rate limiting",path:"/security/rate-limiting"}]},{title:"GraphQL",isOpened:!1,children:[{title:"Quick start",path:"/graphql/quick-start"},{title:"Resolvers",path:"/graphql/resolvers"},{title:"Mutations",path:"/graphql/mutations"},{title:"Subscriptions",path:"/graphql/subscriptions"},{title:"Scalars",path:"/graphql/scalars"},{title:"Directives",path:"/graphql/directives"},{title:"Interfaces",path:"/graphql/interfaces"},{title:"Unions and Enums",path:"/graphql/unions-and-enums"},{title:"Field middleware",path:"/graphql/field-middleware"},{title:"Mapped types",path:"/graphql/mapped-types"},{title:"Plugins",path:"/graphql/plugins"},{title:"Complexity",path:"/graphql/complexity"},{title:"Extensions",path:"/graphql/extensions"},{title:"CLI Plugin",path:"/graphql/cli-plugin"},{title:"Generating SDL",path:"/graphql/generating-sdl"},{title:"Sharing models",path:"/graphql/sharing-models"},{title:"Other features",path:"/graphql/other-features"},{title:"Federation",path:"/graphql/federation"},{title:"Migration guide",path:"/graphql/migration-guide"}]},{title:"WebSockets",isOpened:!1,children:[{title:"Gateways",path:"/websockets/gateways"},{title:"Exception filters",path:"/websockets/exception-filters"},{title:"Pipes",path:"/websockets/pipes"},{title:"Guards",path:"/websockets/guards"},{title:"Interceptors",path:"/websockets/interceptors"},{title:"Adapters",path:"/websockets/adapter"}]},{title:"Microservices",isOpened:!1,children:[{title:"Overview",path:"/microservices/basics"},{title:"Redis",path:"/microservices/redis"},{title:"MQTT",path:"/microservices/mqtt"},{title:"NATS",path:"/microservices/nats"},{title:"RabbitMQ",path:"/microservices/rabbitmq"},{title:"Kafka",path:"/microservices/kafka"},{title:"gRPC",path:"/microservices/grpc"},{title:"Custom transporters",path:"/microservices/custom-transport"},{title:"Exception filters",path:"/microservices/exception-filters"},{title:"Pipes",path:"/microservices/pipes"},{title:"Guards",path:"/microservices/guards"},{title:"Interceptors",path:"/microservices/interceptors"}]},{title:"Deployment",isNew:!0,path:"/deployment"},{title:"Standalone apps",isOpened:!1,path:"/standalone-applications"},{title:"CLI",isOpened:!1,children:[{title:"Overview",path:"/cli/overview"},{title:"Workspaces",path:"/cli/monorepo"},{title:"Libraries",path:"/cli/libraries"},{title:"Usage",path:"/cli/usages"},{title:"Scripts",path:"/cli/scripts"}]},{title:"OpenAPI",isOpened:!1,children:[{title:"Introduction",path:"/openapi/introduction"},{title:"Types and Parameters",path:"/openapi/types-and-parameters"},{title:"Operations",path:"/openapi/operations"},{title:"Security",path:"/openapi/security"},{title:"Mapped Types",path:"/openapi/mapped-types"},{title:"Decorators",path:"/openapi/decorators"},{title:"CLI Plugin",path:"/openapi/cli-plugin"},{title:"Other features",path:"/openapi/other-features"},{title:"Migration guide",path:"/openapi/migration-guide"}]},{title:"Recipes",isOpened:!1,children:[{title:"REPL",path:"/recipes/repl"},{title:"CRUD generator",path:"/recipes/crud-generator"},{title:"SWC (fast compiler)",path:"/recipes/swc"},{title:"Passport (auth)",path:"/recipes/passport"},{title:"Hot reload",path:"/recipes/hot-reload"},{title:"MikroORM",path:"/recipes/mikroorm"},{title:"TypeORM",path:"/recipes/sql-typeorm"},{title:"Mongoose",path:"/recipes/mongodb"},{title:"Sequelize",path:"/recipes/sql-sequelize"},{title:"Router module",path:"/recipes/router-module"},{title:"Swagger",path:"/recipes/swagger"},{title:"Health checks",path:"/recipes/terminus"},{title:"CQRS",path:"/recipes/cqrs"},{title:"Compodoc",path:"/recipes/documentation"},{title:"Prisma",path:"/recipes/prisma"},{title:"Serve static",path:"/recipes/serve-static"},{title:"Commander",path:"/recipes/nest-commander"},{title:"Async local storage",path:"/recipes/async-local-storage"},{title:"Necord",path:"/recipes/necord"},{title:"Suites (Automock)",path:"/recipes/suites"}]},{title:"FAQ",isOpened:!1,children:[{title:"Serverless",path:"/faq/serverless"},{title:"HTTP adapter",path:"/faq/http-adapter"},{title:"Keep-Alive connections",path:"/faq/keep-alive-connections"},{title:"Global path prefix",path:"/faq/global-prefix"},{title:"Raw body",path:"/faq/raw-body"},{title:"Hybrid application",path:"/faq/hybrid-application"},{title:"HTTPS & multiple servers",path:"/faq/multiple-servers"},{title:"Request lifecycle",path:"/faq/request-lifecycle"},{title:"Common errors",path:"/faq/common-errors"},{title:"Examples",externalUrl:"https://github.com/nestjs/nest/tree/master/sample"}]},{title:"Devtools",isOpened:!1,children:[{title:"Overview",path:"/devtools/overview"},{title:"CI/CD integration",path:"/devtools/ci-cd-integration"}]},{title:"Migration guide",isOpened:!1,path:"/migration-guide"},{title:"Official courses",externalUrl:"https://courses.nestjs.com/"},{title:"Discover",isOpened:!1,children:[{title:"Who is using Nest?",path:"/discover/companies"},{title:"Jobs board",externalUrl:"https://jobs.nestjs.com/"}]},{title:"Support us",isOpened:!1,path:"/support"}];constructor(a,c){this.route=a,this.router=c}ngOnInit(){this.router.events.pipe((0,Es.p)(a=>a instanceof yt.wF)).subscribe(()=>this.toggleCategory()),this.toggleCategory()}toggleCategory(){const{firstChild:a}=this.route.snapshot;if(a.url&&a.url[1]||a.url&&a.routeConfig&&a.routeConfig.loadChildren){const{path:c}=a.url[0],h=this.items.findIndex(({title:b})=>b.toLowerCase()===c);if(h<0)return;this.items[h].isOpened=!0,this.items[1].isOpened=!1}}static \u0275fac=function(c){return new(c||v)(e.rXU(yt.nX),e.rXU(yt.Ix))};static \u0275cmp=e.VBU({type:v,selectors:[["app-menu"]],inputs:{isSidebarOpened:"isSidebarOpened"},decls:6,vars:1,consts:[[1,"nav-container",3,"click"],["class","nav-item",3,"isOpen","title","externalUrl","isNew","icon","path","children",4,"ngFor","ngForOf"],["href","https://enterprise.nestjs.com","target","_blank","title","Enterprise | NestJS - A node.js framework built on top of TypeScript",1,"btn","btn-support"],["href","https://docs.nestjs.com/v9",1,"btn","btn-version"],[1,"nav-item",3,"isOpen","title","externalUrl","isNew","icon","path","children"]],template:function(c,h){1&c&&(e.j41(0,"nav",0),e.bIt("click",function(M){return M.stopPropagation()}),e.DNE(1,st,1,7,"app-menu-item",1),e.j41(2,"a",2),e.EFF(3,"Get enterprise support"),e.k0s(),e.j41(4,"a",3),e.EFF(5,"Version 9"),e.k0s()()),2&c&&(e.R7$(),e.Y8G("ngForOf",h.items))},dependencies:[Sr.Sq,un],styles:['.transition[_ngcontent-%COMP%], [_nghost-%COMP%], .btn-version[_ngcontent-%COMP%], .btn-support[_ngcontent-%COMP%]{transition:all .2s cubic-bezier(.7,0,.3,1)}.transition-fast[_ngcontent-%COMP%]{transition:all .1s cubic-bezier(.7,0,.3,1)}.transition-slow[_ngcontent-%COMP%]{transition:all .52s cubic-bezier(.7,0,.3,1)}.clearfix[_ngcontent-%COMP%]:before, .clearfix[_ngcontent-%COMP%]:after{content:" ";display:table}.clearfix[_ngcontent-%COMP%]:after{clear:both}.center-element[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%) translateY(-50%)}.center-left[_ngcontent-%COMP%]{position:absolute;left:50%;transform:translate(-50%)}.center-top[_ngcontent-%COMP%]{position:absolute;top:50%;transform:translateY(-50%)}.box-sizing[_ngcontent-%COMP%], [_nghost-%COMP%]{box-sizing:border-box}[_nghost-%COMP%]{transform:translate(-100%);padding:90px 17px 40px 24px;width:250px;background:var(--menu-background);position:fixed!important;bottom:0;top:0;z-index:1000;overflow:overlay}.opened[_nghost-%COMP%]{transform:translate(0)}@media only screen and (max-width: 1200px){[_nghost-%COMP%]{width:250px}}@media only screen and (max-width: 991px){.opened[_nghost-%COMP%]{z-index:1000;box-shadow:0 10px 40px #0000001a}}@media only screen and (max-width : 767px){[_nghost-%COMP%]{padding:85px 25px 20px}}@media only screen and (max-width : 480px){[_nghost-%COMP%]{width:100%}}@media print{[_nghost-%COMP%]{display:none}}.nav-item[_ngcontent-%COMP%]{margin:0 -10px;padding:0 10px}.nav-item[_ngcontent-%COMP%]:last-of-type{border:0}.nav-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:20px 0}.btn-version[_ngcontent-%COMP%], .btn-support[_ngcontent-%COMP%]{border-radius:2px;padding:10px;box-sizing:border-box;font-weight:700;font-size:13px;text-transform:uppercase;text-align:left;width:calc(100% - 10px);display:block}.btn-version[_ngcontent-%COMP%]{background:var(--background-3dp);margin-top:5px;color:var(--color-1dp)}.btn-version[_ngcontent-%COMP%]:hover{background:var(--background-5dp)}.btn-support[_ngcontent-%COMP%]{margin-top:20px;background:var(--primary-gradient);transition:none;color:#fff}.btn-support[_ngcontent-%COMP%]:hover{background:#151515}'],changeDetection:0})}return v})();var He=C(467),Xt=C(9350),en=C(983),wn=C(9437);let Jn=(()=>{class v{httpClient;constructor(a){this.httpClient=a}addToNewsletter(a){return function Un(v,l){const a="object"==typeof l;return new Promise((c,h)=>{let M,b=!1;v.subscribe({next:u=>{M=u,b=!0},error:h,complete:()=>{b?c(M):a?c(l.defaultValue):h(new Xt.G)}})})}(this.httpClient.post("https://nbdggbnqnrevwg6xlex3st3vpe0nyhiq.lambda-url.us-east-2.on.aws/?token=db1f899025b5a59a76b6b34b2a013893",{email:a}).pipe((0,wn.W)(()=>en.w)))}static \u0275fac=function(c){return new(c||v)(e.KVO($.Qq))};static \u0275prov=e.jDH({token:v,factory:v.\u0275fac,providedIn:"root"})}return v})(),St=(()=>{class v{newsletterService;cd;isDisabled;isEmailAdded;constructor(a,c){this.newsletterService=a,this.cd=c}addToNewsletter(a,c){var h=this;return(0,He.A)(function*(){a.preventDefault(),h.isDisabled=!0,h.cd.markForCheck(),yield h.newsletterService.addToNewsletter(c),h.isEmailAdded=!0,h.cd.markForCheck()})()}static \u0275fac=function(c){return new(c||v)(e.rXU(Jn),e.rXU(e.gRc))};static \u0275cmp=e.VBU({type:v,selectors:[["app-newsletter"]],decls:14,vars:4,consts:[["email",""],[1,"newsletter-wrapper"],[1,"signup"],[1,"hgroup"],[1,"newsletter-form"],[1,"form-wrapper",3,"submit"],["id","newsletter-email","name","email","type","email","placeholder","Email address..","required","",1,"form-control",3,"disabled"],["type","submit","aria-label","Signup to Newsletter",1,"signup-button",3,"disabled"],[1,"far","fa-paper-plane"],[1,"icon-success","fas","fa-check-circle"]],template:function(c,h){if(1&c){const b=e.RV6();e.j41(0,"div",1)(1,"div",2)(2,"div",3)(3,"h3"),e.EFF(4,"Join our Newsletter"),e.k0s(),e.j41(5,"p"),e.EFF(6," Subscribe to stay up to date with the latest Nest updates, features, and videos! "),e.k0s()(),e.j41(7,"div",4)(8,"form",5),e.bIt("submit",function(u){e.eBV(b);const m=e.sdS(10);return e.Njj(h.addToNewsletter(u,m.value))}),e.nrm(9,"input",6,0),e.j41(11,"button",7),e.nrm(12,"i",8)(13,"i",9),e.k0s()()()()()}2&c&&(e.R7$(9),e.Y8G("disabled",h.isDisabled),e.R7$(2),e.AVh("btn-success",h.isEmailAdded),e.Y8G("disabled",h.isDisabled))},styles:['.transition[_ngcontent-%COMP%]{transition:all .2s cubic-bezier(.7,0,.3,1)}.transition-fast[_ngcontent-%COMP%]{transition:all .1s cubic-bezier(.7,0,.3,1)}.transition-slow[_ngcontent-%COMP%]{transition:all .52s cubic-bezier(.7,0,.3,1)}.clearfix[_ngcontent-%COMP%]:before, .clearfix[_ngcontent-%COMP%]:after{content:" ";display:table}.clearfix[_ngcontent-%COMP%]:after{clear:both}.center-element[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%) translateY(-50%)}.center-left[_ngcontent-%COMP%]{position:absolute;left:50%;transform:translate(-50%)}.center-top[_ngcontent-%COMP%]{position:absolute;top:50%;transform:translateY(-50%)}.box-sizing[_ngcontent-%COMP%]{box-sizing:border-box}.newsletter-wrapper[_ngcontent-%COMP%]{background:var(--background-3dp);padding:40px 85px;overflow:hidden;position:relative;margin:0 -85px;width:auto}@media only screen and (max-width: 1200px){.newsletter-wrapper[_ngcontent-%COMP%]{margin:0 -50px;padding:40px 50px}}@media only screen and (max-width : 767px){.newsletter-wrapper[_ngcontent-%COMP%]{margin:0 -20px;padding:40px 20px;width:100%;text-align:center}}.newsletter-wrapper[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:18px;font-weight:600;margin:0 0 4px;color:var(--color-1dp)}.newsletter-wrapper[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:15px;margin:0;color:var(--color);font-weight:500;line-height:22px}.newsletter-wrapper[_ngcontent-%COMP%]   .hgroup[_ngcontent-%COMP%], .newsletter-form[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle}.newsletter-form[_ngcontent-%COMP%]{text-align:right;width:40%;position:relative;margin-top:5px}.newsletter-wrapper[_ngcontent-%COMP%]   .hgroup[_ngcontent-%COMP%]{width:60%;float:left;position:relative}.newsletter-form[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{border:0;font-size:14px;font-family:Source Sans Pro;height:40px;padding:10px 20px;background:var(--background);color:var(--color);width:calc(100% - 70px);border-radius:3px;max-width:100%;vertical-align:middle;box-sizing:border-box;outline:0}.newsletter-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:var(--primary-gradient);height:40px;padding:10px 18px;border:0;color:#fff;margin-left:-45px;font-size:14px;vertical-align:middle;border-top-right-radius:3px;border-bottom-right-radius:3px;transition:none;box-sizing:border-box;cursor:pointer;outline:0}.newsletter-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover, .newsletter-form[_ngcontent-%COMP%]   button[disabled][_ngcontent-%COMP%]{background:#111}.newsletter-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .icon-success[_ngcontent-%COMP%], .newsletter-form[_ngcontent-%COMP%]   .btn-success[_ngcontent-%COMP%]   .fa-paper-plane[_ngcontent-%COMP%]{display:none}.newsletter-form[_ngcontent-%COMP%]   .btn-success[disabled][_ngcontent-%COMP%]{background:var(--background);color:#1dd81c;pointer-events:none}.newsletter-form[_ngcontent-%COMP%]   .btn-success[_ngcontent-%COMP%]   .icon-success[_ngcontent-%COMP%]{display:inline-block}.newsletter-wrapper[_ngcontent-%COMP%]   .envelope-bg[_ngcontent-%COMP%]{font-size:180px;position:absolute;margin-top:-50px;margin-left:60px;color:#0000001a;z-index:0;transform:rotate(-30deg)}@media (max-width: 1020px){.newsletter-wrapper[_ngcontent-%COMP%]   .hgroup[_ngcontent-%COMP%], .newsletter-form[_ngcontent-%COMP%]{width:50%}}@media (max-width: 990px){.newsletter-wrapper[_ngcontent-%COMP%]   .hgroup[_ngcontent-%COMP%], .newsletter-form[_ngcontent-%COMP%]{width:100%}.newsletter-wrapper[_ngcontent-%COMP%]   .hgroup[_ngcontent-%COMP%]{float:none;text-align:center}.newsletter-form[_ngcontent-%COMP%]{margin-top:30px;text-align:center}.newsletter-form[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{margin-left:0}.newsletter-wrapper[_ngcontent-%COMP%]   .envelope-bg[_ngcontent-%COMP%]{font-size:280px}.newsletter-form[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{max-width:400px;width:calc(100% - 10px)}}'],changeDetection:0})}return v})(),gr=(()=>{class v{cd;router;elementRef;renderer;isSidebarOpened=!0;previousWidth;contentRef;isMarkupReady;scrollSubscription;scrollDebounceTime=100;constructor(a,c,h,b){this.cd=a,this.router=c,this.elementRef=h,this.renderer=b}ngOnInit(){this.router.events.pipe((0,Es.p)(a=>a instanceof yt.wF)).subscribe(()=>{if(window.innerWidth>768)return!1;this.isSidebarOpened=!1,this.cd.detectChanges()}),this.scrollSubscription=Ao(window,"scroll").pipe((0,ji.B)(this.scrollDebounceTime)).subscribe(()=>{this.checkViewportBoundaries()})}ngAfterViewInit(){this.checkWindowWidth(window.innerWidth),this.contentRef&&this.contentRef.appendChild(this.createDocSearchScriptTag())}ngOnDestroy(){this.scrollSubscription&&this.scrollSubscription.unsubscribe()}onResize(a){this.checkWindowWidth(a.target.innerWidth)}toggleSidebar(){this.isSidebarOpened=!this.isSidebarOpened}checkWindowWidth(a){a=a||window.innerWidth,this.previousWidth!==a&&a<=768&&(this.previousWidth=a,this.isSidebarOpened=!1,this.cd.detectChanges())}checkViewportBoundaries(){const a=this.elementRef.nativeElement,c=a.querySelector("app-footer"),h=a.querySelector(".newsletter-wrapper"),b=a.querySelector("#carbonads"),M=a.querySelector(".sponsors-wrapper");if(c&&b)return window.innerWidth<768?(this.renderer.removeStyle(b,"position"),void this.renderer.removeStyle(b,"bottom")):(b&&M.classList.add("sponsors-carbon"),void(window.pageYOffset+window.innerHeight<h.offsetTop-c.offsetHeight+h.offsetHeight?(this.renderer.removeStyle(b,"position"),this.renderer.removeStyle(b,"bottom")):(this.renderer.setStyle(b,"position","absolute"),this.renderer.setStyle(b,"bottom","350px"))))}onRouteActivate(a){if(!a)return;const c=a.nativeElement;if(c){if(this.contentRef=c.querySelector(".content"),this.contentRef&&!this.contentRef.querySelector(".carbon-wrapper")){const b=this.createCarbonScriptTag(),M=document.createElement("div");M.classList.add("carbon-wrapper"),window.innerWidth>1200&&M.classList.add("hide"),M.prepend(b),this.contentRef.prepend(M)}this.cd.markForCheck(),setTimeout(()=>this.hideAdIfTocOverflow(),300)}}createCarbonScriptTag(){const a=document.createElement("script");return a.type="text/javascript",a.src="//cdn.carbonads.com/carbon.js?serve=CK7I653M&placement=nestjscom",a.id="_carbonads_js",a}createDocSearchScriptTag(){const a=document.createElement("script");return a.type="text/javascript",a.src="https://cdn.jsdelivr.net/npm/@docsearch/js@3",a.async=!0,a.onload=()=>{window.docsearch({apiKey:"6d1869890dab96592b191e63a8deb5b5",indexName:"nestjs",container:"#search",appId:"SDCBYAN96J",debug:!1})},a}hideAdIfTocOverflow(){const b=window.innerHeight-160-200,M=document.querySelector(".toc-wrapper ul");M&&(M.clientHeight>b&&window.innerWidth>1200?this.contentRef.querySelector(".carbon-wrapper").classList.add("hide"):this.contentRef.querySelector(".carbon-wrapper").classList.remove("hide"))}static \u0275fac=function(c){return new(c||v)(e.rXU(e.gRc),e.rXU(yt.Ix),e.rXU(e.aKT),e.rXU(e.sFG))};static \u0275cmp=e.VBU({type:v,selectors:[["app-homepage"]],hostBindings:function(c,h){1&c&&e.bIt("resize",function(M){return h.onResize(M)},!1,e.tSv)},decls:43,vars:6,consts:[[3,"toggle","isSidebarOpened"],[1,"logo-wrapper"],["href","https://docs.nestjs.com/","title","Documentation | NestJS - A node.js framework built on top of TypeScript"],["alt","NestJS Logo","src","/assets/logo-small-gradient.svg"],[1,"container-fluid"],[1,"app-menu"],[1,"container"],[1,"page-wrapper"],[3,"contentReference"],[3,"activate"],[1,"sponsors-wrapper"],[1,"sponsors-container"],["routerLink","/support"],[1,"row","clearfix"],[1,"inline-column"],[1,"title"],["href","https://trilon.io/","target","_blank",1,"logo-sponsor-container"],["src","/assets/sponsors/trilon.svg","alt","Trilon Logo",1,"logo-sponsor"],["href","https://marblism.com?utm_source=nest","target","_blank",1,"logo-sponsor-container"],["src","/assets/sponsors/marblism-logo.png","alt","Marblism Logo",1,"logo-sponsor"],["href","https://mojam.co","target","_blank",1,"logo-sponsor-container"],["src","/assets/sponsors/mojam-logo.png","alt","Mojam Logo",1,"logo-sponsor","logo-sponsor--slim"],["href","https://amplication.com/","target","_blank",1,"logo-sponsor-container"],["src","/assets/sponsors/amplication.svg","alt","Amplication Logo",1,"logo-sponsor"],["href","https://opencollective.com/nest","target","_blank","rel","nofollow",1,"btn","btn-primary"],["href","https://kamilmysliwiec.com","target","_blank","title","Kamil Mysliwiec Blog | Full-Stack Software Engineer"]],template:function(c,h){1&c&&(e.j41(0,"app-header",0),e.bIt("toggle",function(){return h.toggleSidebar()}),e.j41(1,"div",1)(2,"a",2),e.nrm(3,"img",3),e.k0s()()(),e.j41(4,"div",4),e.nrm(5,"app-menu",5),e.j41(6,"div",6)(7,"div",7),e.nrm(8,"app-toc",8),e.j41(9,"router-outlet",9),e.bIt("activate",function(M){return h.onRouteActivate(M)}),e.k0s()(),e.j41(10,"div",10)(11,"div",11)(12,"h3"),e.EFF(13,"Support us"),e.k0s(),e.j41(14,"p"),e.EFF(15," Nest is an MIT-licensed open source project. It can grow thanks to the support by these awesome people. If you'd like to join them, please read more "),e.j41(16,"a",12),e.EFF(17,"here"),e.k0s(),e.EFF(18,". "),e.k0s(),e.j41(19,"div",13)(20,"div",14)(21,"h4",15),e.EFF(22,"Principal Sponsors"),e.k0s(),e.j41(23,"a",16),e.nrm(24,"img",17),e.k0s(),e.j41(25,"a",18),e.nrm(26,"img",19),e.k0s(),e.j41(27,"a",20),e.nrm(28,"img",21),e.k0s(),e.j41(29,"a",22),e.nrm(30,"img",23),e.k0s()(),e.j41(31,"div",14)(32,"h4",15),e.EFF(33,"Sponsors / Partners"),e.k0s(),e.j41(34,"a",24)(35,"span"),e.EFF(36,"Become a sponsor"),e.k0s()()()()()(),e.nrm(37,"app-newsletter"),e.j41(38,"app-footer")(39,"p"),e.EFF(40," Made by "),e.j41(41,"a",25),e.EFF(42," Kamil My\u015bliwiec "),e.k0s()()()()()),2&c&&(e.Y8G("isSidebarOpened",h.isSidebarOpened),e.R7$(5),e.AVh("opened",h.isSidebarOpened),e.R7$(),e.AVh("wide",!h.isSidebarOpened),e.R7$(2),e.Y8G("contentReference",h.contentRef))},dependencies:[yt.n3,yt.Wk,fo,ai,Yo,Ce,St],styles:['.transition,.container{transition:all .2s cubic-bezier(.7,0,.3,1)}.transition-fast{transition:all .1s cubic-bezier(.7,0,.3,1)}.transition-slow{transition:all .52s cubic-bezier(.7,0,.3,1)}.clearfix:before,.clearfix:after{content:" ";display:table}.clearfix:after{clear:both}.center-element{position:absolute;top:50%;left:50%;transform:translate(-50%) translateY(-50%)}.center-left{position:absolute;left:50%;transform:translate(-50%)}.center-top{position:absolute;top:50%;transform:translateY(-50%)}.box-sizing,.container{box-sizing:border-box}.container-fluid{position:relative;display:block;table-layout:fixed;width:100%;min-height:100vh}.logo-wrapper svg,.logo-wrapper img{width:42px;height:50px}.container{margin-left:250px;width:calc(100% - 250px);padding:85px 85px 0;display:inline-block;vertical-align:top;position:relative}.container.wide{margin-left:0;width:100%;display:block}@media only screen and (max-width: 1200px){.container{margin-left:250px;width:calc(100% - 250px);padding:85px 50px 0}.container.wide{width:100%}}@media only screen and (max-width : 767px){.container{margin-left:0;width:100%;padding:85px 20px 0}}@media print{.container{margin-left:0;width:100%;padding:0 20px}}.page-wrapper{color:var(--color);line-height:26px}.page-wrapper a{font-weight:600;color:var(--primary-3dp)}.page-wrapper a:hover{color:#0894e2}.page-wrapper .content a{transition:none;background:var(--primary-gradient);-webkit-background-clip:text!important;-webkit-text-fill-color:transparent}.page-wrapper .content a:hover{background:#0894e2;-webkit-background-clip:text!important;-webkit-text-fill-color:transparent}.page-wrapper .content blockquote strong,.page-wrapper .content #carbonads a,.page-wrapper .content blockquote a{-webkit-text-fill-color:unset!important;-webkit-background-clip:unset!important;background:none}.page-wrapper .content blockquote strong:hover,.page-wrapper .content #carbonads a:hover,.page-wrapper .content blockquote a:hover{background:none}.page-wrapper .content a:has(>code){-webkit-text-fill-color:unset!important;-webkit-background-clip:unset!important;background:none}.page-wrapper .content a:has(>code):hover{background:none}.page-wrapper .content .banner a{-webkit-text-fill-color:unset!important;-webkit-background-clip:unset!important}.page-wrapper h1,.page-wrapper h2,.page-wrapper h3,.page-wrapper h4,.page-wrapper h5,.page-wrapper h6{color:var(--color-1dp)}.page-wrapper h3{font-size:24px;font-weight:700;margin:45px 0 20px}.page-wrapper h4{font-weight:600;margin:40px 0 -5px}.page-wrapper h3 a,.page-wrapper h4 a{opacity:0;filter:alpha(opacity=0);margin-left:.1em;padding:0 .25rem}.page-wrapper h3 span:hover+a,.page-wrapper h3 span+a:hover,.page-wrapper h3 a:focus,.page-wrapper h4 span:hover+a,.page-wrapper h4 span+a:hover,.page-wrapper h4 a:focus{opacity:1;filter:alpha(opacity=100)}.page-wrapper h3:before,.page-wrapper h4:before{content:"";display:block;position:relative;width:0;height:5em;margin-top:-5em;pointer-events:none}.page-wrapper h5{color:var(--color);margin-top:5px;font-weight:600;font-size:16px}.page-wrapper h3:first-of-type{margin:20px 0}.page-wrapper h3+h5{margin-top:-10px!important}.sponsors-wrapper{border-top:1px solid var(--background-2dp);padding:10px 0 60px;margin-top:20px;position:relative}.sponsors-wrapper img{display:inline-block;vertical-align:middle}.sponsors-wrapper a{color:var(--primary);font-weight:600}.sponsors-wrapper a:hover{color:#0894e2}.sponsors-wrapper h3{font-size:24px;font-weight:700}.sponsors-wrapper h4{color:var(--color-1dp);font-weight:600;font-size:18px;margin:30px 0 18px}.sponsors-wrapper .title{margin:50px 0 25px}.sponsors-wrapper p{margin:0;line-height:26px;font-size:16px;font-weight:500;color:var(--color)}.sponsors-wrapper .logo-sponsor-container{display:inline-block;margin-top:10px;margin-right:15px;margin-bottom:5px}.sponsors-wrapper .logo-sponsor-container:last-of-type{margin-right:0;margin-bottom:0}@media (max-width: 480px){.sponsors-wrapper .logo-sponsor-container{display:block;margin-bottom:20px}.sponsors-wrapper .logo-sponsor-container:last-of-type{margin-bottom:0}}.sponsors-wrapper .logo-sponsor{width:160px;filter:var(--company-logo-filter)}.sponsors-wrapper .logo-sponsor:hover{filter:grayscale(0)}.sponsors-wrapper .logo-sponsor--high{width:140px}.sponsors-wrapper .logo-sponsor--slim{width:auto;max-height:60px}@media (max-width: 480px){.sponsors-wrapper .logo-sponsor--slim{margin-left:0}}.sponsors-wrapper .logo-blueanchor{width:200px}.sponsors-wrapper .btn-primary{color:var(--primary-4dp);padding:12px 20px;display:inline-block;border-radius:2px;position:relative}.sponsors-wrapper .btn-primary span{background:var(--primary-gradient);-webkit-background-clip:text!important;-webkit-text-fill-color:transparent}.sponsors-wrapper .btn-primary:before{content:"";position:absolute;inset:0;border-radius:2px;padding:2px;background:var(--primary-gradient);-webkit-mask:linear-gradient(#fff 0 0) content-box,linear-gradient(#fff 0 0);-webkit-mask-composite:xor;mask-composite:exclude;pointer-events:none;z-index:2}.sponsors-wrapper .btn-primary:hover{color:#0894e2}.sponsors-wrapper .btn-primary:hover:before{background:#0894e2}.sponsors-wrapper .btn-primary:hover span{background:#0894e2}@media (min-width: 1200px){.sponsors-carbon{width:calc(100% - 220px)}}.backers-wrapper{margin-top:10px}.backers-wrapper img{width:30px;border-radius:50%;-webkit-border-radius:50%}.inline-column{width:50%;vertical-align:top;margin:0;float:left}@media only screen and (max-width: 991px){.inline-column{width:100%;float:none}}.toc-wrapper,.content,.companies-wrapper{display:inline-block;vertical-align:top}.content,.companies-wrapper{width:calc(100% - 220px)}@media print{.content,.companies-wrapper{width:100%}}@media only screen and (max-width: 1200px){.content,.companies-wrapper{width:100%}}.content .row,.companies-wrapper .row{display:flex}@media only screen and (max-width: 991px){.content .row,.companies-wrapper .row{display:block}}.content .thumbnail,.companies-wrapper .thumbnail{width:400px}@media only screen and (max-width: 991px){.content .thumbnail,.companies-wrapper .thumbnail{width:100%;max-width:400px;margin:0 auto}}.content .thumbnail img,.companies-wrapper .thumbnail img{max-width:100%;padding-top:10px;padding-bottom:0;box-sizing:border-box}.content .thumbnail.p-l-30 img,.companies-wrapper .thumbnail.p-l-30 img{padding-left:30px}@media only screen and (max-width: 991px){.content .thumbnail.p-l-30 img,.companies-wrapper .thumbnail.p-l-30 img{padding-left:0}}.content .thumbnail.p-r-30 img,.companies-wrapper .thumbnail.p-r-30 img{padding-right:30px}@media only screen and (max-width: 991px){.content .thumbnail.p-r-30 img,.companies-wrapper .thumbnail.p-r-30 img{padding-right:0}}.content .content,.companies-wrapper .content{flex-basis:55%}.content .contact-us,.companies-wrapper .contact-us{background:var(--primary);color:#fff;padding:20px 30px;border-radius:3px;margin:35px 0;display:flex;align-items:center}@media only screen and (max-width : 767px){.content .contact-us,.companies-wrapper .contact-us{display:block;text-align:center}.content .contact-us p,.companies-wrapper .contact-us p{text-align:center}}.content .contact-us h5,.companies-wrapper .contact-us h5{text-transform:uppercase;font-weight:600;color:#fff;margin:0}.content .contact-us p,.companies-wrapper .contact-us p{margin:0}.content .contact-us a,.companies-wrapper .contact-us a{background:#fff;border:2px solid #fff;box-sizing:border-box;padding:8px 16px;border-radius:4px;float:right;display:block;text-align:center}.content .contact-us a:hover,.companies-wrapper .contact-us a:hover{background:transparent;color:#fff}@media only screen and (max-width : 767px){.content .contact-us a,.companies-wrapper .contact-us a{width:150px;margin:15px auto 0;float:none}}.content .contact-us .column,.companies-wrapper .contact-us .column{justify-content:center;flex-direction:column}.content .contact-us .column-text,.companies-wrapper .contact-us .column-text{flex-grow:3;margin-right:20px}.github-links{float:right;margin-top:24px}.github-links svg{font-size:17px;color:var(--color-1dp)}.github-links a:hover svg{color:var(--primary)}@media only screen and (max-width: 1200px){.toc-wrapper{display:none}}.company-logo{display:inline-block;vertical-align:middle;margin:10px 20px}.company-logo img{max-width:130px;max-height:60px;padding:6px;filter:var(--company-filter);opacity:var(--company-logo-opacity)}.company-logo img:hover{filter:var(--company-filter-hover);opacity:1}.companies-list a{color:var(--color);font-size:15px;font-weight:400}#carbonads a{color:inherit;text-decoration:none;font-weight:400}#carbonads a:hover{color:inherit}#carbonads span{display:block;overflow:hidden}#carbonads_1,#carbonads_2{display:none}.carbon-img{display:block;margin:0 auto 8px;line-height:1}.carbon-text{display:block;margin-bottom:8px}.carbon-poweredby{text-transform:uppercase;display:block;font-size:10px;letter-spacing:1px;line-height:1}.carbon-wrapper #carbonads{position:fixed;z-index:11;display:block;right:65px;bottom:20px;overflow:hidden;padding:1em;background:var(--background-2dp)!important;text-align:center;line-height:1.5;font-size:13px;max-width:130px}@media only screen and (max-width: 1200px){.carbon-wrapper #carbonads{margin:16px 0 16px 16px;padding:12px;float:right;position:static}}@media only screen and (max-width: 991px){.carbon-wrapper #carbonads{margin:16px 0 16px 16px;padding:12px;text-align:left}}@media (max-width: 360px){.carbon-wrapper #carbonads{display:none}}@media print{.carbon-wrapper{display:none}}.algolia-autocomplete .ds-dropdown-menu{width:460px;min-width:460px;margin-top:18px}.algolia-autocomplete .algolia-docsearch-suggestion--category-header{color:#151515;text-transform:uppercase;font-weight:700;font-size:16px}.algolia-autocomplete .algolia-docsearch-suggestion--subcategory-column{color:#757575}.algolia-autocomplete .algolia-docsearch-suggestion--title{font-weight:600;color:151515}.algolia-autocomplete .algolia-docsearch-suggestion--text{font-size:.8rem;color:gray}.algolia-autocomplete .algolia-docsearch-suggestion--highlight{color:var(--primary);background:#fff2f4}.algolia-autocomplete .ds-dropdown-menu .ds-suggestion.ds-cursor .algolia-docsearch-suggestion.suggestion-layout-simple,.algolia-autocomplete .ds-dropdown-menu .ds-suggestion.ds-cursor .algolia-docsearch-suggestion:not(.suggestion-layout-simple) .algolia-docsearch-suggestion--content{background:#fff8f9}\n'],encapsulation:2,changeDetection:0})}return v})();var Xe=C(8050),Wn=C(5119),Ln=C(4819),Qn=C(2469);let pn=(()=>{class v extends Xe.y{static \u0275fac=(()=>{let a;return function(h){return(a||(a=e.xGo(v)))(h||v)}})();static \u0275cmp=e.VBU({type:v,selectors:[["app-application-context"]],features:[e.Vt3],decls:162,vars:0,consts:[["contentReference",""],["app2bbcedce29ad79ed4a7cbfe305183e527de410ba",""],["app54ad547640dfcfa81d151aef1bd7c31ed27785e3",""],["app4e6476c56996e037788998b655190e87db5e43b0",""],["appf5a4df4352394db92371ec96c261cd39ef9cb59e",""],["appc4f111b5ccbf69634e735539fd417571b73e390b",""],["app3a2c4b2e3e7e9268f9ab8db7e92d2f42373aabed",""],[1,"content"],[1,"github-links"],["href","https://github.com/nestjs/docs.nestjs.com/edit/master/content/application-context.md","aria-label","Suggest Edits","title","Suggest Edits"],[1,"fas","fa-edit"],["id","standalone-applications"],["appAnchor","","id","getting-started"],[1,"with-heading"],[1,"filename"],[1,"language-typescript"],["appAnchor","","id","retrieving-providers-from-static-modules"],[1,"info"],["appAnchor","","id","retrieving-providers-from-dynamic-modules"],["routerLink","./fundamentals/dynamic-modules.md"],["appAnchor","","id","terminating-phase"],["routerLink","./fundamentals/lifecycle-events.md"],["appAnchor","","id","example"],["rel","nofollow","target","_blank","href","https://github.com/nestjs/nest/tree/master/sample/18-context"]],template:function(c,h){1&c&&(e.j41(0,"div",7,0)(2,"div",8)(3,"a",9),e.nrm(4,"i",10),e.k0s()(),e.j41(5,"h3",11),e.EFF(6,"Standalone applications"),e.k0s(),e.j41(7,"p"),e.EFF(8,"There are several ways of mounting a Nest application. You can create a web app, a microservice or just a bare Nest "),e.j41(9,"strong"),e.EFF(10,"standalone application"),e.k0s(),e.EFF(11," (without any network listeners). The Nest standalone application is a wrapper around the Nest "),e.j41(12,"strong"),e.EFF(13,"IoC container"),e.k0s(),e.EFF(14,", which holds all instantiated classes. We can obtain a reference to any existing instance from within any imported module directly using the standalone application object. Thus, you can take advantage of the Nest framework anywhere, including, for example, scripted "),e.j41(15,"strong"),e.EFF(16,"CRON"),e.k0s(),e.EFF(17," jobs. You can even build a "),e.j41(18,"strong"),e.EFF(19,"CLI"),e.k0s(),e.EFF(20," on top of it."),e.k0s(),e.j41(21,"h4",12)(22,"span"),e.EFF(23,"Getting started"),e.k0s()(),e.j41(24,"p"),e.EFF(25,"To create a Nest standalone application, use the following construction:"),e.k0s(),e.j41(26,"app-copy-button",13)(27,"span",14),e.nrm(28,"app-tabs",null,1),e.k0s(),e.j41(30,"pre")(31,"code",15),e.EFF(32,"\nasync function bootstrap() {\n  const app = await NestFactory.createApplicationContext(AppModule);\n  // your application logic here ...\n}\nbootstrap();\n"),e.k0s()()(),e.j41(33,"h4",16)(34,"span"),e.EFF(35,"Retrieving providers from static modules"),e.k0s()(),e.j41(36,"p"),e.EFF(37,"The standalone application object allows you to obtain a reference to any instance registered within the Nest application. Let's imagine that we have a "),e.j41(38,"code"),e.EFF(39,"TasksService"),e.k0s(),e.EFF(40," provider in the "),e.j41(41,"code"),e.EFF(42,"TasksModule"),e.k0s(),e.EFF(43," module that was imported by our "),e.j41(44,"code"),e.EFF(45,"AppModule"),e.k0s(),e.EFF(46," module. This class provides a set of methods that we want to call from within a CRON job."),e.k0s(),e.j41(47,"app-copy-button",13)(48,"span",14),e.nrm(49,"app-tabs",null,2),e.k0s(),e.j41(51,"pre")(52,"code",15),e.EFF(53,"\nconst tasksService = app.get(TasksService);\n"),e.k0s()()(),e.j41(54,"p"),e.EFF(55,"To access the "),e.j41(56,"code"),e.EFF(57,"TasksService"),e.k0s(),e.EFF(58," instance we use the "),e.j41(59,"code"),e.EFF(60,"get()"),e.k0s(),e.EFF(61," method. The "),e.j41(62,"code"),e.EFF(63,"get()"),e.k0s(),e.EFF(64," method acts like a "),e.j41(65,"strong"),e.EFF(66,"query"),e.k0s(),e.EFF(67," that searches for an instance in each registered module. You can pass any provider's token to it. Alternatively, for strict context checking, pass an options object with the "),e.j41(68,"code"),e.EFF(69,"strict: true"),e.k0s(),e.EFF(70," property. With this option in effect, you have to navigate through specific modules to obtain a particular instance from the selected context."),e.k0s(),e.j41(71,"app-copy-button",13)(72,"span",14),e.nrm(73,"app-tabs",null,3),e.k0s(),e.j41(75,"pre")(76,"code",15),e.EFF(77,"\nconst tasksService = app.select(TasksModule).get(TasksService, { strict: true });\n"),e.k0s()()(),e.j41(78,"p"),e.EFF(79,"Following is a summary of the methods available for retrieving instance references from the standalone application object."),e.k0s(),e.j41(80,"table")(81,"tr")(82,"td")(83,"code"),e.EFF(84,"get()"),e.k0s()(),e.j41(85,"td"),e.EFF(86," Retrieves an instance of a controller or provider (including guards, filters, and so on) available in the application context. "),e.k0s()(),e.j41(87,"tr")(88,"td")(89,"code"),e.EFF(90,"select()"),e.k0s()(),e.j41(91,"td"),e.EFF(92," Navigates through the module's graph to pull out a specific instance of the selected module (used together with strict mode as described above). "),e.k0s()()(),e.j41(93,"blockquote",17)(94,"strong"),e.EFF(95,"Hint"),e.k0s(),e.EFF(96," In non-strict mode, the root module is selected by default. To select any other module, you need to navigate the modules graph manually, step by step.\n"),e.k0s(),e.j41(97,"p"),e.EFF(98,"Keep in mind that a standalone application does not have any network listeners, so any Nest features related to HTTP (e.g., middleware, interceptors, pipes, guards, etc.) are not available in this context."),e.k0s(),e.j41(99,"p"),e.EFF(100,"For example, even if you register a global interceptor in your application and then retrieve a controller's instance using the "),e.j41(101,"code"),e.EFF(102,"app.get()"),e.k0s(),e.EFF(103," method, the interceptor will not be executed."),e.k0s(),e.j41(104,"h4",18)(105,"span"),e.EFF(106,"Retrieving providers from dynamic modules"),e.k0s()(),e.j41(107,"p"),e.EFF(108,"When dealing with "),e.j41(109,"a",19),e.EFF(110,"dynamic modules"),e.k0s(),e.EFF(111,", we should supply the same object that represents the registered dynamic module in the application to "),e.j41(112,"code"),e.EFF(113,"app.select"),e.k0s(),e.EFF(114,". For example:"),e.k0s(),e.j41(115,"app-copy-button",13)(116,"span",14),e.nrm(117,"app-tabs",null,4),e.k0s(),e.j41(119,"pre")(120,"code",15),e.EFF(121,"\nexport const dynamicConfigModule = ConfigModule.register({ folder: './config' });\n\n@Module({\n  imports: [dynamicConfigModule],\n})\nexport class AppModule {}\n"),e.k0s()()(),e.j41(122,"p"),e.EFF(123,"Then you can select that module later on:"),e.k0s(),e.j41(124,"app-copy-button",13)(125,"span",14),e.nrm(126,"app-tabs",null,5),e.k0s(),e.j41(128,"pre")(129,"code",15),e.EFF(130,"\nconst configService = app.select(dynamicConfigModule).get(ConfigService, { strict: true });\n"),e.k0s()()(),e.j41(131,"h4",20)(132,"span"),e.EFF(133,"Terminating phase"),e.k0s()(),e.j41(134,"p"),e.EFF(135,"If you want the Node application to close after the script finishes (e.g., for a script running CRON jobs), you must call the "),e.j41(136,"code"),e.EFF(137,"app.close()"),e.k0s(),e.EFF(138," method in the end of your "),e.j41(139,"code"),e.EFF(140,"bootstrap"),e.k0s(),e.EFF(141," function like this:"),e.k0s(),e.j41(142,"app-copy-button",13)(143,"span",14),e.nrm(144,"app-tabs",null,6),e.k0s(),e.j41(146,"pre")(147,"code",15),e.EFF(148,"\nasync function bootstrap() {\n  const app = await NestFactory.createApplicationContext(AppModule);\n  // application logic...\n  await app.close();\n}\nbootstrap();\n"),e.k0s()()(),e.j41(149,"p"),e.EFF(150,"And as mentioned in the "),e.j41(151,"a",21),e.EFF(152,"Lifecycle events"),e.k0s(),e.EFF(153," chapter, that will trigger lifecycle hooks."),e.k0s(),e.j41(154,"h4",22)(155,"span"),e.EFF(156,"Example"),e.k0s()(),e.j41(157,"p"),e.EFF(158,"A working example is available "),e.j41(159,"a",23),e.EFF(160,"here"),e.k0s(),e.EFF(161,"."),e.k0s()())},dependencies:[yt.Wk,Wn.O,Ln.a,Qn.z],encapsulation:2,changeDetection:0})}return v})();var Mn=C(5749),Zn=C(5663);let Po=(()=>{class v extends Xe.y{static \u0275fac=(()=>{let a;return function(h){return(a||(a=e.xGo(v)))(h||v)}})();static \u0275cmp=e.VBU({type:v,selectors:[["app-components"]],features:[e.Vt3],decls:301,vars:24,consts:[["contentReference",""],["app329ca93c1b19fcb2294aa886fa94803f985724a8",""],["app67a001ee6746c00b8bf2f47d63f3def4375c0575",""],["appfeac24f8f4217b4bbd547949c1ed9d099f4281c1",""],["app1ff48dfe9480928362452b164a82a7ba8c2b71c5",""],[1,"content"],[1,"github-links"],["href","https://github.com/nestjs/docs.nestjs.com/edit/master/content/components.md","aria-label","Suggest Edits","title","Suggest Edits"],[1,"fas","fa-edit"],["id","providers"],["src","/assets/Components_1.png",1,"illustrative-image"],[1,"info"],["rel","nofollow","target","_blank","href","https://en.wikipedia.org/wiki/SOLID"],["appAnchor","","id","services"],[1,"with-heading"],[1,"filename"],[1,"language-typescript"],["rel","nofollow","target","_blank","href","https://en.wikipedia.org/wiki/Inversion_of_control"],["appAnchor","","id","dependency-injection"],["rel","nofollow","target","_blank","href","https://angular.dev/guide/di"],["appAnchor","","id","scopes"],["routerLink","/fundamentals/injection-scopes"],["appAnchor","","id","custom-providers"],["routerLink","/fundamentals/dependency-injection"],["appAnchor","","id","optional-providers"],["routerLink","/fundamentals/custom-providers"],["appAnchor","","id","property-based-injection"],[1,"warning"],["appAnchor","","id","provider-registration"],[1,"file-tree"],[1,"item"],[1,"children"],["appAnchor","","id","manual-instantiation"],["rel","nofollow","target","_blank","href","https://docs.nestjs.com/fundamentals/module-ref"],["rel","nofollow","target","_blank","href","https://docs.nestjs.com/standalone-applications"]],template:function(c,h){if(1&c&&(e.j41(0,"div",5,0)(2,"div",6)(3,"a",7),e.nrm(4,"i",8),e.k0s()(),e.j41(5,"h3",9),e.EFF(6,"Providers"),e.k0s(),e.j41(7,"p"),e.EFF(8,"Providers are a fundamental concept in Nest. Many of the basic Nest classes may be treated as a provider \u2013 services, repositories, factories, helpers, and so on. The main idea of a provider is that it can be "),e.j41(9,"strong"),e.EFF(10,"injected"),e.k0s(),e.EFF(11,' as a dependency; this means objects can create various relationships with each other, and the function of "wiring up" these objects can largely be delegated to the Nest runtime system.'),e.k0s(),e.j41(12,"figure"),e.nrm(13,"img",10),e.k0s(),e.j41(14,"p"),e.EFF(15,"In the previous chapter, we built a simple "),e.j41(16,"code"),e.EFF(17,"CatsController"),e.k0s(),e.EFF(18,". Controllers should handle HTTP requests and delegate more complex tasks to "),e.j41(19,"strong"),e.EFF(20,"providers"),e.k0s(),e.EFF(21,". Providers are plain JavaScript classes that are declared as "),e.j41(22,"code"),e.EFF(23,"providers"),e.k0s(),e.EFF(24,' in a NestJS module. For more information, see the "Modules" chapter.'),e.k0s(),e.j41(25,"blockquote",11)(26,"strong"),e.EFF(27,"Hint"),e.k0s(),e.EFF(28," Since Nest enables the possibility to design and organize dependencies in a more OO way, we strongly recommend following the "),e.j41(29,"a",12),e.EFF(30,"SOLID principles"),e.k0s(),e.EFF(31,".\n"),e.k0s(),e.j41(32,"h4",13)(33,"span"),e.EFF(34,"Services"),e.k0s()(),e.j41(35,"p"),e.EFF(36,"Let's start by creating a simple "),e.j41(37,"code"),e.EFF(38,"CatsService"),e.k0s(),e.EFF(39,". This service will be responsible for data storage and retrieval, and is designed to be used by the "),e.j41(40,"code"),e.EFF(41,"CatsController"),e.k0s(),e.EFF(42,", so it's a good candidate to be defined as a provider."),e.k0s(),e.j41(43,"app-copy-button",14)(44,"span",15),e.EFF(45),e.nI1(46,"extension"),e.nrm(47,"app-tabs",null,1),e.k0s(),e.j41(49,"pre")(50,"code",16),e.EFF(51,"\nimport { Injectable } from '@nestjs/common';\nimport { Cat } from './interfaces/cat.interface';\n\n@Injectable()\nexport class CatsService {\n  private readonly cats: Cat[] = [];\n\n  create(cat: Cat) {\n    this.cats.push(cat);\n  }\n\n  findAll(): Cat[] {\n    return this.cats;\n  }\n}\n"),e.k0s()(),e.j41(52,"pre")(53,"code",16),e.EFF(54,"\nimport { Injectable } from '@nestjs/common';\n\n@Injectable()\nexport class CatsService {\n  constructor() {\n    this.cats = [];\n  }\n\n  create(cat) {\n    this.cats.push(cat);\n  }\n\n  findAll() {\n    return this.cats;\n  }\n}\n"),e.k0s()()(),e.j41(55,"blockquote",11)(56,"strong"),e.EFF(57,"Hint"),e.k0s(),e.EFF(58," To create a service using the CLI, simply execute the "),e.j41(59,"code"),e.EFF(60,"$ nest g service cats"),e.k0s(),e.EFF(61," command.\n"),e.k0s(),e.j41(62,"p"),e.EFF(63,"Our "),e.j41(64,"code"),e.EFF(65,"CatsService"),e.k0s(),e.EFF(66," is a basic class with one property and two methods. The only new feature is that it uses the "),e.j41(67,"code"),e.EFF(68,"@Injectable()"),e.k0s(),e.EFF(69," decorator. The "),e.j41(70,"code"),e.EFF(71,"@Injectable()"),e.k0s(),e.EFF(72," decorator attaches metadata, which declares that "),e.j41(73,"code"),e.EFF(74,"CatsService"),e.k0s(),e.EFF(75," is a class that can be managed by the Nest "),e.j41(76,"a",17),e.EFF(77,"IoC"),e.k0s(),e.EFF(78," container. By the way, this example also uses a "),e.j41(79,"code"),e.EFF(80,"Cat"),e.k0s(),e.EFF(81," interface, which probably looks something like this:"),e.k0s(),e.j41(82,"app-copy-button",14)(83,"span",15),e.EFF(84),e.nI1(85,"extension"),e.nrm(86,"app-tabs",null,2),e.k0s(),e.j41(88,"pre")(89,"code",16),e.EFF(90,"\nexport interface Cat {\n  name: string;\n  age: number;\n  breed: string;\n}\n"),e.k0s()()(),e.j41(91,"p"),e.EFF(92,"Now that we have a service class to retrieve cats, let's use it inside the "),e.j41(93,"code"),e.EFF(94,"CatsController"),e.k0s(),e.EFF(95,":"),e.k0s(),e.j41(96,"app-copy-button",14)(97,"span",15),e.EFF(98),e.nI1(99,"extension"),e.nrm(100,"app-tabs",null,3),e.k0s(),e.j41(102,"pre")(103,"code",16),e.EFF(104,"\nimport { Controller, Get, Post, Body } from '@nestjs/common';\nimport { CreateCatDto } from './dto/create-cat.dto';\nimport { CatsService } from './cats.service';\nimport { Cat } from './interfaces/cat.interface';\n\n@Controller('cats')\nexport class CatsController {\n  constructor(private catsService: CatsService) {}\n\n  @Post()\n  async create(@Body() createCatDto: CreateCatDto) {\n    this.catsService.create(createCatDto);\n  }\n\n  @Get()\n  async findAll(): Promise<Cat[]> {\n    return this.catsService.findAll();\n  }\n}\n"),e.k0s()(),e.j41(105,"pre")(106,"code",16),e.EFF(107,"\nimport { Controller, Get, Post, Body, Bind, Dependencies } from '@nestjs/common';\nimport { CatsService } from './cats.service';\n\n@Controller('cats')\n@Dependencies(CatsService)\nexport class CatsController {\n  constructor(catsService) {\n    this.catsService = catsService;\n  }\n\n  @Post()\n  @Bind(Body())\n  async create(createCatDto) {\n    this.catsService.create(createCatDto);\n  }\n\n  @Get()\n  async findAll() {\n    return this.catsService.findAll();\n  }\n}\n"),e.k0s()()(),e.j41(108,"p"),e.EFF(109,"The "),e.j41(110,"code"),e.EFF(111,"CatsService"),e.k0s(),e.EFF(112," is "),e.j41(113,"strong"),e.EFF(114,"injected"),e.k0s(),e.EFF(115," through the class constructor. Notice the use of the "),e.j41(116,"code"),e.EFF(117,"private"),e.k0s(),e.EFF(118," syntax. This shorthand allows us to both declare and initialize the "),e.j41(119,"code"),e.EFF(120,"catsService"),e.k0s(),e.EFF(121," member immediately in the same location."),e.k0s(),e.j41(122,"h4",18)(123,"span"),e.EFF(124,"Dependency injection"),e.k0s()(),e.j41(125,"p"),e.EFF(126,"Nest is built around the strong design pattern commonly known as "),e.j41(127,"strong"),e.EFF(128,"Dependency injection"),e.k0s(),e.EFF(129,". We recommend reading a great article about this concept in the official "),e.j41(130,"a",19),e.EFF(131,"Angular documentation"),e.k0s(),e.EFF(132,"."),e.k0s(),e.j41(133,"p"),e.EFF(134,"In Nest, thanks to TypeScript capabilities, it's extremely easy to manage dependencies because they are resolved just by type. In the example below, Nest will resolve the "),e.j41(135,"code"),e.EFF(136,"catsService"),e.k0s(),e.EFF(137," by creating and returning an instance of "),e.j41(138,"code"),e.EFF(139,"CatsService"),e.k0s(),e.EFF(140," (or, in the normal case of a singleton, returning the existing instance if it has already been requested elsewhere). This dependency is resolved and passed to your controller's constructor (or assigned to the indicated property):"),e.k0s(),e.j41(141,"app-copy-button")(142,"pre")(143,"code",16),e.EFF(144,"\nconstructor(private catsService: CatsService) {}\n"),e.k0s()()(),e.j41(145,"h4",20)(146,"span"),e.EFF(147,"Scopes"),e.k0s()(),e.j41(148,"p"),e.EFF(149,'Providers normally have a lifetime ("scope") synchronized with the application lifecycle. When the application is bootstrapped, every dependency must be resolved, and therefore every provider has to be instantiated. Similarly, when the application shuts down, each provider will be destroyed. However, there are ways to make your provider lifetime '),e.j41(150,"strong"),e.EFF(151,"request-scoped"),e.k0s(),e.EFF(152," as well. You can read more about these techniques in the "),e.j41(153,"a",21),e.EFF(154,"Injection Scopes"),e.k0s(),e.EFF(155," chapter."),e.k0s(),e.j41(156,"p"),e.nrm(157,"app-banner-courses"),e.k0s(),e.j41(158,"h4",22)(159,"span"),e.EFF(160,"Custom providers"),e.k0s()(),e.j41(161,"p"),e.EFF(162,'Nest has a built-in inversion of control ("IoC") container that resolves relationships between providers. This feature underlies the dependency injection feature described above, but is in fact far more powerful than what we\'ve described so far. There are several ways to define a provider: you can use plain values, classes, and either asynchronous or synchronous factories. More examples of defining providers can be found in the '),e.j41(163,"a",23),e.EFF(164,"Dependency Injection"),e.k0s(),e.EFF(165," chapter."),e.k0s(),e.j41(166,"h4",24)(167,"span"),e.EFF(168,"Optional providers"),e.k0s()(),e.j41(169,"p"),e.EFF(170,"Occasionally, you might have dependencies which do not necessarily have to be resolved. For instance, your class may depend on a "),e.j41(171,"strong"),e.EFF(172,"configuration object"),e.k0s(),e.EFF(173,", but if none is passed, the default values should be used. In such a case, the dependency becomes optional, because lack of the configuration provider wouldn't lead to errors."),e.k0s(),e.j41(174,"p"),e.EFF(175,"To indicate a provider is optional, use the "),e.j41(176,"code"),e.EFF(177,"@Optional()"),e.k0s(),e.EFF(178," decorator in the constructor's signature."),e.k0s(),e.j41(179,"app-copy-button")(180,"pre")(181,"code",16),e.EFF(182,"\nimport { Injectable, Optional, Inject } from '@nestjs/common';\n\n@Injectable()\nexport class HttpService<T> {\n  constructor(@Optional() @Inject('HTTP_OPTIONS') private httpClient: T) {}\n}\n"),e.k0s()()(),e.j41(183,"p"),e.EFF(184,"Note that in the example above we are using a custom provider, which is the reason we include the "),e.j41(185,"code"),e.EFF(186,"HTTP_OPTIONS"),e.k0s(),e.EFF(187," custom "),e.j41(188,"strong"),e.EFF(189,"token"),e.k0s(),e.EFF(190,". Previous examples showed constructor-based injection indicating a dependency through a class in the constructor. You can read more about custom providers and their associated tokens in the "),e.j41(191,"a",25),e.EFF(192,"Custom Providers"),e.k0s(),e.EFF(193," chapter."),e.k0s(),e.j41(194,"h4",26)(195,"span"),e.EFF(196,"Property-based injection"),e.k0s()(),e.j41(197,"p"),e.EFF(198,"The technique we've used so far is called constructor-based injection, as providers are injected via the constructor method. In some very specific cases, "),e.j41(199,"strong"),e.EFF(200,"property-based injection"),e.k0s(),e.EFF(201," might be useful. For instance, if your top-level class depends on either one or multiple providers, passing them all the way up by calling "),e.j41(202,"code"),e.EFF(203,"super()"),e.k0s(),e.EFF(204," in sub-classes from the constructor can be very tedious. In order to avoid this, you can use the "),e.j41(205,"code"),e.EFF(206,"@Inject()"),e.k0s(),e.EFF(207," decorator at the property level."),e.k0s(),e.j41(208,"app-copy-button")(209,"pre")(210,"code",16),e.EFF(211,"\nimport { Injectable, Inject } from '@nestjs/common';\n\n@Injectable()\nexport class HttpService<T> {\n  @Inject('HTTP_OPTIONS')\n  private readonly httpClient: T;\n}\n"),e.k0s()()(),e.j41(212,"blockquote",27)(213,"strong"),e.EFF(214,"Warning"),e.k0s(),e.EFF(215," If your class doesn't extend another class, you should always prefer using "),e.j41(216,"strong"),e.EFF(217,"constructor-based"),e.k0s(),e.EFF(218," injection. The constructor explicitly outlines what dependencies are required and provides better visibility than class attributes annotated with "),e.j41(219,"code"),e.EFF(220,"@Inject"),e.k0s(),e.EFF(221,".\n"),e.k0s(),e.j41(222,"h4",28)(223,"span"),e.EFF(224,"Provider registration"),e.k0s()(),e.j41(225,"p"),e.EFF(226,"Now that we have defined a provider ("),e.j41(227,"code"),e.EFF(228,"CatsService"),e.k0s(),e.EFF(229,"), and we have a consumer of that service ("),e.j41(230,"code"),e.EFF(231,"CatsController"),e.k0s(),e.EFF(232,"), we need to register the service with Nest so that it can perform the injection. We do this by editing our module file ("),e.j41(233,"code"),e.EFF(234,"app.module.ts"),e.k0s(),e.EFF(235,") and adding the service to the "),e.j41(236,"code"),e.EFF(237,"providers"),e.k0s(),e.EFF(238," array of the "),e.j41(239,"code"),e.EFF(240,"@Module()"),e.k0s(),e.EFF(241," decorator."),e.k0s(),e.j41(242,"app-copy-button",14)(243,"span",15),e.EFF(244),e.nI1(245,"extension"),e.nrm(246,"app-tabs",null,4),e.k0s(),e.j41(248,"pre")(249,"code",16),e.EFF(250,"\nimport { Module } from '@nestjs/common';\nimport { CatsController } from './cats/cats.controller';\nimport { CatsService } from './cats/cats.service';\n\n@Module({\n  controllers: [CatsController],\n  providers: [CatsService],\n})\nexport class AppModule {}\n"),e.k0s()()(),e.j41(251,"p"),e.EFF(252,"Nest will now be able to resolve the dependencies of the "),e.j41(253,"code"),e.EFF(254,"CatsController"),e.k0s(),e.EFF(255," class."),e.k0s(),e.j41(256,"p"),e.EFF(257,"This is how our directory structure should look now:"),e.k0s(),e.j41(258,"div",29)(259,"div",30),e.EFF(260,"src"),e.k0s(),e.j41(261,"div",31)(262,"div",30),e.EFF(263,"cats"),e.k0s(),e.j41(264,"div",31)(265,"div",30),e.EFF(266,"dto"),e.k0s(),e.j41(267,"div",31)(268,"div",30),e.EFF(269,"create-cat.dto.ts"),e.k0s()(),e.j41(270,"div",30),e.EFF(271,"interfaces"),e.k0s(),e.j41(272,"div",31)(273,"div",30),e.EFF(274,"cat.interface.ts"),e.k0s()(),e.j41(275,"div",30),e.EFF(276,"cats.controller.ts"),e.k0s(),e.j41(277,"div",30),e.EFF(278,"cats.service.ts"),e.k0s()(),e.j41(279,"div",30),e.EFF(280,"app.module.ts"),e.k0s(),e.j41(281,"div",30),e.EFF(282,"main.ts"),e.k0s()()(),e.j41(283,"h4",32)(284,"span"),e.EFF(285,"Manual instantiation"),e.k0s()(),e.j41(286,"p"),e.EFF(287,"Thus far, we've discussed how Nest automatically handles most of the details of resolving dependencies. In certain circumstances, you may need to step outside of the built-in Dependency Injection system and manually retrieve or instantiate providers. We briefly discuss two such topics below."),e.k0s(),e.j41(288,"p"),e.EFF(289,"To get existing instances, or instantiate providers dynamically, you can use "),e.j41(290,"a",33),e.EFF(291,"Module reference"),e.k0s(),e.EFF(292,"."),e.k0s(),e.j41(293,"p"),e.EFF(294,"To get providers within the "),e.j41(295,"code"),e.EFF(296,"bootstrap()"),e.k0s(),e.EFF(297," function (for example for standalone applications without controllers, or to utilize a configuration service during bootstrapping) see "),e.j41(298,"a",34),e.EFF(299,"Standalone applications"),e.k0s(),e.EFF(300,"."),e.k0s()()),2&c){const b=e.sdS(48),M=e.sdS(87),u=e.sdS(101),m=e.sdS(247);e.R7$(45),e.SpI(" ",e.i5U(46,12,"cats.service",b.isJsActive),"\n"),e.R7$(4),e.AVh("hide",b.isJsActive),e.R7$(3),e.AVh("hide",!b.isJsActive),e.R7$(32),e.SpI(" ",e.i5U(85,15,"interfaces/cat.interface",M.isJsActive),"\n"),e.R7$(14),e.SpI(" ",e.i5U(99,18,"cats.controller",u.isJsActive),"\n"),e.R7$(4),e.AVh("hide",u.isJsActive),e.R7$(3),e.AVh("hide",!u.isJsActive),e.R7$(139),e.SpI(" ",e.i5U(245,21,"app.module",m.isJsActive),"\n")}},dependencies:[yt.Wk,Wn.O,Ln.a,Mn.Q,Qn.z,Zn.M],encapsulation:2,changeDetection:0})}return v})();var mo=C(7077);let Xi=(()=>{class v extends Xe.y{static \u0275fac=(()=>{let a;return function(h){return(a||(a=e.xGo(v)))(h||v)}})();static \u0275cmp=e.VBU({type:v,selectors:[["app-controllers"]],features:[e.Vt3],decls:966,vars:82,consts:[["contentReference",""],["app394ba5f9418786a6c9915571f31c7fe04af56596",""],["app6ad0e00a6bbfc3273fe4174e9dc78839fb14e893",""],["app4562a2358aabd88fa965928d1baae32d8c6b0210",""],["appffbdefc424291ded441d2b0d0f43093d457334d7",""],["app6c374ef8d75e34b8912847152aef548e7a3cce69",""],["app33764ff84b83e220c52985bf247da4a86eea65f7",""],["app2a898d2adfd748d2ffafcfc0ef9350918b2169b3",""],["app467289296c9dbd2ecf76f9e18f36388ac67c069b",""],["app4001780cfdaa48b71204d4e238496cd8ba4557e6",""],["app9aaeed4410d08e517db3e3d585c4969ce35a7f0f",""],["app73e7cfd266ea66e22a3f0db4e115267cb6d62a1a",""],["app84d5d1d61498137afb6898feeca261c5fa12ddc3",""],["app7e0d6ce3575886ccffb0913d38cf10e884e895d3",""],[1,"content"],[1,"github-links"],["href","https://github.com/nestjs/docs.nestjs.com/edit/master/content/controllers.md","aria-label","Suggest Edits","title","Suggest Edits"],[1,"fas","fa-edit"],["id","controllers"],["src","/assets/Controllers_1.png",1,"illustrative-image"],[1,"info"],["rel","nofollow","target","_blank","href","https://docs.nestjs.com/techniques/validation"],["rel","nofollow","target","_blank","href","https://docs.nestjs.com/recipes/crud-generator#crud-generator"],["appAnchor","","id","routing"],[1,"with-heading"],[1,"filename"],[1,"language-typescript"],["href","controllers#status-code"],["href","https://expressjs.com/en/api.html#res","rel","nofollow","target","_blank"],[1,"warning"],["appAnchor","","id","request-object"],["rel","nofollow","target","_blank","href","https://expressjs.com/en/api.html#req"],[1,"table-code-asterisk"],["routerLink","/custom-decorators"],["appAnchor","","id","resources"],["appAnchor","","id","route-wildcards"],["appAnchor","","id","status-code"],["appAnchor","","id","headers"],["appAnchor","","id","redirection"],["appAnchor","","id","route-parameters"],["appAnchor","","id","sub-domain-routing"],[1,""],["appAnchor","","id","scopes"],["routerLink","/fundamentals/injection-scopes"],["appAnchor","","id","asynchronicity"],["rel","nofollow","target","_blank","href","https://kamilmysliwiec.com/typescript-2-1-introduction-async-await"],["rel","nofollow","target","_blank","href","https://rxjs-dev.firebaseapp.com/guide/observable"],["appAnchor","","id","request-payloads"],["rel","nofollow","target","_blank","href","https://docs.nestjs.com/techniques/validation#stripping-properties"],["appAnchor","","id","handling-errors"],["routerLink","/exception-filters"],["appAnchor","","id","full-resource-sample"],["routerLink","/recipes/crud-generator"],["appAnchor","","id","getting-up-and-running"],["appAnchor","","id","library-specific-approach"],["rel","nofollow","target","_blank","href","https://expressjs.com/en/api.html#res"]],template:function(c,h){if(1&c&&(e.j41(0,"div",14,0)(2,"div",15)(3,"a",16),e.nrm(4,"i",17),e.k0s()(),e.j41(5,"h3",18),e.EFF(6,"Controllers"),e.k0s(),e.j41(7,"p"),e.EFF(8,"Controllers are responsible for handling incoming "),e.j41(9,"strong"),e.EFF(10,"requests"),e.k0s(),e.EFF(11," and returning "),e.j41(12,"strong"),e.EFF(13,"responses"),e.k0s(),e.EFF(14," to the client."),e.k0s(),e.j41(15,"figure"),e.nrm(16,"img",19),e.k0s(),e.j41(17,"p"),e.EFF(18,"A controller's purpose is to receive specific requests for the application. The "),e.j41(19,"strong"),e.EFF(20,"routing"),e.k0s(),e.EFF(21," mechanism controls which controller receives which requests. Frequently, each controller has more than one route, and different routes can perform different actions."),e.k0s(),e.j41(22,"p"),e.EFF(23,"In order to create a basic controller, we use classes and "),e.j41(24,"strong"),e.EFF(25,"decorators"),e.k0s(),e.EFF(26,". Decorators associate classes with required metadata and enable Nest to create a routing map (tie requests to the corresponding controllers)."),e.k0s(),e.j41(27,"blockquote",20)(28,"strong"),e.EFF(29,"Hint"),e.k0s(),e.EFF(30," For quickly creating a CRUD controller with the "),e.j41(31,"a",21),e.EFF(32,"validation"),e.k0s(),e.EFF(33," built-in, you may use the CLI's "),e.j41(34,"a",22),e.EFF(35,"CRUD generator"),e.k0s(),e.EFF(36,": "),e.j41(37,"code"),e.EFF(38,"nest g resource [name]"),e.k0s(),e.EFF(39,".\n"),e.k0s(),e.j41(40,"h4",23)(41,"span"),e.EFF(42,"Routing"),e.k0s()(),e.j41(43,"p"),e.EFF(44,"In the following example we'll use the "),e.j41(45,"code"),e.EFF(46,"@Controller()"),e.k0s(),e.EFF(47," decorator, which is "),e.j41(48,"strong"),e.EFF(49,"required"),e.k0s(),e.EFF(50," to define a basic controller. We'll specify an optional route path prefix of "),e.j41(51,"code"),e.EFF(52,"cats"),e.k0s(),e.EFF(53,". Using a path prefix in a "),e.j41(54,"code"),e.EFF(55,"@Controller()"),e.k0s(),e.EFF(56," decorator allows us to easily group a set of related routes, and minimize repetitive code. For example, we may choose to group a set of routes that manage interactions with a cat entity under the route "),e.j41(57,"code"),e.EFF(58,"/cats"),e.k0s(),e.EFF(59,". In that case, we could specify the path prefix "),e.j41(60,"code"),e.EFF(61,"cats"),e.k0s(),e.EFF(62," in the "),e.j41(63,"code"),e.EFF(64,"@Controller()"),e.k0s(),e.EFF(65," decorator so that we don't have to repeat that portion of the path for each route in the file."),e.k0s(),e.j41(66,"app-copy-button",24)(67,"span",25),e.EFF(68),e.nI1(69,"extension"),e.nrm(70,"app-tabs",null,1),e.k0s(),e.j41(72,"pre")(73,"code",26),e.EFF(74,"\nimport { Controller, Get } from '@nestjs/common';\n\n@Controller('cats')\nexport class CatsController {\n  @Get()\n  findAll(): string {\n    return 'This action returns all cats';\n  }\n}\n"),e.k0s()(),e.j41(75,"pre")(76,"code",26),e.EFF(77,"\nimport { Controller, Get } from '@nestjs/common';\n\n@Controller('cats')\nexport class CatsController {\n  @Get()\n  findAll() {\n    return 'This action returns all cats';\n  }\n}\n"),e.k0s()()(),e.j41(78,"blockquote",20)(79,"strong"),e.EFF(80,"Hint"),e.k0s(),e.EFF(81," To create a controller using the CLI, simply execute the "),e.j41(82,"code"),e.EFF(83,"$ nest g controller [name]"),e.k0s(),e.EFF(84," command.\n"),e.k0s(),e.j41(85,"p"),e.EFF(86,"The "),e.j41(87,"code"),e.EFF(88,"@Get()"),e.k0s(),e.EFF(89," HTTP request method decorator before the "),e.j41(90,"code"),e.EFF(91,"findAll()"),e.k0s(),e.EFF(92," method tells Nest to create a handler for a specific endpoint for HTTP requests. The endpoint corresponds to the HTTP request method (GET in this case) and the route path. What is the route path? The route path for a handler is determined by concatenating the (optional) prefix declared for the controller, and any path specified in the method's decorator. Since we've declared a prefix for every route ( "),e.j41(93,"code"),e.EFF(94,"cats"),e.k0s(),e.EFF(95,"), and haven't added any path information in the decorator, Nest will map "),e.j41(96,"code"),e.EFF(97,"GET /cats"),e.k0s(),e.EFF(98," requests to this handler. As mentioned, the path includes both the optional controller path prefix "),e.j41(99,"strong"),e.EFF(100,"and"),e.k0s(),e.EFF(101," any path string declared in the request method decorator. For example, a path prefix of "),e.j41(102,"code"),e.EFF(103,"cats"),e.k0s(),e.EFF(104," combined with the decorator "),e.j41(105,"code"),e.EFF(106,"@Get('breed')"),e.k0s(),e.EFF(107," would produce a route mapping for requests like "),e.j41(108,"code"),e.EFF(109,"GET /cats/breed"),e.k0s(),e.EFF(110,"."),e.k0s(),e.j41(111,"p"),e.EFF(112,"In our example above, when a GET request is made to this endpoint, Nest routes the request to our user-defined "),e.j41(113,"code"),e.EFF(114,"findAll()"),e.k0s(),e.EFF(115," method. Note that the method name we choose here is completely arbitrary. We obviously must declare a method to bind the route to, but Nest doesn't attach any significance to the method name chosen."),e.k0s(),e.j41(116,"p"),e.EFF(117,"This method will return a 200 status code and the associated response, which in this case is just a string. Why does that happen? To explain, we'll first introduce the concept that Nest employs two "),e.j41(118,"strong"),e.EFF(119,"different"),e.k0s(),e.EFF(120," options for manipulating responses:"),e.k0s(),e.j41(121,"table")(122,"tr")(123,"td"),e.EFF(124,"Standard (recommended)"),e.k0s(),e.j41(125,"td"),e.EFF(126," Using this built-in method, when a request handler returns a JavaScript object or array, it will "),e.j41(127,"strong"),e.EFF(128,"automatically"),e.k0s(),e.EFF(129," be serialized to JSON. When it returns a JavaScript primitive type (e.g., "),e.j41(130,"code"),e.EFF(131,"string"),e.k0s(),e.EFF(132,", "),e.j41(133,"code"),e.EFF(134,"number"),e.k0s(),e.EFF(135,", "),e.j41(136,"code"),e.EFF(137,"boolean"),e.k0s(),e.EFF(138,"), however, Nest will send just the value without attempting to serialize it. This makes response handling simple: just return the value, and Nest takes care of the rest. "),e.nrm(139,"br")(140,"br"),e.EFF(141," Furthermore, the response's "),e.j41(142,"strong"),e.EFF(143,"status code"),e.k0s(),e.EFF(144," is always 200 by default, except for POST requests which use 201. We can easily change this behavior by adding the "),e.j41(145,"code"),e.EFF(146,"@HttpCode(...)"),e.k0s(),e.EFF(147," decorator at a handler-level (see "),e.j41(148,"a",27),e.EFF(149,"Status codes"),e.k0s(),e.EFF(150,"). "),e.k0s()(),e.j41(151,"tr")(152,"td"),e.EFF(153,"Library-specific"),e.k0s(),e.j41(154,"td"),e.EFF(155," We can use the library-specific (e.g., Express) "),e.j41(156,"a",28),e.EFF(157,"response object"),e.k0s(),e.EFF(158,", which can be injected using the "),e.j41(159,"code"),e.EFF(160,"@Res()"),e.k0s(),e.EFF(161," decorator in the method handler signature (e.g., "),e.j41(162,"code"),e.EFF(163,"findAll(@Res() response)"),e.k0s(),e.EFF(164,"). With this approach, you have the ability to use the native response handling methods exposed by that object. For example, with Express, you can construct responses using code like "),e.j41(165,"code"),e.EFF(166,"response.status(200).send()"),e.k0s(),e.EFF(167,". "),e.k0s()()(),e.j41(168,"blockquote",29)(169,"strong"),e.EFF(170,"Warning"),e.k0s(),e.EFF(171," Nest detects when the handler is using either "),e.j41(172,"code"),e.EFF(173,"@Res()"),e.k0s(),e.EFF(174," or "),e.j41(175,"code"),e.EFF(176,"@Next()"),e.k0s(),e.EFF(177,", indicating you have chosen the library-specific option. If both approaches are used at the same time, the Standard approach is "),e.j41(178,"strong"),e.EFF(179,"automatically disabled"),e.k0s(),e.EFF(180," for this single route and will no longer work as expected. To use both approaches at the same time (for example, by injecting the response object to only set cookies/headers but still leave the rest to the framework), you must set the "),e.j41(181,"code"),e.EFF(182,"passthrough"),e.k0s(),e.EFF(183," option to "),e.j41(184,"code"),e.EFF(185,"true"),e.k0s(),e.EFF(186," in the "),e.j41(187,"code"),e.EFF(188),e.k0s(),e.EFF(189," decorator.\n"),e.k0s(),e.j41(190,"p"),e.nrm(191,"app-banner-devtools"),e.k0s(),e.j41(192,"h4",30)(193,"span"),e.EFF(194,"Request object"),e.k0s()(),e.j41(195,"p"),e.EFF(196,"Handlers often need access to the client "),e.j41(197,"strong"),e.EFF(198,"request"),e.k0s(),e.EFF(199," details. Nest provides access to the "),e.j41(200,"a",31),e.EFF(201,"request object"),e.k0s(),e.EFF(202," of the underlying platform (Express by default). We can access the request object by instructing Nest to inject it by adding the "),e.j41(203,"code"),e.EFF(204,"@Req()"),e.k0s(),e.EFF(205," decorator to the handler's signature."),e.k0s(),e.j41(206,"app-copy-button",24)(207,"span",25),e.EFF(208),e.nI1(209,"extension"),e.nrm(210,"app-tabs",null,2),e.k0s(),e.j41(212,"pre")(213,"code",26),e.EFF(214,"\nimport { Controller, Get, Req } from '@nestjs/common';\nimport { Request } from 'express';\n\n@Controller('cats')\nexport class CatsController {\n  @Get()\n  findAll(@Req() request: Request): string {\n    return 'This action returns all cats';\n  }\n}\n"),e.k0s()(),e.j41(215,"pre")(216,"code",26),e.EFF(217,"\nimport { Controller, Bind, Get, Req } from '@nestjs/common';\n\n@Controller('cats')\nexport class CatsController {\n  @Get()\n  @Bind(Req())\n  findAll(request) {\n    return 'This action returns all cats';\n  }\n}\n"),e.k0s()()(),e.j41(218,"blockquote",20)(219,"strong"),e.EFF(220,"Hint"),e.k0s(),e.EFF(221," In order to take advantage of "),e.j41(222,"code"),e.EFF(223,"express"),e.k0s(),e.EFF(224," typings (as in the "),e.j41(225,"code"),e.EFF(226,"request: Request"),e.k0s(),e.EFF(227," parameter example above), install "),e.j41(228,"code"),e.EFF(229,"@types/express"),e.k0s(),e.EFF(230," package.\n"),e.k0s(),e.j41(231,"p"),e.EFF(232,"The request object represents the HTTP request and has properties for the request query string, parameters, HTTP headers, and body (read more "),e.j41(233,"a",31),e.EFF(234,"here"),e.k0s(),e.EFF(235,"). In most cases, it's not necessary to grab these properties manually. We can use dedicated decorators instead, such as "),e.j41(236,"code"),e.EFF(237,"@Body()"),e.k0s(),e.EFF(238," or "),e.j41(239,"code"),e.EFF(240,"@Query()"),e.k0s(),e.EFF(241,", which are available out of the box. Below is a list of the provided decorators and the plain platform-specific objects they represent."),e.k0s(),e.j41(242,"table")(243,"tbody")(244,"tr")(245,"td")(246,"code"),e.EFF(247,"@Request(), @Req()"),e.k0s()(),e.j41(248,"td")(249,"code"),e.EFF(250,"req"),e.k0s()()(),e.j41(251,"tr")(252,"td")(253,"code"),e.EFF(254,"@Response(), @Res()"),e.k0s(),e.j41(255,"span",32),e.EFF(256,"*"),e.k0s()(),e.j41(257,"td")(258,"code"),e.EFF(259,"res"),e.k0s()()(),e.j41(260,"tr")(261,"td")(262,"code"),e.EFF(263,"@Next()"),e.k0s()(),e.j41(264,"td")(265,"code"),e.EFF(266,"next"),e.k0s()()(),e.j41(267,"tr")(268,"td")(269,"code"),e.EFF(270,"@Session()"),e.k0s()(),e.j41(271,"td")(272,"code"),e.EFF(273,"req.session"),e.k0s()()(),e.j41(274,"tr")(275,"td")(276,"code"),e.EFF(277,"@Param(key?: string)"),e.k0s()(),e.j41(278,"td")(279,"code"),e.EFF(280,"req.params"),e.k0s(),e.EFF(281," / "),e.j41(282,"code"),e.EFF(283,"req.params[key]"),e.k0s()()(),e.j41(284,"tr")(285,"td")(286,"code"),e.EFF(287,"@Body(key?: string)"),e.k0s()(),e.j41(288,"td")(289,"code"),e.EFF(290,"req.body"),e.k0s(),e.EFF(291," / "),e.j41(292,"code"),e.EFF(293,"req.body[key]"),e.k0s()()(),e.j41(294,"tr")(295,"td")(296,"code"),e.EFF(297,"@Query(key?: string)"),e.k0s()(),e.j41(298,"td")(299,"code"),e.EFF(300,"req.query"),e.k0s(),e.EFF(301," / "),e.j41(302,"code"),e.EFF(303,"req.query[key]"),e.k0s()()(),e.j41(304,"tr")(305,"td")(306,"code"),e.EFF(307,"@Headers(name?: string)"),e.k0s()(),e.j41(308,"td")(309,"code"),e.EFF(310,"req.headers"),e.k0s(),e.EFF(311," / "),e.j41(312,"code"),e.EFF(313,"req.headers[name]"),e.k0s()()(),e.j41(314,"tr")(315,"td")(316,"code"),e.EFF(317,"@Ip()"),e.k0s()(),e.j41(318,"td")(319,"code"),e.EFF(320,"req.ip"),e.k0s()()(),e.j41(321,"tr")(322,"td")(323,"code"),e.EFF(324,"@HostParam()"),e.k0s()(),e.j41(325,"td")(326,"code"),e.EFF(327,"req.hosts"),e.k0s()()()()(),e.j41(328,"p")(329,"sup"),e.EFF(330,"* "),e.k0s(),e.EFF(331,"For compatibility with typings across underlying HTTP platforms (e.g., Express and Fastify), Nest provides "),e.j41(332,"code"),e.EFF(333,"@Res()"),e.k0s(),e.EFF(334," and "),e.j41(335,"code"),e.EFF(336,"@Response()"),e.k0s(),e.EFF(337," decorators. "),e.j41(338,"code"),e.EFF(339,"@Res()"),e.k0s(),e.EFF(340," is simply an alias for "),e.j41(341,"code"),e.EFF(342,"@Response()"),e.k0s(),e.EFF(343,". Both directly expose the underlying native platform "),e.j41(344,"code"),e.EFF(345,"response"),e.k0s(),e.EFF(346," object interface. When using them, you should also import the typings for the underlying library (e.g., "),e.j41(347,"code"),e.EFF(348,"@types/express"),e.k0s(),e.EFF(349,") to take full advantage. Note that when you inject either "),e.j41(350,"code"),e.EFF(351,"@Res()"),e.k0s(),e.EFF(352," or "),e.j41(353,"code"),e.EFF(354,"@Response()"),e.k0s(),e.EFF(355," in a method handler, you put Nest into "),e.j41(356,"strong"),e.EFF(357,"Library-specific mode"),e.k0s(),e.EFF(358," for that handler, and you become responsible for managing the response. When doing so, you must issue some kind of response by making a call on the "),e.j41(359,"code"),e.EFF(360,"response"),e.k0s(),e.EFF(361," object (e.g., "),e.j41(362,"code"),e.EFF(363,"res.json(...)"),e.k0s(),e.EFF(364," or "),e.j41(365,"code"),e.EFF(366,"res.send(...)"),e.k0s(),e.EFF(367,"), or the HTTP server will hang."),e.k0s(),e.j41(368,"blockquote",20)(369,"strong"),e.EFF(370,"Hint"),e.k0s(),e.EFF(371," To learn how to create your own custom decorators, visit "),e.j41(372,"a",33),e.EFF(373,"this"),e.k0s(),e.EFF(374," chapter.\n"),e.k0s(),e.j41(375,"h4",34)(376,"span"),e.EFF(377,"Resources"),e.k0s()(),e.j41(378,"p"),e.EFF(379,"Earlier, we defined an endpoint to fetch the cats resource ("),e.j41(380,"strong"),e.EFF(381,"GET"),e.k0s(),e.EFF(382," route). We'll typically also want to provide an endpoint that creates new records. For this, let's create the "),e.j41(383,"strong"),e.EFF(384,"POST"),e.k0s(),e.EFF(385," handler:"),e.k0s(),e.j41(386,"app-copy-button",24)(387,"span",25),e.EFF(388),e.nI1(389,"extension"),e.nrm(390,"app-tabs",null,3),e.k0s(),e.j41(392,"pre")(393,"code",26),e.EFF(394,"\nimport { Controller, Get, Post } from '@nestjs/common';\n\n@Controller('cats')\nexport class CatsController {\n  @Post()\n  create(): string {\n    return 'This action adds a new cat';\n  }\n\n  @Get()\n  findAll(): string {\n    return 'This action returns all cats';\n  }\n}\n"),e.k0s()(),e.j41(395,"pre")(396,"code",26),e.EFF(397,"\nimport { Controller, Get, Post } from '@nestjs/common';\n\n@Controller('cats')\nexport class CatsController {\n  @Post()\n  create() {\n    return 'This action adds a new cat';\n  }\n\n  @Get()\n  findAll() {\n    return 'This action returns all cats';\n  }\n}\n"),e.k0s()()(),e.j41(398,"p"),e.EFF(399,"It's that simple. Nest provides decorators for all of the standard HTTP methods: "),e.j41(400,"code"),e.EFF(401,"@Get()"),e.k0s(),e.EFF(402,", "),e.j41(403,"code"),e.EFF(404,"@Post()"),e.k0s(),e.EFF(405,", "),e.j41(406,"code"),e.EFF(407,"@Put()"),e.k0s(),e.EFF(408,", "),e.j41(409,"code"),e.EFF(410,"@Delete()"),e.k0s(),e.EFF(411,", "),e.j41(412,"code"),e.EFF(413,"@Patch()"),e.k0s(),e.EFF(414,", "),e.j41(415,"code"),e.EFF(416,"@Options()"),e.k0s(),e.EFF(417,", and "),e.j41(418,"code"),e.EFF(419,"@Head()"),e.k0s(),e.EFF(420,". In addition, "),e.j41(421,"code"),e.EFF(422,"@All()"),e.k0s(),e.EFF(423," defines an endpoint that handles all of them."),e.k0s(),e.j41(424,"h4",35)(425,"span"),e.EFF(426,"Route wildcards"),e.k0s()(),e.j41(427,"p"),e.EFF(428,"Pattern based routes are supported as well. For instance, the asterisk is used as a wildcard, and will match any combination of characters."),e.k0s(),e.j41(429,"app-copy-button")(430,"pre")(431,"code",26),e.EFF(432,"\n@Get('ab*cd')\nfindAll() {\n  return 'This route uses a wildcard';\n}\n"),e.k0s()()(),e.j41(433,"p"),e.EFF(434,"The "),e.j41(435,"code"),e.EFF(436,"'ab*cd'"),e.k0s(),e.EFF(437," route path will match "),e.j41(438,"code"),e.EFF(439,"abcd"),e.k0s(),e.EFF(440,", "),e.j41(441,"code"),e.EFF(442,"ab_cd"),e.k0s(),e.EFF(443,", "),e.j41(444,"code"),e.EFF(445,"abecd"),e.k0s(),e.EFF(446,", and so on. The characters "),e.j41(447,"code"),e.EFF(448,"?"),e.k0s(),e.EFF(449,", "),e.j41(450,"code"),e.EFF(451,"+"),e.k0s(),e.EFF(452,", "),e.j41(453,"code"),e.EFF(454,"*"),e.k0s(),e.EFF(455,", and "),e.j41(456,"code"),e.EFF(457,"()"),e.k0s(),e.EFF(458," may be used in a route path, and are subsets of their regular expression counterparts. The hyphen ( "),e.j41(459,"code"),e.EFF(460,"-"),e.k0s(),e.EFF(461,") and the dot ("),e.j41(462,"code"),e.EFF(463,"."),e.k0s(),e.EFF(464,") are interpreted literally by string-based paths."),e.k0s(),e.j41(465,"blockquote",29)(466,"strong"),e.EFF(467,"Warning"),e.k0s(),e.EFF(468," A wildcard in the middle of the route is only supported by express.\n"),e.k0s(),e.j41(469,"h4",36)(470,"span"),e.EFF(471,"Status code"),e.k0s()(),e.j41(472,"p"),e.EFF(473,"As mentioned, the response "),e.j41(474,"strong"),e.EFF(475,"status code"),e.k0s(),e.EFF(476," is always "),e.j41(477,"strong"),e.EFF(478,"200"),e.k0s(),e.EFF(479," by default, except for POST requests which are "),e.j41(480,"strong"),e.EFF(481,"201"),e.k0s(),e.EFF(482,". We can easily change this behavior by adding the "),e.j41(483,"code"),e.EFF(484,"@HttpCode(...)"),e.k0s(),e.EFF(485," decorator at a handler level."),e.k0s(),e.j41(486,"app-copy-button")(487,"pre")(488,"code",26),e.EFF(489,"\n@Post()\n@HttpCode(204)\ncreate() {\n  return 'This action adds a new cat';\n}\n"),e.k0s()()(),e.j41(490,"blockquote",20)(491,"strong"),e.EFF(492,"Hint"),e.k0s(),e.EFF(493," Import "),e.j41(494,"code"),e.EFF(495,"HttpCode"),e.k0s(),e.EFF(496," from the "),e.j41(497,"code"),e.EFF(498,"@nestjs/common"),e.k0s(),e.EFF(499," package.\n"),e.k0s(),e.j41(500,"p"),e.EFF(501,"Often, your status code isn't static but depends on various factors. In that case, you can use a library-specific "),e.j41(502,"strong"),e.EFF(503,"response"),e.k0s(),e.EFF(504," (inject using "),e.j41(505,"code"),e.EFF(506,"@Res()"),e.k0s(),e.EFF(507,") object (or, in case of an error, throw an exception)."),e.k0s(),e.j41(508,"h4",37)(509,"span"),e.EFF(510,"Headers"),e.k0s()(),e.j41(511,"p"),e.EFF(512,"To specify a custom response header, you can either use a "),e.j41(513,"code"),e.EFF(514,"@Header()"),e.k0s(),e.EFF(515," decorator or a library-specific response object (and call "),e.j41(516,"code"),e.EFF(517,"res.header()"),e.k0s(),e.EFF(518," directly)."),e.k0s(),e.j41(519,"app-copy-button")(520,"pre")(521,"code",26),e.EFF(522,"\n@Post()\n@Header('Cache-Control', 'no-store')\ncreate() {\n  return 'This action adds a new cat';\n}\n"),e.k0s()()(),e.j41(523,"blockquote",20)(524,"strong"),e.EFF(525,"Hint"),e.k0s(),e.EFF(526," Import "),e.j41(527,"code"),e.EFF(528,"Header"),e.k0s(),e.EFF(529," from the "),e.j41(530,"code"),e.EFF(531,"@nestjs/common"),e.k0s(),e.EFF(532," package.\n"),e.k0s(),e.j41(533,"h4",38)(534,"span"),e.EFF(535,"Redirection"),e.k0s()(),e.j41(536,"p"),e.EFF(537,"To redirect a response to a specific URL, you can either use a "),e.j41(538,"code"),e.EFF(539,"@Redirect()"),e.k0s(),e.EFF(540," decorator or a library-specific response object (and call "),e.j41(541,"code"),e.EFF(542,"res.redirect()"),e.k0s(),e.EFF(543," directly)."),e.k0s(),e.j41(544,"p")(545,"code"),e.EFF(546,"@Redirect()"),e.k0s(),e.EFF(547," takes two arguments, "),e.j41(548,"code"),e.EFF(549,"url"),e.k0s(),e.EFF(550," and "),e.j41(551,"code"),e.EFF(552,"statusCode"),e.k0s(),e.EFF(553,", both are optional. The default value of "),e.j41(554,"code"),e.EFF(555,"statusCode"),e.k0s(),e.EFF(556," is "),e.j41(557,"code"),e.EFF(558,"302"),e.k0s(),e.EFF(559," ("),e.j41(560,"code"),e.EFF(561,"Found"),e.k0s(),e.EFF(562,") if omitted."),e.k0s(),e.j41(563,"app-copy-button")(564,"pre")(565,"code",26),e.EFF(566,"\n@Get()\n@Redirect('https://nestjs.com', 301)\n"),e.k0s()()(),e.j41(567,"blockquote",20)(568,"strong"),e.EFF(569,"Hint"),e.k0s(),e.EFF(570," Sometimes you may want to determine the HTTP status code or the redirect URL dynamically. Do this by returning an object following the "),e.j41(571,"code"),e.EFF(572,"HttpRedirectResponse"),e.k0s(),e.EFF(573," interface (from "),e.j41(574,"code"),e.EFF(575,"@nestjs/common"),e.k0s(),e.EFF(576,").\n"),e.k0s(),e.j41(577,"p"),e.EFF(578,"Returned values will override any arguments passed to the "),e.j41(579,"code"),e.EFF(580,"@Redirect()"),e.k0s(),e.EFF(581," decorator. For example:"),e.k0s(),e.j41(582,"app-copy-button")(583,"pre")(584,"code",26),e.EFF(585,"\n@Get('docs')\n@Redirect('https://docs.nestjs.com', 302)\ngetDocs(@Query('version') version) {\n  if (version && version === '5') {\n    return { url: 'https://docs.nestjs.com/v5/' };\n  }\n}\n"),e.k0s()()(),e.j41(586,"h4",39)(587,"span"),e.EFF(588,"Route parameters"),e.k0s()(),e.j41(589,"p"),e.EFF(590,"Routes with static paths won't work when you need to accept "),e.j41(591,"strong"),e.EFF(592,"dynamic data"),e.k0s(),e.EFF(593," as part of the request (e.g., "),e.j41(594,"code"),e.EFF(595,"GET /cats/1"),e.k0s(),e.EFF(596," to get cat with id "),e.j41(597,"code"),e.EFF(598,"1"),e.k0s(),e.EFF(599,"). In order to define routes with parameters, we can add route parameter "),e.j41(600,"strong"),e.EFF(601,"tokens"),e.k0s(),e.EFF(602," in the path of the route to capture the dynamic value at that position in the request URL. The route parameter token in the "),e.j41(603,"code"),e.EFF(604,"@Get()"),e.k0s(),e.EFF(605," decorator example below demonstrates this usage. Route parameters declared in this way can be accessed using the "),e.j41(606,"code"),e.EFF(607,"@Param()"),e.k0s(),e.EFF(608," decorator, which should be added to the method signature."),e.k0s(),e.j41(609,"blockquote",20)(610,"strong"),e.EFF(611,"Hint"),e.k0s(),e.EFF(612," Routes with parameters should be declared after any static paths. This prevents the parameterized paths from intercepting traffic destined for the static paths.\n"),e.k0s(),e.j41(613,"app-copy-button",24)(614,"span",25),e.nrm(615,"app-tabs",null,4),e.k0s(),e.j41(617,"pre")(618,"code",26),e.EFF(619,"\n@Get(':id')\nfindOne(@Param() params: any): string {\n  console.log(params.id);\n  return `This action returns a #${params.id} cat`;\n}\n"),e.k0s()(),e.j41(620,"pre")(621,"code",26),e.EFF(622,"\n@Get(':id')\n@Bind(Param())\nfindOne(params) {\n  console.log(params.id);\n  return `This action returns a #${params.id} cat`;\n}\n"),e.k0s()()(),e.j41(623,"p")(624,"code"),e.EFF(625,"@Param()"),e.k0s(),e.EFF(626," is used to decorate a method parameter ("),e.j41(627,"code"),e.EFF(628,"params"),e.k0s(),e.EFF(629," in the example above), and makes the "),e.j41(630,"strong"),e.EFF(631,"route"),e.k0s(),e.EFF(632," parameters available as properties of that decorated method parameter inside the body of the method. As seen in the code above, we can access the "),e.j41(633,"code"),e.EFF(634,"id"),e.k0s(),e.EFF(635," parameter by referencing "),e.j41(636,"code"),e.EFF(637,"params.id"),e.k0s(),e.EFF(638,". You can also pass in a particular parameter token to the decorator, and then reference the route parameter directly by name in the method body."),e.k0s(),e.j41(639,"blockquote",20)(640,"strong"),e.EFF(641,"Hint"),e.k0s(),e.EFF(642," Import "),e.j41(643,"code"),e.EFF(644,"Param"),e.k0s(),e.EFF(645," from the "),e.j41(646,"code"),e.EFF(647,"@nestjs/common"),e.k0s(),e.EFF(648," package.\n"),e.k0s(),e.j41(649,"app-copy-button",24)(650,"span",25),e.nrm(651,"app-tabs",null,5),e.k0s(),e.j41(653,"pre")(654,"code",26),e.EFF(655,"\n@Get(':id')\nfindOne(@Param('id') id: string): string {\n  return `This action returns a #${id} cat`;\n}\n"),e.k0s()(),e.j41(656,"pre")(657,"code",26),e.EFF(658,"\n@Get(':id')\n@Bind(Param('id'))\nfindOne(id) {\n  return `This action returns a #${id} cat`;\n}\n"),e.k0s()()(),e.j41(659,"h4",40)(660,"span"),e.EFF(661,"Sub-Domain Routing"),e.k0s()(),e.j41(662,"p"),e.EFF(663,"The "),e.j41(664,"code"),e.EFF(665,"@Controller"),e.k0s(),e.EFF(666," decorator can take a "),e.j41(667,"code"),e.EFF(668,"host"),e.k0s(),e.EFF(669," option to require that the HTTP host of the incoming requests matches some specific value."),e.k0s(),e.j41(670,"app-copy-button")(671,"pre")(672,"code",26),e.EFF(673,"\n@Controller({ host: 'admin.example.com' })\nexport class AdminController {\n  @Get()\n  index(): string {\n    return 'Admin page';\n  }\n}\n"),e.k0s()()(),e.j41(674,"blockquote",41)(675,"strong"),e.EFF(676,"Warning"),e.k0s(),e.EFF(677," Since "),e.j41(678,"strong"),e.EFF(679,"Fastify"),e.k0s(),e.EFF(680," lacks support for nested routers, when using sub-domain routing, the (default) Express adapter should be used instead.\n"),e.k0s(),e.j41(681,"p"),e.EFF(682,"Similar to a route "),e.j41(683,"code"),e.EFF(684,"path"),e.k0s(),e.EFF(685,", the "),e.j41(686,"code"),e.EFF(687,"hosts"),e.k0s(),e.EFF(688," option can use tokens to capture the dynamic value at that position in the host name. The host parameter token in the "),e.j41(689,"code"),e.EFF(690,"@Controller()"),e.k0s(),e.EFF(691," decorator example below demonstrates this usage. Host parameters declared in this way can be accessed using the "),e.j41(692,"code"),e.EFF(693,"@HostParam()"),e.k0s(),e.EFF(694," decorator, which should be added to the method signature."),e.k0s(),e.j41(695,"app-copy-button")(696,"pre")(697,"code",26),e.EFF(698,"\n@Controller({ host: ':account.example.com' })\nexport class AccountController {\n  @Get()\n  getInfo(@HostParam('account') account: string) {\n    return account;\n  }\n}\n"),e.k0s()()(),e.j41(699,"h4",42)(700,"span"),e.EFF(701,"Scopes"),e.k0s()(),e.j41(702,"p"),e.EFF(703,"For people coming from different programming language backgrounds, it might be unexpected to learn that in Nest, almost everything is shared across incoming requests. We have a connection pool to the database, singleton services with global state, etc. Remember that Node.js doesn't follow the request/response Multi-Threaded Stateless Model in which every request is processed by a separate thread. Hence, using singleton instances is fully "),e.j41(704,"strong"),e.EFF(705,"safe"),e.k0s(),e.EFF(706," for our applications."),e.k0s(),e.j41(707,"p"),e.EFF(708,"However, there are edge-cases when request-based lifetime of the controller may be the desired behavior, for instance per-request caching in GraphQL applications, request tracking or multi-tenancy. Learn how to control scopes "),e.j41(709,"a",43),e.EFF(710,"here"),e.k0s(),e.EFF(711,"."),e.k0s(),e.j41(712,"h4",44)(713,"span"),e.EFF(714,"Asynchronicity"),e.k0s()(),e.j41(715,"p"),e.EFF(716,"We love modern JavaScript and we know that data extraction is mostly "),e.j41(717,"strong"),e.EFF(718,"asynchronous"),e.k0s(),e.EFF(719,". That's why Nest supports and works well with "),e.j41(720,"code"),e.EFF(721,"async"),e.k0s(),e.EFF(722," functions."),e.k0s(),e.j41(723,"blockquote",20)(724,"strong"),e.EFF(725,"Hint"),e.k0s(),e.EFF(726," Learn more about "),e.j41(727,"code"),e.EFF(728,"async / await"),e.k0s(),e.EFF(729," feature\xa0"),e.j41(730,"a",45),e.EFF(731,"here"),e.k0s()(),e.j41(732,"p"),e.EFF(733,"Every async function has to return a "),e.j41(734,"code"),e.EFF(735,"Promise"),e.k0s(),e.EFF(736,". This means that you can return a deferred value that Nest will be able to resolve by itself. Let's see an example of this:"),e.k0s(),e.j41(737,"app-copy-button",24)(738,"span",25),e.EFF(739),e.nI1(740,"extension"),e.nrm(741,"app-tabs",null,6),e.k0s(),e.j41(743,"pre")(744,"code",26),e.EFF(745,"\n@Get()\nasync findAll(): Promise<any[]> {\n  return [];\n}\n"),e.k0s()(),e.j41(746,"pre")(747,"code",26),e.EFF(748,"\n@Get()\nasync findAll() {\n  return [];\n}\n"),e.k0s()()(),e.j41(749,"p"),e.EFF(750,"The above code is fully valid. Furthermore, Nest route handlers are even more powerful by being able to return RxJS "),e.j41(751,"a",46),e.EFF(752,"observable streams"),e.k0s(),e.EFF(753,". Nest will automatically subscribe to the source underneath and take the last emitted value (once the stream is completed)."),e.k0s(),e.j41(754,"app-copy-button",24)(755,"span",25),e.EFF(756),e.nI1(757,"extension"),e.nrm(758,"app-tabs",null,7),e.k0s(),e.j41(760,"pre")(761,"code",26),e.EFF(762,"\n@Get()\nfindAll(): Observable<any[]> {\n  return of([]);\n}\n"),e.k0s()(),e.j41(763,"pre")(764,"code",26),e.EFF(765,"\n@Get()\nfindAll() {\n  return of([]);\n}\n"),e.k0s()()(),e.j41(766,"p"),e.EFF(767,"Both of the above approaches work and you can use whatever fits your requirements."),e.k0s(),e.j41(768,"h4",47)(769,"span"),e.EFF(770,"Request payloads"),e.k0s()(),e.j41(771,"p"),e.EFF(772,"Our previous example of the POST route handler didn't accept any client params. Let's fix this by adding the "),e.j41(773,"code"),e.EFF(774,"@Body()"),e.k0s(),e.EFF(775," decorator here."),e.k0s(),e.j41(776,"p"),e.EFF(777,"But first (if you use TypeScript), we need to determine the "),e.j41(778,"strong"),e.EFF(779,"DTO"),e.k0s(),e.EFF(780," (Data Transfer Object) schema. A DTO is an object that defines how the data will be sent over the network. We could determine the DTO schema by using "),e.j41(781,"strong"),e.EFF(782,"TypeScript"),e.k0s(),e.EFF(783," interfaces, or by simple classes. Interestingly, we recommend using "),e.j41(784,"strong"),e.EFF(785,"classes"),e.k0s(),e.EFF(786," here. Why? Classes are part of the JavaScript ES6 standard, and therefore they are preserved as real entities in the compiled JavaScript. On the other hand, since TypeScript interfaces are removed during the transpilation, Nest can't refer to them at runtime. This is important because features such as "),e.j41(787,"strong"),e.EFF(788,"Pipes"),e.k0s(),e.EFF(789," enable additional possibilities when they have access to the metatype of the variable at runtime."),e.k0s(),e.j41(790,"p"),e.EFF(791,"Let's create the "),e.j41(792,"code"),e.EFF(793,"CreateCatDto"),e.k0s(),e.EFF(794," class:"),e.k0s(),e.j41(795,"app-copy-button",24)(796,"span",25),e.EFF(797),e.nI1(798,"extension"),e.nrm(799,"app-tabs",null,8),e.k0s(),e.j41(801,"pre")(802,"code",26),e.EFF(803,"\nexport class CreateCatDto {\n  name: string;\n  age: number;\n  breed: string;\n}\n"),e.k0s()()(),e.j41(804,"p"),e.EFF(805,"It has only three basic properties. Thereafter we can use the newly created DTO inside the "),e.j41(806,"code"),e.EFF(807,"CatsController"),e.k0s(),e.EFF(808,":"),e.k0s(),e.j41(809,"app-copy-button",24)(810,"span",25),e.EFF(811),e.nI1(812,"extension"),e.nrm(813,"app-tabs",null,9),e.k0s(),e.j41(815,"pre")(816,"code",26),e.EFF(817,"\n@Post()\nasync create(@Body() createCatDto: CreateCatDto) {\n  return 'This action adds a new cat';\n}\n"),e.k0s()(),e.j41(818,"pre")(819,"code",26),e.EFF(820,"\n@Post()\n@Bind(Body())\nasync create(createCatDto) {\n  return 'This action adds a new cat';\n}\n"),e.k0s()()(),e.j41(821,"blockquote",20)(822,"strong"),e.EFF(823,"Hint"),e.k0s(),e.EFF(824," Our "),e.j41(825,"code"),e.EFF(826,"ValidationPipe"),e.k0s(),e.EFF(827," can filter out properties that should not be received by the method handler. In this case, we can whitelist the acceptable properties, and any property not included in the whitelist is automatically stripped from the resulting object. In the "),e.j41(828,"code"),e.EFF(829,"CreateCatDto"),e.k0s(),e.EFF(830," example, our whitelist is the "),e.j41(831,"code"),e.EFF(832,"name"),e.k0s(),e.EFF(833,", "),e.j41(834,"code"),e.EFF(835,"age"),e.k0s(),e.EFF(836,", and "),e.j41(837,"code"),e.EFF(838,"breed"),e.k0s(),e.EFF(839," properties. Learn more "),e.j41(840,"a",48),e.EFF(841,"here"),e.k0s(),e.EFF(842,".\n"),e.k0s(),e.j41(843,"h4",49)(844,"span"),e.EFF(845,"Handling errors"),e.k0s()(),e.j41(846,"p"),e.EFF(847,"There's a separate chapter about handling errors (i.e., working with exceptions) "),e.j41(848,"a",50),e.EFF(849,"here"),e.k0s(),e.EFF(850,"."),e.k0s(),e.j41(851,"h4",51)(852,"span"),e.EFF(853,"Full resource sample"),e.k0s()(),e.j41(854,"p"),e.EFF(855,"Below is an example that makes use of several of the available decorators to create a basic controller. This controller exposes a couple of methods to access and manipulate internal data."),e.k0s(),e.j41(856,"app-copy-button",24)(857,"span",25),e.EFF(858),e.nI1(859,"extension"),e.nrm(860,"app-tabs",null,10),e.k0s(),e.j41(862,"pre")(863,"code",26),e.EFF(864,"\nimport { Controller, Get, Query, Post, Body, Put, Param, Delete } from '@nestjs/common';\nimport { CreateCatDto, UpdateCatDto, ListAllEntities } from './dto';\n\n@Controller('cats')\nexport class CatsController {\n  @Post()\n  create(@Body() createCatDto: CreateCatDto) {\n    return 'This action adds a new cat';\n  }\n\n  @Get()\n  findAll(@Query() query: ListAllEntities) {\n    return `This action returns all cats (limit: ${query.limit} items)`;\n  }\n\n  @Get(':id')\n  findOne(@Param('id') id: string) {\n    return `This action returns a #${id} cat`;\n  }\n\n  @Put(':id')\n  update(@Param('id') id: string, @Body() updateCatDto: UpdateCatDto) {\n    return `This action updates a #${id} cat`;\n  }\n\n  @Delete(':id')\n  remove(@Param('id') id: string) {\n    return `This action removes a #${id} cat`;\n  }\n}\n"),e.k0s()(),e.j41(865,"pre")(866,"code",26),e.EFF(867,"\nimport { Controller, Get, Query, Post, Body, Put, Param, Delete, Bind } from '@nestjs/common';\n\n@Controller('cats')\nexport class CatsController {\n  @Post()\n  @Bind(Body())\n  create(createCatDto) {\n    return 'This action adds a new cat';\n  }\n\n  @Get()\n  @Bind(Query())\n  findAll(query) {\n    console.log(query);\n    return `This action returns all cats (limit: ${query.limit} items)`;\n  }\n\n  @Get(':id')\n  @Bind(Param('id'))\n  findOne(id) {\n    return `This action returns a #${id} cat`;\n  }\n\n  @Put(':id')\n  @Bind(Param('id'), Body())\n  update(id, updateCatDto) {\n    return `This action updates a #${id} cat`;\n  }\n\n  @Delete(':id')\n  @Bind(Param('id'))\n  remove(id) {\n    return `This action removes a #${id} cat`;\n  }\n}\n"),e.k0s()()(),e.j41(868,"blockquote",20)(869,"strong"),e.EFF(870,"Hint"),e.k0s(),e.EFF(871," Nest CLI provides a generator (schematic) that automatically generates "),e.j41(872,"strong"),e.EFF(873,"all the boilerplate code"),e.k0s(),e.EFF(874," to help us avoid doing all of this, and make the developer experience much simpler. Read more about this feature "),e.j41(875,"a",52),e.EFF(876,"here"),e.k0s(),e.EFF(877,".\n"),e.k0s(),e.j41(878,"h4",53)(879,"span"),e.EFF(880,"Getting up and running"),e.k0s()(),e.j41(881,"p"),e.EFF(882,"With the above controller fully defined, Nest still doesn't know that "),e.j41(883,"code"),e.EFF(884,"CatsController"),e.k0s(),e.EFF(885," exists and as a result won't create an instance of this class."),e.k0s(),e.j41(886,"p"),e.EFF(887,"Controllers always belong to a module, which is why we include the "),e.j41(888,"code"),e.EFF(889,"controllers"),e.k0s(),e.EFF(890," array within the "),e.j41(891,"code"),e.EFF(892,"@Module()"),e.k0s(),e.EFF(893," decorator. Since we haven't yet defined any other modules except the root "),e.j41(894,"code"),e.EFF(895,"AppModule"),e.k0s(),e.EFF(896,", we'll use that to introduce the "),e.j41(897,"code"),e.EFF(898,"CatsController"),e.k0s(),e.EFF(899,":"),e.k0s(),e.j41(900,"app-copy-button",24)(901,"span",25),e.EFF(902),e.nI1(903,"extension"),e.nrm(904,"app-tabs",null,11),e.k0s(),e.j41(906,"pre")(907,"code",26),e.EFF(908,"\nimport { Module } from '@nestjs/common';\nimport { CatsController } from './cats/cats.controller';\n\n@Module({\n  controllers: [CatsController],\n})\nexport class AppModule {}\n"),e.k0s()()(),e.j41(909,"p"),e.EFF(910,"We attached the metadata to the module class using the "),e.j41(911,"code"),e.EFF(912,"@Module()"),e.k0s(),e.EFF(913," decorator, and Nest can now easily reflect which controllers have to be mounted."),e.k0s(),e.j41(914,"h4",54)(915,"span"),e.EFF(916,"Library-specific approach"),e.k0s()(),e.j41(917,"p"),e.EFF(918,"So far we've discussed the Nest standard way of manipulating responses. The second way of manipulating the response is to use a library-specific "),e.j41(919,"a",55),e.EFF(920,"response object"),e.k0s(),e.EFF(921,". In order to inject a particular response object, we need to use the "),e.j41(922,"code"),e.EFF(923,"@Res()"),e.k0s(),e.EFF(924," decorator. To show the differences, let's rewrite the "),e.j41(925,"code"),e.EFF(926,"CatsController"),e.k0s(),e.EFF(927," to the following:"),e.k0s(),e.j41(928,"app-copy-button",24)(929,"span",25),e.nrm(930,"app-tabs",null,12),e.k0s(),e.j41(932,"pre")(933,"code",26),e.EFF(934,"\nimport { Controller, Get, Post, Res, HttpStatus } from '@nestjs/common';\nimport { Response } from 'express';\n\n@Controller('cats')\nexport class CatsController {\n  @Post()\n  create(@Res() res: Response) {\n    res.status(HttpStatus.CREATED).send();\n  }\n\n  @Get()\n  findAll(@Res() res: Response) {\n     res.status(HttpStatus.OK).json([]);\n  }\n}\n"),e.k0s()(),e.j41(935,"pre")(936,"code",26),e.EFF(937,"\nimport { Controller, Get, Post, Bind, Res, Body, HttpStatus } from '@nestjs/common';\n\n@Controller('cats')\nexport class CatsController {\n  @Post()\n  @Bind(Res(), Body())\n  create(res, createCatDto) {\n    res.status(HttpStatus.CREATED).send();\n  }\n\n  @Get()\n  @Bind(Res())\n  findAll(res) {\n     res.status(HttpStatus.OK).json([]);\n  }\n}\n"),e.k0s()()(),e.j41(938,"p"),e.EFF(939,"Though this approach works, and does in fact allow for more flexibility in some ways by providing full control of the response object (headers manipulation, library-specific features, and so on), it should be used with care. In general, the approach is much less clear and does have some disadvantages. The main disadvantage is that your code becomes platform-dependent (as underlying libraries may have different APIs on the response object), and harder to test (you'll have to mock the response object, etc.)."),e.k0s(),e.j41(940,"p"),e.EFF(941,"Also, in the example above, you lose compatibility with Nest features that depend on Nest standard response handling, such as Interceptors and "),e.j41(942,"code"),e.EFF(943,"@HttpCode()"),e.k0s(),e.EFF(944," / "),e.j41(945,"code"),e.EFF(946,"@Header()"),e.k0s(),e.EFF(947," decorators. To fix this, you can set the "),e.j41(948,"code"),e.EFF(949,"passthrough"),e.k0s(),e.EFF(950," option to "),e.j41(951,"code"),e.EFF(952,"true"),e.k0s(),e.EFF(953,", as follows:"),e.k0s(),e.j41(954,"app-copy-button",24)(955,"span",25),e.nrm(956,"app-tabs",null,13),e.k0s(),e.j41(958,"pre")(959,"code",26),e.EFF(960,"\n@Get()\nfindAll(@Res({ passthrough: true }) res: Response) {\n  res.status(HttpStatus.OK);\n  return [];\n}\n"),e.k0s()(),e.j41(961,"pre")(962,"code",26),e.EFF(963,"\n@Get()\n@Bind(Res({ passthrough: true }))\nfindAll(res) {\n  res.status(HttpStatus.OK);\n  return [];\n}\n"),e.k0s()()(),e.j41(964,"p"),e.EFF(965,"Now you can interact with the native response object (for example, set cookies or headers depending on certain conditions), but leave the rest to the framework."),e.k0s()()),2&c){const b=e.sdS(71),M=e.sdS(211),u=e.sdS(391),m=e.sdS(616),p=e.sdS(652),F=e.sdS(742),_=e.sdS(759),S=e.sdS(800),x=e.sdS(814),z=e.sdS(861),U=e.sdS(905),Ee=e.sdS(931),Le=e.sdS(957);e.R7$(68),e.SpI(" ",e.i5U(69,55,"cats.controller",b.isJsActive),"\n"),e.R7$(4),e.AVh("hide",b.isJsActive),e.R7$(3),e.AVh("hide",!b.isJsActive),e.R7$(113),e.Lme("@Res(","{"," passthrough: true ","}",")"),e.R7$(20),e.SpI(" ",e.i5U(209,58,"cats.controller",M.isJsActive),"\n"),e.R7$(4),e.AVh("hide",M.isJsActive),e.R7$(3),e.AVh("hide",!M.isJsActive),e.R7$(173),e.SpI(" ",e.i5U(389,61,"cats.controller",u.isJsActive),"\n"),e.R7$(4),e.AVh("hide",u.isJsActive),e.R7$(3),e.AVh("hide",!u.isJsActive),e.R7$(222),e.AVh("hide",m.isJsActive),e.R7$(3),e.AVh("hide",!m.isJsActive),e.R7$(33),e.AVh("hide",p.isJsActive),e.R7$(3),e.AVh("hide",!p.isJsActive),e.R7$(83),e.SpI(" ",e.i5U(740,64,"cats.controller",F.isJsActive),"\n"),e.R7$(4),e.AVh("hide",F.isJsActive),e.R7$(3),e.AVh("hide",!F.isJsActive),e.R7$(10),e.SpI(" ",e.i5U(757,67,"cats.controller",_.isJsActive),"\n"),e.R7$(4),e.AVh("hide",_.isJsActive),e.R7$(3),e.AVh("hide",!_.isJsActive),e.R7$(34),e.SpI(" ",e.i5U(798,70,"create-cat.dto",S.isJsActive),"\n"),e.R7$(14),e.SpI(" ",e.i5U(812,73,"cats.controller",x.isJsActive),"\n"),e.R7$(4),e.AVh("hide",x.isJsActive),e.R7$(3),e.AVh("hide",!x.isJsActive),e.R7$(40),e.SpI(" ",e.i5U(859,76,"cats.controller",z.isJsActive),"\n"),e.R7$(4),e.AVh("hide",z.isJsActive),e.R7$(3),e.AVh("hide",!z.isJsActive),e.R7$(37),e.SpI(" ",e.i5U(903,79,"app.module",U.isJsActive),"\n"),e.R7$(30),e.AVh("hide",Ee.isJsActive),e.R7$(3),e.AVh("hide",!Ee.isJsActive),e.R7$(23),e.AVh("hide",Le.isJsActive),e.R7$(3),e.AVh("hide",!Le.isJsActive)}},dependencies:[yt.Wk,Wn.O,Ln.a,mo._,Qn.z,Zn.M],encapsulation:2,changeDetection:0})}return v})(),Zr=(()=>{class v extends Xe.y{static \u0275fac=(()=>{let a;return function(h){return(a||(a=e.xGo(v)))(h||v)}})();static \u0275cmp=e.VBU({type:v,selectors:[["app-custom-decorators"]],features:[e.Vt3],decls:300,vars:32,consts:[["contentReference",""],["app70de623a127e93be601b25a2ff82e26457e8d78e",""],["app1de46942c926479c18a8dfbac70da84a889598fa",""],["appfe24ab9dcca44e2627f237ac7459a9d1ce1300a5",""],["app8f14cdc8eb12788457e31f1e1e9baf69c917e782",""],["appcc91684252eedbf6bb54e53943a33598a552e485",""],["app913f2c78fb349d90cbd3d296206b29dd886990e3",""],[1,"content"],[1,"github-links"],["href","https://github.com/nestjs/docs.nestjs.com/edit/master/content/custom-decorators.md","aria-label","Suggest Edits","title","Suggest Edits"],[1,"fas","fa-edit"],["id","custom-route-decorators"],["rel","nofollow","target","_blank","href","https://medium.com/google-developers/exploring-es7-decorators-76ecb65fb841"],[1,"external"],["appAnchor","","id","param-decorators"],[1,"language-typescript"],[1,"with-heading"],[1,"filename"],["appAnchor","","id","passing-data"],["href","techniques/authentication#implementing-passport-strategies"],[1,"language-json"],[1,"info"],["appAnchor","","id","working-with-pipes"],["appAnchor","","id","decorator-composition"],[1,"warning"]],template:function(c,h){if(1&c&&(e.j41(0,"div",7,0)(2,"div",8)(3,"a",9),e.nrm(4,"i",10),e.k0s()(),e.j41(5,"h3",11),e.EFF(6,"Custom route decorators"),e.k0s(),e.j41(7,"p"),e.EFF(8,"Nest is built around a language feature called "),e.j41(9,"strong"),e.EFF(10,"decorators"),e.k0s(),e.EFF(11,". Decorators are a well-known concept in a lot of commonly used programming languages, but in the JavaScript world, they're still relatively new. In order to better understand how decorators work, we recommend reading "),e.j41(12,"a",12),e.EFF(13,"this article"),e.k0s(),e.EFF(14,". Here's a simple definition:"),e.k0s(),e.j41(15,"blockquote",13),e.EFF(16," An ES2016 decorator is an expression which returns a function and can take a target, name and property descriptor as arguments. You apply it by prefixing the decorator with an "),e.j41(17,"code"),e.EFF(18,"@"),e.k0s(),e.EFF(19," character and placing this at the very top of what you are trying to decorate. Decorators can be defined for either a class, a method or a property.\n"),e.k0s(),e.j41(20,"h4",14)(21,"span"),e.EFF(22,"Param decorators"),e.k0s()(),e.j41(23,"p"),e.EFF(24,"Nest provides a set of useful "),e.j41(25,"strong"),e.EFF(26,"param decorators"),e.k0s(),e.EFF(27," that you can use together with the HTTP route handlers. Below is a list of the provided decorators and the plain Express (or Fastify) objects they represent"),e.k0s(),e.j41(28,"table")(29,"tbody")(30,"tr")(31,"td")(32,"code"),e.EFF(33,"@Request(), @Req()"),e.k0s()(),e.j41(34,"td")(35,"code"),e.EFF(36,"req"),e.k0s()()(),e.j41(37,"tr")(38,"td")(39,"code"),e.EFF(40,"@Response(), @Res()"),e.k0s()(),e.j41(41,"td")(42,"code"),e.EFF(43,"res"),e.k0s()()(),e.j41(44,"tr")(45,"td")(46,"code"),e.EFF(47,"@Next()"),e.k0s()(),e.j41(48,"td")(49,"code"),e.EFF(50,"next"),e.k0s()()(),e.j41(51,"tr")(52,"td")(53,"code"),e.EFF(54,"@Session()"),e.k0s()(),e.j41(55,"td")(56,"code"),e.EFF(57,"req.session"),e.k0s()()(),e.j41(58,"tr")(59,"td")(60,"code"),e.EFF(61,"@Param(param?: string)"),e.k0s()(),e.j41(62,"td")(63,"code"),e.EFF(64,"req.params"),e.k0s(),e.EFF(65," / "),e.j41(66,"code"),e.EFF(67,"req.params[param]"),e.k0s()()(),e.j41(68,"tr")(69,"td")(70,"code"),e.EFF(71,"@Body(param?: string)"),e.k0s()(),e.j41(72,"td")(73,"code"),e.EFF(74,"req.body"),e.k0s(),e.EFF(75," / "),e.j41(76,"code"),e.EFF(77,"req.body[param]"),e.k0s()()(),e.j41(78,"tr")(79,"td")(80,"code"),e.EFF(81,"@Query(param?: string)"),e.k0s()(),e.j41(82,"td")(83,"code"),e.EFF(84,"req.query"),e.k0s(),e.EFF(85," / "),e.j41(86,"code"),e.EFF(87,"req.query[param]"),e.k0s()()(),e.j41(88,"tr")(89,"td")(90,"code"),e.EFF(91,"@Headers(param?: string)"),e.k0s()(),e.j41(92,"td")(93,"code"),e.EFF(94,"req.headers"),e.k0s(),e.EFF(95," / "),e.j41(96,"code"),e.EFF(97,"req.headers[param]"),e.k0s()()(),e.j41(98,"tr")(99,"td")(100,"code"),e.EFF(101,"@Ip()"),e.k0s()(),e.j41(102,"td")(103,"code"),e.EFF(104,"req.ip"),e.k0s()()(),e.j41(105,"tr")(106,"td")(107,"code"),e.EFF(108,"@HostParam()"),e.k0s()(),e.j41(109,"td")(110,"code"),e.EFF(111,"req.hosts"),e.k0s()()()()(),e.j41(112,"p"),e.EFF(113,"Additionally, you can create your own "),e.j41(114,"strong"),e.EFF(115,"custom decorators"),e.k0s(),e.EFF(116,". Why is this useful?"),e.k0s(),e.j41(117,"p"),e.EFF(118,"In the node.js world, it's common practice to attach properties to the "),e.j41(119,"strong"),e.EFF(120,"request"),e.k0s(),e.EFF(121," object. Then you manually extract them in each route handler, using code like the following:"),e.k0s(),e.j41(122,"app-copy-button")(123,"pre")(124,"code",15),e.EFF(125,"\nconst user = req.user;\n"),e.k0s()()(),e.j41(126,"p"),e.EFF(127,"In order to make your code more readable and transparent, you can create a "),e.j41(128,"code"),e.EFF(129,"@User()"),e.k0s(),e.EFF(130," decorator and reuse it across all of your controllers."),e.k0s(),e.j41(131,"app-copy-button",16)(132,"span",17),e.EFF(133),e.nI1(134,"extension"),e.nrm(135,"app-tabs",null,1),e.k0s(),e.j41(137,"pre")(138,"code",15),e.EFF(139,"\nimport { createParamDecorator, ExecutionContext } from '@nestjs/common';\n\nexport const User = createParamDecorator(\n  (data: unknown, ctx: ExecutionContext) => {\n    const request = ctx.switchToHttp().getRequest();\n    return request.user;\n  },\n);\n"),e.k0s()()(),e.j41(140,"p"),e.EFF(141,"Then, you can simply use it wherever it fits your requirements."),e.k0s(),e.j41(142,"app-copy-button",16)(143,"span",17),e.nrm(144,"app-tabs",null,2),e.k0s(),e.j41(146,"pre")(147,"code",15),e.EFF(148,"\n@Get()\nasync findOne(@User() user: UserEntity) {\n  console.log(user);\n}\n"),e.k0s()(),e.j41(149,"pre")(150,"code",15),e.EFF(151,"\n@Get()\n@Bind(User())\nasync findOne(user) {\n  console.log(user);\n}\n"),e.k0s()()(),e.j41(152,"h4",18)(153,"span"),e.EFF(154,"Passing data"),e.k0s()(),e.j41(155,"p"),e.EFF(156,"When the behavior of your decorator depends on some conditions, you can use the "),e.j41(157,"code"),e.EFF(158,"data"),e.k0s(),e.EFF(159," parameter to pass an argument to the decorator's factory function. One use case for this is a custom decorator that extracts properties from the request object by key. Let's assume, for example, that our "),e.j41(160,"a",19),e.EFF(161,"authentication layer"),e.k0s(),e.EFF(162," validates requests and attaches a user entity to the request object. The user entity for an authenticated request might look like:"),e.k0s(),e.j41(163,"pre")(164,"code",20),e.EFF(165,'\n{\n  "id": 101,\n  "firstName": "Alan",\n  "lastName": "Turing",\n  "email": "alan@email.com",\n  "roles": ["admin"]\n}\n'),e.k0s()(),e.j41(166,"p"),e.EFF(167,"Let's define a decorator that takes a property name as key, and returns the associated value if it exists (or undefined if it doesn't exist, or if the "),e.j41(168,"code"),e.EFF(169,"user"),e.k0s(),e.EFF(170," object has not been created)."),e.k0s(),e.j41(171,"app-copy-button",16)(172,"span",17),e.EFF(173),e.nI1(174,"extension"),e.nrm(175,"app-tabs",null,3),e.k0s(),e.j41(177,"pre")(178,"code",15),e.EFF(179,"\nimport { createParamDecorator, ExecutionContext } from '@nestjs/common';\n\nexport const User = createParamDecorator(\n  (data: string, ctx: ExecutionContext) => {\n    const request = ctx.switchToHttp().getRequest();\n    const user = request.user;\n\n    return data ? user?.[data] : user;\n  },\n);\n"),e.k0s()(),e.j41(180,"pre")(181,"code",15),e.EFF(182,"\nimport { createParamDecorator } from '@nestjs/common';\n\nexport const User = createParamDecorator((data, ctx) => {\n  const request = ctx.switchToHttp().getRequest();\n  const user = request.user;\n\n  return data ? user && user[data] : user;\n});\n"),e.k0s()()(),e.j41(183,"p"),e.EFF(184,"Here's how you could then access a particular property via the "),e.j41(185,"code"),e.EFF(186,"@User()"),e.k0s(),e.EFF(187," decorator in the controller:"),e.k0s(),e.j41(188,"app-copy-button",16)(189,"span",17),e.nrm(190,"app-tabs",null,4),e.k0s(),e.j41(192,"pre")(193,"code",15),e.EFF(194,"\n@Get()\nasync findOne(@User('firstName') firstName: string) {\n  console.log(`Hello ${firstName}`);\n}\n"),e.k0s()(),e.j41(195,"pre")(196,"code",15),e.EFF(197,"\n@Get()\n@Bind(User('firstName'))\nasync findOne(firstName) {\n  console.log(`Hello ${firstName}`);\n}\n"),e.k0s()()(),e.j41(198,"p"),e.EFF(199,"You can use this same decorator with different keys to access different properties. If the "),e.j41(200,"code"),e.EFF(201,"user"),e.k0s(),e.EFF(202," object is deep or complex, this can make for easier and more readable request handler implementations."),e.k0s(),e.j41(203,"blockquote",21)(204,"strong"),e.EFF(205,"Hint"),e.k0s(),e.EFF(206," For TypeScript users, note that "),e.j41(207,"code"),e.EFF(208,"createParamDecorator<T>()"),e.k0s(),e.EFF(209," is a generic. This means you can explicitly enforce type safety, for example "),e.j41(210,"code"),e.EFF(211,"createParamDecorator<string>((data, ctx) => ...)"),e.k0s(),e.EFF(212,". Alternatively, specify a parameter type in the factory function, for example "),e.j41(213,"code"),e.EFF(214,"createParamDecorator((data: string, ctx) => ...)"),e.k0s(),e.EFF(215,". If you omit both, the type for "),e.j41(216,"code"),e.EFF(217,"data"),e.k0s(),e.EFF(218," will be "),e.j41(219,"code"),e.EFF(220,"any"),e.k0s(),e.EFF(221,".\n"),e.k0s(),e.j41(222,"h4",22)(223,"span"),e.EFF(224,"Working with pipes"),e.k0s()(),e.j41(225,"p"),e.EFF(226,"Nest treats custom param decorators in the same fashion as the built-in ones ("),e.j41(227,"code"),e.EFF(228,"@Body()"),e.k0s(),e.EFF(229,", "),e.j41(230,"code"),e.EFF(231,"@Param()"),e.k0s(),e.EFF(232," and "),e.j41(233,"code"),e.EFF(234,"@Query()"),e.k0s(),e.EFF(235,"). This means that pipes are executed for the custom annotated parameters as well (in our examples, the "),e.j41(236,"code"),e.EFF(237,"user"),e.k0s(),e.EFF(238," argument). Moreover, you can apply the pipe directly to the custom decorator:"),e.k0s(),e.j41(239,"app-copy-button",16)(240,"span",17),e.nrm(241,"app-tabs",null,5),e.k0s(),e.j41(243,"pre")(244,"code",15),e.EFF(245,"\n@Get()\nasync findOne(\n  @User(new ValidationPipe({ validateCustomDecorators: true }))\n  user: UserEntity,\n) {\n  console.log(user);\n}\n"),e.k0s()(),e.j41(246,"pre")(247,"code",15),e.EFF(248,"\n@Get()\n@Bind(User(new ValidationPipe({ validateCustomDecorators: true })))\nasync findOne(user) {\n  console.log(user);\n}\n"),e.k0s()()(),e.j41(249,"blockquote",21)(250,"strong"),e.EFF(251,"Hint"),e.k0s(),e.EFF(252," Note that "),e.j41(253,"code"),e.EFF(254,"validateCustomDecorators"),e.k0s(),e.EFF(255," option must be set to true. "),e.j41(256,"code"),e.EFF(257,"ValidationPipe"),e.k0s(),e.EFF(258," does not validate arguments annotated with the custom decorators by default.\n"),e.k0s(),e.j41(259,"h4",23)(260,"span"),e.EFF(261,"Decorator composition"),e.k0s()(),e.j41(262,"p"),e.EFF(263,"Nest provides a helper method to compose multiple decorators. For example, suppose you want to combine all decorators related to authentication into a single decorator. This could be done with the following construction:"),e.k0s(),e.j41(264,"app-copy-button",16)(265,"span",17),e.EFF(266),e.nI1(267,"extension"),e.nrm(268,"app-tabs",null,6),e.k0s(),e.j41(270,"pre")(271,"code",15),e.EFF(272,"\nimport { applyDecorators } from '@nestjs/common';\n\nexport function Auth(...roles: Role[]) {\n  return applyDecorators(\n    SetMetadata('roles', roles),\n    UseGuards(AuthGuard, RolesGuard),\n    ApiBearerAuth(),\n    ApiUnauthorizedResponse({ description: 'Unauthorized' }),\n  );\n}\n"),e.k0s()(),e.j41(273,"pre")(274,"code",15),e.EFF(275,"\nimport { applyDecorators } from '@nestjs/common';\n\nexport function Auth(...roles) {\n  return applyDecorators(\n    SetMetadata('roles', roles),\n    UseGuards(AuthGuard, RolesGuard),\n    ApiBearerAuth(),\n    ApiUnauthorizedResponse({ description: 'Unauthorized' }),\n  );\n}\n"),e.k0s()()(),e.j41(276,"p"),e.EFF(277,"You can then use this custom "),e.j41(278,"code"),e.EFF(279,"@Auth()"),e.k0s(),e.EFF(280," decorator as follows:"),e.k0s(),e.j41(281,"app-copy-button")(282,"pre")(283,"code",15),e.EFF(284,"\n@Get('users')\n@Auth('admin')\nfindAllUsers() {}\n"),e.k0s()()(),e.j41(285,"p"),e.EFF(286,"This has the effect of applying all four decorators with a single declaration."),e.k0s(),e.j41(287,"blockquote",24)(288,"strong"),e.EFF(289,"Warning"),e.k0s(),e.EFF(290," The "),e.j41(291,"code"),e.EFF(292,"@ApiHideProperty()"),e.k0s(),e.EFF(293," decorator from the "),e.j41(294,"code"),e.EFF(295,"@nestjs/swagger"),e.k0s(),e.EFF(296," package is not composable and won't work properly with the "),e.j41(297,"code"),e.EFF(298,"applyDecorators"),e.k0s(),e.EFF(299," function.\n"),e.k0s()()),2&c){const b=e.sdS(136),M=e.sdS(145),u=e.sdS(176),m=e.sdS(191),p=e.sdS(242),F=e.sdS(269);e.R7$(133),e.SpI(" ",e.i5U(134,23,"user.decorator",b.isJsActive),"\n"),e.R7$(13),e.AVh("hide",M.isJsActive),e.R7$(3),e.AVh("hide",!M.isJsActive),e.R7$(24),e.SpI(" ",e.i5U(174,26,"user.decorator",u.isJsActive),"\n"),e.R7$(4),e.AVh("hide",u.isJsActive),e.R7$(3),e.AVh("hide",!u.isJsActive),e.R7$(12),e.AVh("hide",m.isJsActive),e.R7$(3),e.AVh("hide",!m.isJsActive),e.R7$(48),e.AVh("hide",p.isJsActive),e.R7$(3),e.AVh("hide",!p.isJsActive),e.R7$(20),e.SpI(" ",e.i5U(267,29,"auth.decorator",F.isJsActive),"\n"),e.R7$(4),e.AVh("hide",F.isJsActive),e.R7$(3),e.AVh("hide",!F.isJsActive)}},dependencies:[Wn.O,Ln.a,Qn.z,Zn.M],encapsulation:2,changeDetection:0})}return v})(),Rs=(()=>{class v extends Xe.y{static \u0275fac=(()=>{let a;return function(h){return(a||(a=e.xGo(v)))(h||v)}})();static \u0275cmp=e.VBU({type:v,selectors:[["app-who-uses"]],features:[e.Vt3],decls:408,vars:0,consts:[[1,"content"],["id","who-is-using-nest"],["rel","nofollow","target","_blank","href","https://github.com/nestjs/nest/issues/1006"],["appAnchor","","id","companies"],[1,"companies-wrapper"],["href","https://roche.com","target","_blank","rel","nofollow",1,"company-logo"],["src","/assets/logo/roche-logo.png",2,"width","90px"],["href","https://adidas.com","target","_blank","rel","nofollow",1,"company-logo"],["src","/assets/logo/adidas.svg",2,"width","80px"],["href","https://capgemini.com","target","_blank","rel","nofollow",1,"company-logo"],["src","/assets/logo/capgemini.svg"],["href","https://www.societegenerale.fr/","target","_blank","rel","nofollow",1,"company-logo"],["src","/assets/logo/societe-generale-logo.png"],["href","https://rewe-digital.com/","target","_blank","rel","nofollow",1,"company-logo"],["src","/assets/logo/rewe.svg",2,"width","180px"],["href","https://www.decathlon.com/","target","_blank","rel","nofollow",1,"company-logo"],["src","/assets/logo/decathlon.png"],["href","https://www.autodesk.com/","target","_blank","rel","nofollow",1,"company-logo"],["src","/assets/logo/autodesk.png"],["href","https://www.neo4j.com/","target","_blank","rel","nofollow",1,"company-logo"],["src","/assets/logo/neo4j.png"],["href","https://bmw.com","target","_blank","rel","nofollow",1,"company-logo"],["src","/assets/logo/bmw.svg"],["href","https://gitlab.com/","target","_blank","rel","nofollow",1,"company-logo"],["src","/assets/logo/gitlab.png"],["href","https://www.ibm.com/","target","_blank","rel","nofollow",1,"company-logo"],["src","/assets/logo/ibm.svg"],["href","https://www.jetbrains.com/","target","_blank","rel","nofollow",1,"company-logo"],["src","/assets/logo/jetbrains.svg"],["href","https://www.mercedes-benz.com/","target","_blank","rel","nofollow",1,"company-logo"],["src","/assets/logo/mercedes.png"],["href","https://totalenergies.com/","target","_blank","rel","nofollow",1,"company-logo"],["src","/assets/logo/totalenergies.svg"],["href","https://www.bytedance.com","target","_blank","rel","nofollow",1,"company-logo"],["src","/assets/logo/bytedance.png"],["href","https://www.shipt.com/","target","_blank","rel","nofollow",1,"company-logo"],["src","/assets/logo/shipt.png"],["href","https://github.com/Sanofi-IADC","target","_blank","rel","nofollow",1,"company-logo"],["src","/assets/logo/sanofi.png"],["href","https://sitepen.com","target","_blank","rel","nofollow",1,"company-logo"],["src","/assets/logo/sitepen.svg"],["href","https://trilon.io","target","_blank","rel","nofollow",1,"company-logo"],["src","https://nestjs.com/img/trilon.png"],["href","https://www.vuestorefront.io/","target","_blank","rel","nofollow",1,"company-logo"],["src","/assets/logo/vue-storefront.png"],["href","https://hingehealth.com","target","_blank","rel","nofollow",1,"company-logo"],["src","/assets/logo/hingehealth.png",2,"width","120px"],["href","https://whiskeyhouse.com","target","_blank","rel","nofollow",1,"company-logo"],["src","/assets/logo/whiskey-house.svg"],[1,"companies-list"],["href","https://gorrion.io/","target","_blank","rel","nofollow"],["href","http://balticdatascience.com/","target","_blank","rel","nofollow"],["href","https://prohabits.com/","target","_blank","rel","nofollow"],["href","https://komed-health.com/","target","_blank","rel","nofollow"],["href","https://kerberus.com.co/","target","_blank","rel","nofollow"],["href","http://xtremis.com/","target","_blank","rel","nofollow"],["href","https://notadd.com/","target","_blank","rel","nofollow"],["href","http://jsdaddy.io/","target","_blank","rel","nofollow"],["href","https://yumpingo.com/","target","_blank","rel","nofollow"],["href","https://analytics-importer.cz/","target","_blank","rel","nofollow"],["href","https://dayzim.com/","target","_blank","rel","nofollow"],["href","https://wizkids.co.uk/","target","_blank","rel","nofollow"],["href","https://pilvia.com/","target","_blank","rel","nofollow"],["href","https://wi-q.com/","target","_blank","rel","nofollow"],["href","http://agrofel.com.br","target","_blank","rel","nofollow"],["href","https://societegenerale.com/","target","_blank","rel","nofollow"],["href","https://trashpanda.hulan.nl/","target","_blank","rel","nofollow"],["href","https://bytedance.com/","target","_blank","rel","nofollow"],["href","https://votercircle.com","target","_blank","rel","nofollow"],["href","https://erento.com","target","_blank","rel","nofollow"],["href","https://ideas.manticore-labs.com/","target","_blank","rel","nofollow"],["href","https://smartexlab.com/","target","_blank","rel","nofollow"],["href","https://automama.ru/","target","_blank","rel","nofollow"],["href","https://iflix.com/","target","_blank","rel","nofollow"],["href","https://frontendwatch.com/","target","_blank","rel","nofollow"],["href","https://mobilejazz.com/","target","_blank","rel","nofollow"],["href","https://cgiandi.com/","target","_blank","rel","nofollow"],["href","https://www.titlex.com.au/","target","_blank","rel","nofollow"],["href","https://codengage.com/","target","_blank","rel","nofollow"],["href","https://budacode.com/","target","_blank","rel","nofollow"],["href","https://blueanchor.io/","target","_blank","rel","nofollow"],["href","https://www.easymetrics.com/","target","_blank","rel","nofollow"],["href","https://getapollo.io/","target","_blank","rel","nofollow"],["href","https://big-bench.com/","target","_blank","rel","nofollow"],["href","https://www.qingtui.cn/","target","_blank","rel","nofollow"],["href","https://www.rosebayconsult.com/","target","_blank","rel","nofollow"],["href","https://www.patrocinium.com/","target","_blank","rel","nofollow"],["href","https://creatorsdaily.com","target","_blank","rel","nofollow"],["href","https://autoscar.com.br","target","_blank","rel","nofollow"],["href","https://www.mediktiv.com","target","_blank","rel","nofollow"],["href","https://harmonize.health","target","_blank","rel","nofollow"],["href","https://accerlery.be","target","_blank","rel","nofollow"],["href","https://www.facile.it","target","_blank","rel","nofollow"],["href","https://shopback.com","target","_blank","rel","nofollow"],["href","https://www.ottonova.de","target","_blank","rel","nofollow"],["href","https://www.radity.com","target","_blank","rel","nofollow"],["href","https://globalctoforum.org","target","_blank","rel","nofollow"],["href","https://halojasa.com","target","_blank","rel","nofollow"],["href","https://hexito.com","target","_blank","rel","nofollow"],["href","https://rivvy.app","target","_blank","rel","nofollow"],["href","https://padfever.com/","target","_blank","rel","nofollow"],["href","https://datenlotse.org","target","_blank","rel","nofollow"],["href","https://bemum.co","target","_blank","rel","nofollow"],["href","https://weoptimeye.ai","target","_blank","rel","nofollow"],["href","https://nemovote.com","target","_blank","rel","nofollow"],["href","https://selleo.com","target","_blank","rel","nofollow"],["href","https://pchas.ir","target","_blank","rel","nofollow"],["href","https://tayeh.ir","target","_blank","rel","nofollow"],["href","https://forwardigital.co.uk","target","_blank","rel","nofollow"],["href","https://rozetka.com.ua","target","_blank","rel","nofollow"],["href","https://www.itrio.net","target","_blank","rel","nofollow"],["href","https://alexishr.com","target","_blank","rel","nofollow"],["href","https://dyrector.io","target","_blank","rel","nofollow"],["href","https://stijlbreuk.nl","target","_blank","rel","nofollow"],["href","https://polygon-software.ch","target","_blank","rel","nofollow"],["href","https://bewith.io","target","_blank","rel","nofollow"],["href","https://swetrix.com","target","_blank","rel","nofollow"],["href","https://swyftlogistics.com","target","_blank","rel","nofollow"],["href","https://evershop.io","target","_blank","rel","nofollow"],["href","https://e-design.ca","target","_blank","rel","nofollow"],["href","https://growthmill.com","target","_blank","rel","nofollow"],["href","https://tarken.com.br","target","_blank","rel","nofollow"],["href","https://remato.com","target","_blank","rel","nofollow"],["href","https://remberg.de/en","target","_blank","rel","nofollow"],["href","https://uninterrupted.tech","target","_blank","rel","nofollow"],["href","https://www.digando.com","target","_blank","rel","nofollow"],["href","https://novu.co","target","_blank","rel","nofollow"],["href","https://aqreach.com","target","_blank","rel","nofollow"],["href","https://phalco.de","target","_blank","rel","nofollow"],["href","https://www.tesseractpro.io","target","_blank","rel","nofollow"],["href","https://www.kwanso.com","target","_blank","rel","nofollow"],["href","https://cmdn.io","target","_blank","rel","nofollow"],["href","https://ayo.so","target","_blank","rel","nofollow"],["href","https://devitjobs.com","target","_blank","rel","nofollow"],["href","https://formation.tech","target","_blank","rel","nofollow"],["href","https://gofirmex.com","target","_blank","rel","nofollow"],["href","https://github.com/nestjs/docs.nestjs.com/pulls","target","_blank"]],template:function(c,h){1&c&&(e.j41(0,"div",0)(1,"h3",1),e.EFF(2,"Who is using Nest?"),e.k0s(),e.j41(3,"p"),e.EFF(4,"We are proudly helping various companies building their products at scale.\nIf you are using Nest and would you like to be listed here, see this "),e.j41(5,"a",2),e.EFF(6,"thread"),e.k0s(),e.EFF(7,".\nWe are willing to put your logo here!"),e.k0s(),e.j41(8,"h4",3)(9,"span"),e.EFF(10,"Companies"),e.k0s()(),e.j41(11,"p"),e.EFF(12,"According to our knowledge, all the following companies have built awesome projects on top of our framework:"),e.k0s()(),e.j41(13,"div",4)(14,"a",5),e.nrm(15,"img",6),e.k0s(),e.j41(16,"a",7),e.nrm(17,"img",8),e.k0s(),e.j41(18,"a",9),e.nrm(19,"img",10),e.k0s(),e.j41(20,"a",11),e.nrm(21,"img",12),e.k0s(),e.j41(22,"a",13),e.nrm(23,"img",14),e.k0s(),e.j41(24,"a",15),e.nrm(25,"img",16),e.k0s(),e.j41(26,"a",17),e.nrm(27,"img",18),e.k0s(),e.j41(28,"a",19),e.nrm(29,"img",20),e.k0s(),e.j41(30,"a",21),e.nrm(31,"img",22),e.k0s(),e.j41(32,"a",23),e.nrm(33,"img",24),e.k0s(),e.j41(34,"a",25),e.nrm(35,"img",26),e.k0s(),e.j41(36,"a",27),e.nrm(37,"img",28),e.k0s(),e.j41(38,"a",29),e.nrm(39,"img",30),e.k0s(),e.j41(40,"a",31),e.nrm(41,"img",32),e.k0s(),e.j41(42,"a",33),e.nrm(43,"img",34),e.k0s(),e.j41(44,"a",35),e.nrm(45,"img",36),e.k0s(),e.j41(46,"a",37),e.nrm(47,"img",38),e.k0s(),e.j41(48,"a",39),e.nrm(49,"img",40),e.k0s(),e.j41(50,"a",41),e.nrm(51,"img",42),e.k0s(),e.j41(52,"a",43),e.nrm(53,"img",44),e.k0s(),e.j41(54,"a",45),e.nrm(55,"img",46),e.k0s(),e.j41(56,"a",47),e.nrm(57,"img",48),e.k0s()(),e.j41(58,"table",49)(59,"tr")(60,"td")(61,"a",50),e.EFF(62,"https://gorrion.io/"),e.k0s()()(),e.j41(63,"tr")(64,"td")(65,"a",51),e.EFF(66,"http://balticdatascience.com/"),e.k0s()()(),e.j41(67,"tr")(68,"td")(69,"a",52),e.EFF(70,"https://prohabits.com/"),e.k0s()()(),e.j41(71,"tr")(72,"td")(73,"a",53),e.EFF(74,"https://komed-health.com/"),e.k0s()()(),e.j41(75,"tr")(76,"td")(77,"a",54),e.EFF(78,"https://kerberus.com.co/"),e.k0s()()(),e.j41(79,"tr")(80,"td")(81,"a",55),e.EFF(82,"http://xtremis.com/"),e.k0s()()(),e.j41(83,"tr")(84,"td")(85,"a",56),e.EFF(86,"https://notadd.com/"),e.k0s()()(),e.j41(87,"tr")(88,"td")(89,"a",57),e.EFF(90,"http://jsdaddy.io/"),e.k0s()()(),e.j41(91,"tr")(92,"td")(93,"a",58),e.EFF(94,"https://yumpingo.com/"),e.k0s()()(),e.j41(95,"tr")(96,"td")(97,"a",59),e.EFF(98,"https://analytics-importer.cz/"),e.k0s()()(),e.j41(99,"tr")(100,"td")(101,"a",60),e.EFF(102,"https://dayzim.com/"),e.k0s()()(),e.j41(103,"tr")(104,"td")(105,"a",61),e.EFF(106,"https://wizkids.co.uk/"),e.k0s()()(),e.j41(107,"tr")(108,"td")(109,"a",62),e.EFF(110,"https://pilvia.com/"),e.k0s()()(),e.j41(111,"tr")(112,"td")(113,"a",63),e.EFF(114,"https://wi-q.com/"),e.k0s()()(),e.j41(115,"tr")(116,"td")(117,"a",64),e.EFF(118,"http://agrofel.com.br"),e.k0s()()(),e.j41(119,"tr")(120,"td")(121,"a",65),e.EFF(122,"https://societegenerale.com/"),e.k0s()()(),e.j41(123,"tr")(124,"td")(125,"a",66),e.EFF(126,"https://trashpanda.hulan.nl/"),e.k0s()()(),e.j41(127,"tr")(128,"td")(129,"a",67),e.EFF(130,"https://bytedance.com/"),e.k0s()()(),e.j41(131,"tr")(132,"td")(133,"a",68),e.EFF(134,"https://votercircle.com"),e.k0s()()(),e.j41(135,"tr")(136,"td")(137,"a",69),e.EFF(138,"https://erento.com"),e.k0s()()(),e.j41(139,"tr")(140,"td")(141,"a",70),e.EFF(142,"https://ideas.manticore-labs.com/"),e.k0s()()(),e.j41(143,"tr")(144,"td")(145,"a",71),e.EFF(146,"https://smartexlab.com/"),e.k0s()()(),e.j41(147,"tr")(148,"td")(149,"a",72),e.EFF(150,"https://automama.ru/"),e.k0s()()(),e.j41(151,"tr")(152,"td")(153,"a",73),e.EFF(154,"https://iflix.com/"),e.k0s()()(),e.j41(155,"tr")(156,"td")(157,"a",74),e.EFF(158,"https://frontendwatch.com/"),e.k0s()()(),e.j41(159,"tr")(160,"td")(161,"a",75),e.EFF(162,"https://mobilejazz.com/"),e.k0s()()(),e.j41(163,"tr")(164,"td")(165,"a",76),e.EFF(166,"https://cgiandi.com/"),e.k0s()()(),e.j41(167,"tr")(168,"td")(169,"a",77),e.EFF(170,"https://www.titlex.com.au/"),e.k0s()()(),e.j41(171,"tr")(172,"td")(173,"a",78),e.EFF(174,"https://codengage.com/"),e.k0s()()(),e.j41(175,"tr")(176,"td")(177,"a",79),e.EFF(178,"https://budacode.com/"),e.k0s()()(),e.j41(179,"tr")(180,"td")(181,"a",80),e.EFF(182,"https://blueanchor.io/"),e.k0s()()(),e.j41(183,"tr")(184,"td")(185,"a",81),e.EFF(186,"https://www.easymetrics.com/"),e.k0s()()(),e.j41(187,"tr")(188,"td")(189,"a",82),e.EFF(190,"https://getapollo.io/"),e.k0s()()(),e.j41(191,"tr")(192,"td")(193,"a",83),e.EFF(194,"https://big-bench.com/"),e.k0s()()(),e.j41(195,"tr")(196,"td")(197,"a",84),e.EFF(198,"https://www.qingtui.cn/"),e.k0s()()(),e.j41(199,"tr")(200,"td")(201,"a",85),e.EFF(202,"https://www.rosebayconsult.com/"),e.k0s()()(),e.j41(203,"tr")(204,"td")(205,"a",86),e.EFF(206,"https://www.patrocinium.com/"),e.k0s()()(),e.j41(207,"tr")(208,"td")(209,"a",87),e.EFF(210,"https://creatorsdaily.com"),e.k0s()()(),e.j41(211,"tr")(212,"td")(213,"a",88),e.EFF(214,"https://autoscar.com.br"),e.k0s()()(),e.j41(215,"tr")(216,"td")(217,"a",89),e.EFF(218,"https://www.mediktiv.com"),e.k0s()()(),e.j41(219,"tr")(220,"td")(221,"a",90),e.EFF(222,"https://harmonize.health"),e.k0s()()(),e.j41(223,"tr")(224,"td")(225,"a",91),e.EFF(226,"https://accerlery.be"),e.k0s()()(),e.j41(227,"tr")(228,"td")(229,"a",92),e.EFF(230,"https://www.facile.it"),e.k0s()()(),e.j41(231,"tr")(232,"td")(233,"a",93),e.EFF(234,"https://shopback.com"),e.k0s()()(),e.j41(235,"tr")(236,"td")(237,"a",94),e.EFF(238,"https://www.ottonova.de"),e.k0s()()(),e.j41(239,"tr")(240,"td")(241,"a",95),e.EFF(242,"https://www.radity.com"),e.k0s()()(),e.j41(243,"tr")(244,"td")(245,"a",96),e.EFF(246,"https://globalctoforum.org"),e.k0s()()(),e.j41(247,"tr")(248,"td")(249,"a",97),e.EFF(250,"https://halojasa.com"),e.k0s()()(),e.j41(251,"tr")(252,"td")(253,"a",98),e.EFF(254,"https://hexito.com"),e.k0s()()(),e.j41(255,"tr")(256,"td")(257,"a",99),e.EFF(258,"https://rivvy.app"),e.k0s()()(),e.j41(259,"tr")(260,"td")(261,"a",100),e.EFF(262,"https://padfever.com/"),e.k0s()()(),e.j41(263,"tr")(264,"td")(265,"a",101),e.EFF(266,"https://datenlotse.org"),e.k0s()()(),e.j41(267,"tr")(268,"td")(269,"a",102),e.EFF(270,"https://bemum.co"),e.k0s()()(),e.j41(271,"tr")(272,"td")(273,"a",103),e.EFF(274,"https://weoptimeye.ai"),e.k0s()()(),e.j41(275,"tr")(276,"td")(277,"a",104),e.EFF(278,"https://nemovote.com"),e.k0s()()(),e.j41(279,"tr")(280,"td")(281,"a",105),e.EFF(282,"https://selleo.com"),e.k0s()()(),e.j41(283,"tr")(284,"td")(285,"a",106),e.EFF(286,"https://pchas.ir"),e.k0s()()(),e.j41(287,"tr")(288,"td")(289,"a",107),e.EFF(290,"https://tayeh.ir"),e.k0s()()(),e.j41(291,"tr")(292,"td")(293,"a",108),e.EFF(294,"https://forwardigital.co.uk"),e.k0s()()(),e.j41(295,"tr")(296,"td")(297,"a",109),e.EFF(298,"https://rozetka.com.ua"),e.k0s()()(),e.j41(299,"tr")(300,"td")(301,"a",110),e.EFF(302,"https://www.itrio.net"),e.k0s()()(),e.j41(303,"tr")(304,"td")(305,"a",111),e.EFF(306,"https://alexishr.com"),e.k0s()()(),e.j41(307,"tr")(308,"td")(309,"a",112),e.EFF(310,"https://dyrector.io"),e.k0s()()(),e.j41(311,"tr")(312,"td")(313,"a",113),e.EFF(314,"https://stijlbreuk.nl"),e.k0s()()(),e.j41(315,"tr")(316,"td")(317,"a",114),e.EFF(318,"https://polygon-software.ch"),e.k0s()()(),e.j41(319,"tr")(320,"td")(321,"a",115),e.EFF(322,"https://bewith.io"),e.k0s()()(),e.j41(323,"tr")(324,"td")(325,"a",116),e.EFF(326,"https://swetrix.com"),e.k0s()()(),e.j41(327,"tr")(328,"td")(329,"a",117),e.EFF(330,"https://swyftlogistics.com"),e.k0s()()(),e.j41(331,"tr")(332,"td")(333,"a",118),e.EFF(334,"https://evershop.io"),e.k0s()()(),e.j41(335,"tr")(336,"td")(337,"a",119),e.EFF(338,"https://e-design.ca"),e.k0s()()(),e.j41(339,"tr")(340,"td")(341,"a",120),e.EFF(342,"https://growthmill.com"),e.k0s()()(),e.j41(343,"tr")(344,"td")(345,"a",121),e.EFF(346,"https://tarken.com.br"),e.k0s()()(),e.j41(347,"tr")(348,"td")(349,"a",122),e.EFF(350,"https://remato.com"),e.k0s()()(),e.j41(351,"tr")(352,"td")(353,"a",123),e.EFF(354,"https://remberg.de/en"),e.k0s()()(),e.j41(355,"tr")(356,"td")(357,"a",124),e.EFF(358,"https://uninterrupted.tech"),e.k0s()()(),e.j41(359,"tr")(360,"td")(361,"a",125),e.EFF(362,"https://www.digando.com"),e.k0s()()(),e.j41(363,"tr")(364,"td")(365,"a",126),e.EFF(366,"https://novu.co"),e.k0s()()(),e.j41(367,"tr")(368,"td")(369,"a",127),e.EFF(370,"https://aqreach.com"),e.k0s()()(),e.j41(371,"tr")(372,"td")(373,"a",128),e.EFF(374,"https://phalco.de"),e.k0s()()(),e.j41(375,"tr")(376,"td")(377,"a",129),e.EFF(378,"https://www.tesseractpro.io"),e.k0s()()(),e.j41(379,"tr")(380,"td")(381,"a",130),e.EFF(382,"https://www.kwanso.com"),e.k0s()()(),e.j41(383,"tr")(384,"td")(385,"a",131),e.EFF(386,"https://cmdn.io"),e.k0s()()(),e.j41(387,"tr")(388,"td")(389,"a",132),e.EFF(390,"https://ayo.so"),e.k0s()()(),e.j41(391,"tr")(392,"td")(393,"a",133),e.EFF(394,"https://devitjobs.com"),e.k0s()()(),e.j41(395,"tr")(396,"td")(397,"a",134),e.EFF(398,"https://formation.tech"),e.k0s()()(),e.j41(399,"tr")(400,"td")(401,"a",135),e.EFF(402,"https://gofirmex.com"),e.k0s()()()(),e.j41(403,"p"),e.EFF(404," and a lot more but we don't have enough time to update above list. Feel free to create a "),e.j41(405,"a",136),e.EFF(406,"pull request"),e.k0s(),e.EFF(407," though!\n"),e.k0s())},dependencies:[Ln.a],styles:["@media (max-width: 480px){.company-logo[_ngcontent-%COMP%]{width:360px;max-width:100%;display:block;text-align:center;margin:40px auto}.company-logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:180px!important;max-width:100%;max-height:none}}"],changeDetection:0})}return v})(),Vn=(()=>{class v extends Xe.y{static \u0275fac=(()=>{let a;return function(h){return(a||(a=e.xGo(v)))(h||v)}})();static \u0275cmp=e.VBU({type:v,selectors:[["app-enterprise"]],features:[e.Vt3],decls:74,vars:0,consts:[["contentReference",""],[1,"content"],[1,"github-links"],["href","https://github.com/nestjs/docs.nestjs.com/edit/master/content/enterprise.md","aria-label","Suggest Edits","title","Suggest Edits"],[1,"fas","fa-edit"],["id","official-nestjs-consulting"],["id","official-support"],[1,"row"],[1,"thumbnail","p-l-30"],["src","/assets/enterprise/help.svg"],[1,"thumbnail","p-r-30"],["src","/assets/enterprise/contact.svg"],["appAnchor","","id","first-hand-access"],["appAnchor","","id","nestjs-workshops-and-trainings"],[1,"contact-us"],[1,"column","column-text"],[1,"column","column-action"],["href","mailto:support@nestjs.com"]],template:function(c,h){1&c&&(e.j41(0,"div",1,0)(2,"div",2)(3,"a",3),e.nrm(4,"i",4),e.k0s()(),e.j41(5,"h3",5),e.EFF(6,"Official NestJS Consulting"),e.k0s(),e.j41(7,"p"),e.EFF(8,"Our goal is to ensure that your developers are successful and productive with NestJS as well as other modern technologies in today's ever-changing tech world."),e.k0s(),e.j41(9,"h3",6),e.EFF(10,"Official Support"),e.k0s(),e.j41(11,"p"),e.EFF(12,"With official support, get expert help directly from the NestJS core team. We tackle your toughest challenges, and collaborate with your team on many levels such as:"),e.k0s(),e.j41(13,"ul")(14,"li"),e.EFF(15,"Providing technical guidance & architectural reviews"),e.k0s(),e.j41(16,"li")(17,"strong"),e.EFF(18,"Mentoring"),e.k0s(),e.EFF(19," team members"),e.k0s(),e.j41(20,"li"),e.EFF(21,"Advising best practices"),e.k0s(),e.j41(22,"li"),e.EFF(23,"Solving design decisions"),e.k0s(),e.j41(24,"li"),e.EFF(25,"Addressing security & performance concerns"),e.k0s(),e.j41(26,"li"),e.EFF(27,"Performing "),e.j41(28,"strong"),e.EFF(29,"in-depth"),e.k0s(),e.EFF(30," code reviews"),e.k0s()(),e.j41(31,"div",7)(32,"div",1)(33,"h4"),e.EFF(34,"Team Augmentation & Development"),e.k0s(),e.j41(35,"p"),e.EFF(36," With team augmentation, NestJS core team members can work directly with your team on a daily basis to help take your project to the next-level. Consider us \u201cpart of your team\u201d, tackling the most ambitious projects - right by your side. "),e.k0s()(),e.j41(37,"div",8),e.nrm(38,"img",9),e.k0s()(),e.j41(39,"div",7)(40,"div",10),e.nrm(41,"img",11),e.k0s(),e.j41(42,"div",1)(43,"h4"),e.EFF(44,"NestJS Best Practices"),e.k0s(),e.j41(45,"p"),e.EFF(46," Frequent code reviews can eliminate potentially hazardous bugs & issues at an early stage and help enforce best practices. Let us perform PR reviews & audits to ensure your code quality, performance, and security. "),e.k0s()()(),e.j41(47,"h4",12)(48,"span"),e.EFF(49,"First-hand access"),e.k0s()(),e.j41(50,"p"),e.EFF(51,"Direct communication channel will boost team velocity, giving a quick access to discuss and solve problems."),e.k0s(),e.j41(52,"h4",13)(53,"span"),e.EFF(54,"NestJS Workshops and Trainings"),e.k0s()(),e.j41(55,"p"),e.EFF(56,"We provide solid kick-off training as well as more advanced ones that give teams an in-depth understanding of NestJS. We offer on-site workshops and remote intensive sessions which help get you up and running "),e.j41(57,"em"),e.EFF(58,"quickly"),e.k0s(),e.EFF(59," within the NestJS ecosystem."),e.k0s(),e.j41(60,"div",14)(61,"div",15)(62,"h5"),e.EFF(63,"Contact us!"),e.k0s(),e.j41(64,"p"),e.EFF(65," Let's talk how we can help you become successful with NestJS. "),e.k0s()(),e.j41(66,"div",16)(67,"a",17),e.EFF(68,"CONTACT US"),e.k0s()()(),e.j41(69,"p"),e.EFF(70,"Reach out to us at "),e.j41(71,"a",17),e.EFF(72,"support@nestjs.com"),e.k0s(),e.EFF(73,", and let\u2019s talk about your project & teams needs!"),e.k0s()())},dependencies:[Ln.a],encapsulation:2,changeDetection:0})}return v})(),et=(()=>{class v extends Xe.y{static \u0275fac=(()=>{let a;return function(h){return(a||(a=e.xGo(v)))(h||v)}})();static \u0275cmp=e.VBU({type:v,selectors:[["app-exception-filters"]],features:[e.Vt3],decls:700,vars:60,consts:[["contentReference",""],["app110382efe7822357e17fc9902075885756e42c12",""],["app3331a3d69c35dc9ffd1a0e08b59a0aa4d6655404",""],["app466ac582f12ecba33be4b5be50b5263cdb55180b",""],["app192393c7a161eed274ede0cef385a249cb22745a",""],["app1b13cede22d6fb99b2c8a30c1c201df2e1330111",""],["app3c8e6115e768445a0e2fabf7de7c3102bacec902",""],["appb90704313cc207d5d0684de808f97c672033630a",""],["appc481dd53699a0dbb2b23f1fbce5996bef1e968f4",""],["app76b991b56af22ffd3b2866edf2b6cc03ee9786c1",""],["appbce372576b4a0e8a128325af55815f193f325b00",""],["appbe5704cb638b589fec07f5d1e153e403ad4178c4",""],[1,"content"],[1,"github-links"],["href","https://github.com/nestjs/docs.nestjs.com/edit/master/content/exception-filters.md","aria-label","Suggest Edits","title","Suggest Edits"],[1,"fas","fa-edit"],["id","exception-filters"],["src","/assets/Filter_1.png",1,"illustrative-image"],[1,"language-json"],[1,"info"],["appAnchor","","id","throwing-standard-exceptions"],[1,"with-heading"],[1,"filename"],[1,"language-typescript"],["rel","nofollow","target","_blank","href","https://developer.mozilla.org/en-US/docs/Web/HTTP/Status"],["rel","nofollow","target","_blank","href","https://nodejs.org/en/blog/release/v16.9.0/#error-cause"],["appAnchor","","id","custom-exceptions"],["appAnchor","","id","built-in-http-exceptions"],["appAnchor","","id","exception-filters-1"],[1,"warning"],["appAnchor","","id","arguments-host"],["routerLink","/fundamentals/execution-context"],["href","https://docs.nestjs.com/fundamentals/execution-context#host-methods"],["appAnchor","","id","binding-filters"],["routerLink","/fundamentals/custom-providers"],["appAnchor","","id","catch-everything"],["rel","nofollow","target","_blank","href","./faq/http-adapter"],["appAnchor","","id","inheritance"],["href","exception-filters#binding-filters"]],template:function(c,h){if(1&c&&(e.j41(0,"div",12,0)(2,"div",13)(3,"a",14),e.nrm(4,"i",15),e.k0s()(),e.j41(5,"h3",16),e.EFF(6,"Exception filters"),e.k0s(),e.j41(7,"p"),e.EFF(8,"Nest comes with a built-in "),e.j41(9,"strong"),e.EFF(10,"exceptions layer"),e.k0s(),e.EFF(11," which is responsible for processing all unhandled exceptions across an application. When an exception is not handled by your application code, it is caught by this layer, which then automatically sends an appropriate user-friendly response."),e.k0s(),e.j41(12,"figure"),e.nrm(13,"img",17),e.k0s(),e.j41(14,"p"),e.EFF(15,"Out of the box, this action is performed by a built-in "),e.j41(16,"strong"),e.EFF(17,"global exception filter"),e.k0s(),e.EFF(18,", which handles exceptions of type "),e.j41(19,"code"),e.EFF(20,"HttpException"),e.k0s(),e.EFF(21," (and subclasses of it). When an exception is "),e.j41(22,"strong"),e.EFF(23,"unrecognized"),e.k0s(),e.EFF(24," (is neither "),e.j41(25,"code"),e.EFF(26,"HttpException"),e.k0s(),e.EFF(27," nor a class that inherits from "),e.j41(28,"code"),e.EFF(29,"HttpException"),e.k0s(),e.EFF(30,"), the built-in exception filter generates the following default JSON response:"),e.k0s(),e.j41(31,"pre")(32,"code",18),e.EFF(33,'\n{\n  "statusCode": 500,\n  "message": "Internal server error"\n}\n'),e.k0s()(),e.j41(34,"blockquote",19)(35,"strong"),e.EFF(36,"Hint"),e.k0s(),e.EFF(37," The global exception filter partially supports the "),e.j41(38,"code"),e.EFF(39,"http-errors"),e.k0s(),e.EFF(40," library. Basically, any thrown exception containing the "),e.j41(41,"code"),e.EFF(42,"statusCode"),e.k0s(),e.EFF(43," and "),e.j41(44,"code"),e.EFF(45,"message"),e.k0s(),e.EFF(46," properties will be properly populated and sent back as a response (instead of the default "),e.j41(47,"code"),e.EFF(48,"InternalServerErrorException"),e.k0s(),e.EFF(49," for unrecognized exceptions).\n"),e.k0s(),e.j41(50,"h4",20)(51,"span"),e.EFF(52,"Throwing standard exceptions"),e.k0s()(),e.j41(53,"p"),e.EFF(54,"Nest provides a built-in "),e.j41(55,"code"),e.EFF(56,"HttpException"),e.k0s(),e.EFF(57," class, exposed from the "),e.j41(58,"code"),e.EFF(59,"@nestjs/common"),e.k0s(),e.EFF(60," package. For typical HTTP REST/GraphQL API based applications, it's best practice to send standard HTTP response objects when certain error conditions occur."),e.k0s(),e.j41(61,"p"),e.EFF(62,"For example, in the "),e.j41(63,"code"),e.EFF(64,"CatsController"),e.k0s(),e.EFF(65,", we have a "),e.j41(66,"code"),e.EFF(67,"findAll()"),e.k0s(),e.EFF(68," method (a "),e.j41(69,"code"),e.EFF(70,"GET"),e.k0s(),e.EFF(71," route handler). Let's assume that this route handler throws an exception for some reason. To demonstrate this, we'll hard-code it as follows:"),e.k0s(),e.j41(72,"app-copy-button",21)(73,"span",22),e.EFF(74),e.nI1(75,"extension"),e.nrm(76,"app-tabs",null,1),e.k0s(),e.j41(78,"pre")(79,"code",23),e.EFF(80,"\n@Get()\nasync findAll() {\n  throw new HttpException('Forbidden', HttpStatus.FORBIDDEN);\n}\n"),e.k0s()()(),e.j41(81,"blockquote",19)(82,"strong"),e.EFF(83,"Hint"),e.k0s(),e.EFF(84," We used the "),e.j41(85,"code"),e.EFF(86,"HttpStatus"),e.k0s(),e.EFF(87," here. This is a helper enum imported from the "),e.j41(88,"code"),e.EFF(89,"@nestjs/common"),e.k0s(),e.EFF(90," package.\n"),e.k0s(),e.j41(91,"p"),e.EFF(92,"When the client calls this endpoint, the response looks like this:"),e.k0s(),e.j41(93,"pre")(94,"code",18),e.EFF(95,'\n{\n  "statusCode": 403,\n  "message": "Forbidden"\n}\n'),e.k0s()(),e.j41(96,"p"),e.EFF(97,"The "),e.j41(98,"code"),e.EFF(99,"HttpException"),e.k0s(),e.EFF(100," constructor takes two required arguments which determine the\nresponse:"),e.k0s(),e.j41(101,"ul")(102,"li"),e.EFF(103,"The "),e.j41(104,"code"),e.EFF(105,"response"),e.k0s(),e.EFF(106," argument defines the JSON response body. It can be a "),e.j41(107,"code"),e.EFF(108,"string"),e.k0s(),e.EFF(109,"\nor an "),e.j41(110,"code"),e.EFF(111,"object"),e.k0s(),e.EFF(112," as described below."),e.k0s(),e.j41(113,"li"),e.EFF(114,"The "),e.j41(115,"code"),e.EFF(116,"status"),e.k0s(),e.EFF(117," argument defines the "),e.j41(118,"a",24),e.EFF(119,"HTTP status code"),e.k0s(),e.EFF(120,"."),e.k0s()(),e.j41(121,"p"),e.EFF(122,"By default, the JSON response body contains two properties:"),e.k0s(),e.j41(123,"ul")(124,"li")(125,"code"),e.EFF(126,"statusCode"),e.k0s(),e.EFF(127,": defaults to the HTTP status code provided in the "),e.j41(128,"code"),e.EFF(129,"status"),e.k0s(),e.EFF(130," argument"),e.k0s(),e.j41(131,"li")(132,"code"),e.EFF(133,"message"),e.k0s(),e.EFF(134,": a short description of the HTTP error based on the "),e.j41(135,"code"),e.EFF(136,"status"),e.k0s()()(),e.j41(137,"p"),e.EFF(138,"To override just the message portion of the JSON response body, supply a string\nin the "),e.j41(139,"code"),e.EFF(140,"response"),e.k0s(),e.EFF(141," argument. To override the entire JSON response body, pass an object in the "),e.j41(142,"code"),e.EFF(143,"response"),e.k0s(),e.EFF(144," argument. Nest will serialize the object and return it as the JSON response body."),e.k0s(),e.j41(145,"p"),e.EFF(146,"The second constructor argument - "),e.j41(147,"code"),e.EFF(148,"status"),e.k0s(),e.EFF(149," - should be a valid HTTP status code.\nBest practice is to use the "),e.j41(150,"code"),e.EFF(151,"HttpStatus"),e.k0s(),e.EFF(152," enum imported from "),e.j41(153,"code"),e.EFF(154,"@nestjs/common"),e.k0s(),e.EFF(155,"."),e.k0s(),e.j41(156,"p"),e.EFF(157,"There is a "),e.j41(158,"strong"),e.EFF(159,"third"),e.k0s(),e.EFF(160," constructor argument (optional) - "),e.j41(161,"code"),e.EFF(162,"options"),e.k0s(),e.EFF(163," - that can be used to provide an error "),e.j41(164,"a",25),e.EFF(165,"cause"),e.k0s(),e.EFF(166,". This "),e.j41(167,"code"),e.EFF(168,"cause"),e.k0s(),e.EFF(169," object is not serialized into the response object, but it can be useful for logging purposes, providing valuable information about the inner error that caused the "),e.j41(170,"code"),e.EFF(171,"HttpException"),e.k0s(),e.EFF(172," to be thrown."),e.k0s(),e.j41(173,"p"),e.EFF(174,"Here's an example overriding the entire response body and providing an error cause:"),e.k0s(),e.j41(175,"app-copy-button",21)(176,"span",22),e.EFF(177),e.nI1(178,"extension"),e.nrm(179,"app-tabs",null,2),e.k0s(),e.j41(181,"pre")(182,"code",23),e.EFF(183,"\n@Get()\nasync findAll() {\n  try {\n    await this.service.findAll()\n  } catch (error) {\n    throw new HttpException({\n      status: HttpStatus.FORBIDDEN,\n      error: 'This is a custom message',\n    }, HttpStatus.FORBIDDEN, {\n      cause: error\n    });\n  }\n}\n"),e.k0s()()(),e.j41(184,"p"),e.EFF(185,"Using the above, this is how the response would look:"),e.k0s(),e.j41(186,"pre")(187,"code",18),e.EFF(188,'\n{\n  "status": 403,\n  "error": "This is a custom message"\n}\n'),e.k0s()(),e.j41(189,"h4",26)(190,"span"),e.EFF(191,"Custom exceptions"),e.k0s()(),e.j41(192,"p"),e.EFF(193,"In many cases, you will not need to write custom exceptions, and can use the built-in Nest HTTP exception, as described in the next section. If you do need to create customized exceptions, it's good practice to create your own "),e.j41(194,"strong"),e.EFF(195,"exceptions hierarchy"),e.k0s(),e.EFF(196,", where your custom exceptions inherit from the base "),e.j41(197,"code"),e.EFF(198,"HttpException"),e.k0s(),e.EFF(199," class. With this approach, Nest will recognize your exceptions, and automatically take care of the error responses. Let's implement such a custom exception:"),e.k0s(),e.j41(200,"app-copy-button",21)(201,"span",22),e.EFF(202),e.nI1(203,"extension"),e.nrm(204,"app-tabs",null,3),e.k0s(),e.j41(206,"pre")(207,"code",23),e.EFF(208,"\nexport class ForbiddenException extends HttpException {\n  constructor() {\n    super('Forbidden', HttpStatus.FORBIDDEN);\n  }\n}\n"),e.k0s()()(),e.j41(209,"p"),e.EFF(210,"Since "),e.j41(211,"code"),e.EFF(212,"ForbiddenException"),e.k0s(),e.EFF(213," extends the base "),e.j41(214,"code"),e.EFF(215,"HttpException"),e.k0s(),e.EFF(216,", it will work seamlessly with the built-in exception handler, and therefore we can use it inside the "),e.j41(217,"code"),e.EFF(218,"findAll()"),e.k0s(),e.EFF(219," method."),e.k0s(),e.j41(220,"app-copy-button",21)(221,"span",22),e.EFF(222),e.nI1(223,"extension"),e.nrm(224,"app-tabs",null,4),e.k0s(),e.j41(226,"pre")(227,"code",23),e.EFF(228,"\n@Get()\nasync findAll() {\n  throw new ForbiddenException();\n}\n"),e.k0s()()(),e.j41(229,"h4",27)(230,"span"),e.EFF(231,"Built-in HTTP exceptions"),e.k0s()(),e.j41(232,"p"),e.EFF(233,"Nest provides a set of standard exceptions that inherit from the base "),e.j41(234,"code"),e.EFF(235,"HttpException"),e.k0s(),e.EFF(236,". These are exposed from the "),e.j41(237,"code"),e.EFF(238,"@nestjs/common"),e.k0s(),e.EFF(239," package, and represent many of the most common HTTP exceptions:"),e.k0s(),e.j41(240,"ul")(241,"li")(242,"code"),e.EFF(243,"BadRequestException"),e.k0s()(),e.j41(244,"li")(245,"code"),e.EFF(246,"UnauthorizedException"),e.k0s()(),e.j41(247,"li")(248,"code"),e.EFF(249,"NotFoundException"),e.k0s()(),e.j41(250,"li")(251,"code"),e.EFF(252,"ForbiddenException"),e.k0s()(),e.j41(253,"li")(254,"code"),e.EFF(255,"NotAcceptableException"),e.k0s()(),e.j41(256,"li")(257,"code"),e.EFF(258,"RequestTimeoutException"),e.k0s()(),e.j41(259,"li")(260,"code"),e.EFF(261,"ConflictException"),e.k0s()(),e.j41(262,"li")(263,"code"),e.EFF(264,"GoneException"),e.k0s()(),e.j41(265,"li")(266,"code"),e.EFF(267,"HttpVersionNotSupportedException"),e.k0s()(),e.j41(268,"li")(269,"code"),e.EFF(270,"PayloadTooLargeException"),e.k0s()(),e.j41(271,"li")(272,"code"),e.EFF(273,"UnsupportedMediaTypeException"),e.k0s()(),e.j41(274,"li")(275,"code"),e.EFF(276,"UnprocessableEntityException"),e.k0s()(),e.j41(277,"li")(278,"code"),e.EFF(279,"InternalServerErrorException"),e.k0s()(),e.j41(280,"li")(281,"code"),e.EFF(282,"NotImplementedException"),e.k0s()(),e.j41(283,"li")(284,"code"),e.EFF(285,"ImATeapotException"),e.k0s()(),e.j41(286,"li")(287,"code"),e.EFF(288,"MethodNotAllowedException"),e.k0s()(),e.j41(289,"li")(290,"code"),e.EFF(291,"BadGatewayException"),e.k0s()(),e.j41(292,"li")(293,"code"),e.EFF(294,"ServiceUnavailableException"),e.k0s()(),e.j41(295,"li")(296,"code"),e.EFF(297,"GatewayTimeoutException"),e.k0s()(),e.j41(298,"li")(299,"code"),e.EFF(300,"PreconditionFailedException"),e.k0s()()(),e.j41(301,"p"),e.EFF(302,"All the built-in exceptions can also provide both an error "),e.j41(303,"code"),e.EFF(304,"cause"),e.k0s(),e.EFF(305," and an error description using the "),e.j41(306,"code"),e.EFF(307,"options"),e.k0s(),e.EFF(308," parameter:"),e.k0s(),e.j41(309,"app-copy-button")(310,"pre")(311,"code",23),e.EFF(312,"\nthrow new BadRequestException('Something bad happened', {\n  cause: new Error(),\n  description: 'Some error description',\n});\n"),e.k0s()()(),e.j41(313,"p"),e.EFF(314,"Using the above, this is how the response would look:"),e.k0s(),e.j41(315,"pre")(316,"code",18),e.EFF(317,'\n{\n  "message": "Something bad happened",\n  "error": "Some error description",\n  "statusCode": 400\n}\n'),e.k0s()(),e.j41(318,"h4",28)(319,"span"),e.EFF(320,"Exception filters"),e.k0s()(),e.j41(321,"p"),e.EFF(322,"While the base (built-in) exception filter can automatically handle many cases for you, you may want "),e.j41(323,"strong"),e.EFF(324,"full control"),e.k0s(),e.EFF(325," over the exceptions layer. For example, you may want to add logging or use a different JSON schema based on some dynamic factors. "),e.j41(326,"strong"),e.EFF(327,"Exception filters"),e.k0s(),e.EFF(328," are designed for exactly this purpose. They let you control the exact flow of control and the content of the response sent back to the client."),e.k0s(),e.j41(329,"p"),e.EFF(330,"Let's create an exception filter that is responsible for catching exceptions which are an instance of the "),e.j41(331,"code"),e.EFF(332,"HttpException"),e.k0s(),e.EFF(333," class, and implementing custom response logic for them. To do this, we'll need to access the underlying platform "),e.j41(334,"code"),e.EFF(335,"Request"),e.k0s(),e.EFF(336," and "),e.j41(337,"code"),e.EFF(338,"Response"),e.k0s(),e.EFF(339," objects. We'll access the "),e.j41(340,"code"),e.EFF(341,"Request"),e.k0s(),e.EFF(342," object so we can pull out the original "),e.j41(343,"code"),e.EFF(344,"url"),e.k0s(),e.EFF(345," and include that in the logging information. We'll use the "),e.j41(346,"code"),e.EFF(347,"Response"),e.k0s(),e.EFF(348," object to take direct control of the response that is sent, using the "),e.j41(349,"code"),e.EFF(350,"response.json()"),e.k0s(),e.EFF(351," method."),e.k0s(),e.j41(352,"app-copy-button",21)(353,"span",22),e.EFF(354),e.nI1(355,"extension"),e.nrm(356,"app-tabs",null,5),e.k0s(),e.j41(358,"pre")(359,"code",23),e.EFF(360,"\nimport { ExceptionFilter, Catch, ArgumentsHost, HttpException } from '@nestjs/common';\nimport { Request, Response } from 'express';\n\n@Catch(HttpException)\nexport class HttpExceptionFilter implements ExceptionFilter {\n  catch(exception: HttpException, host: ArgumentsHost) {\n    const ctx = host.switchToHttp();\n    const response = ctx.getResponse<Response>();\n    const request = ctx.getRequest<Request>();\n    const status = exception.getStatus();\n\n    response\n      .status(status)\n      .json({\n        statusCode: status,\n        timestamp: new Date().toISOString(),\n        path: request.url,\n      });\n  }\n}\n"),e.k0s()(),e.j41(361,"pre")(362,"code",23),e.EFF(363,"\nimport { Catch, HttpException } from '@nestjs/common';\n\n@Catch(HttpException)\nexport class HttpExceptionFilter {\n  catch(exception, host) {\n    const ctx = host.switchToHttp();\n    const response = ctx.getResponse();\n    const request = ctx.getRequest();\n    const status = exception.getStatus();\n\n    response\n      .status(status)\n      .json({\n        statusCode: status,\n        timestamp: new Date().toISOString(),\n        path: request.url,\n      });\n  }\n}\n"),e.k0s()()(),e.j41(364,"blockquote",19)(365,"strong"),e.EFF(366,"Hint"),e.k0s(),e.EFF(367," All exception filters should implement the generic "),e.j41(368,"code"),e.EFF(369,"ExceptionFilter<T>"),e.k0s(),e.EFF(370," interface. This requires you to provide the "),e.j41(371,"code"),e.EFF(372,"catch(exception: T, host: ArgumentsHost)"),e.k0s(),e.EFF(373," method with its indicated signature. "),e.j41(374,"code"),e.EFF(375,"T"),e.k0s(),e.EFF(376," indicates the type of the exception.\n"),e.k0s(),e.j41(377,"blockquote",29)(378,"strong"),e.EFF(379,"Warning"),e.k0s(),e.EFF(380," If you are using "),e.j41(381,"code"),e.EFF(382,"@nestjs/platform-fastify"),e.k0s(),e.EFF(383," you can use "),e.j41(384,"code"),e.EFF(385,"response.send()"),e.k0s(),e.EFF(386," instead of "),e.j41(387,"code"),e.EFF(388,"response.json()"),e.k0s(),e.EFF(389,". Don't forget to import the correct types from "),e.j41(390,"code"),e.EFF(391,"fastify"),e.k0s(),e.EFF(392,".\n"),e.k0s(),e.j41(393,"p"),e.EFF(394,"The "),e.j41(395,"code"),e.EFF(396,"@Catch(HttpException)"),e.k0s(),e.EFF(397," decorator binds the required metadata to the exception filter, telling Nest that this particular filter is looking for exceptions of type "),e.j41(398,"code"),e.EFF(399,"HttpException"),e.k0s(),e.EFF(400," and nothing else. The "),e.j41(401,"code"),e.EFF(402,"@Catch()"),e.k0s(),e.EFF(403," decorator may take a single parameter, or a comma-separated list. This lets you set up the filter for several types of exceptions at once."),e.k0s(),e.j41(404,"h4",30)(405,"span"),e.EFF(406,"Arguments host"),e.k0s()(),e.j41(407,"p"),e.EFF(408,"Let's look at the parameters of the "),e.j41(409,"code"),e.EFF(410,"catch()"),e.k0s(),e.EFF(411," method. The "),e.j41(412,"code"),e.EFF(413,"exception"),e.k0s(),e.EFF(414," parameter is the exception object currently being processed. The "),e.j41(415,"code"),e.EFF(416,"host"),e.k0s(),e.EFF(417," parameter is an "),e.j41(418,"code"),e.EFF(419,"ArgumentsHost"),e.k0s(),e.EFF(420," object. "),e.j41(421,"code"),e.EFF(422,"ArgumentsHost"),e.k0s(),e.EFF(423," is a powerful utility object that we'll examine further in the "),e.j41(424,"a",31),e.EFF(425,"execution context chapter"),e.k0s(),e.EFF(426,"*. In this code sample, we use it to obtain a reference to the "),e.j41(427,"code"),e.EFF(428,"Request"),e.k0s(),e.EFF(429," and "),e.j41(430,"code"),e.EFF(431,"Response"),e.k0s(),e.EFF(432," objects that are being passed to the original request handler (in the controller where the exception originates). In this code sample, we've used some helper methods on "),e.j41(433,"code"),e.EFF(434,"ArgumentsHost"),e.k0s(),e.EFF(435," to get the desired "),e.j41(436,"code"),e.EFF(437,"Request"),e.k0s(),e.EFF(438," and "),e.j41(439,"code"),e.EFF(440,"Response"),e.k0s(),e.EFF(441," objects. Learn more about "),e.j41(442,"code"),e.EFF(443,"ArgumentsHost"),e.k0s(),e.j41(444,"a",31),e.EFF(445,"here"),e.k0s(),e.EFF(446,"."),e.k0s(),e.j41(447,"p"),e.EFF(448,"*The reason for this level of abstraction is that "),e.j41(449,"code"),e.EFF(450,"ArgumentsHost"),e.k0s(),e.EFF(451," functions in all contexts (e.g., the HTTP server context we're working with now, but also Microservices and WebSockets). In the execution context chapter we'll see how we can access the appropriate "),e.j41(452,"a",32),e.EFF(453,"underlying arguments"),e.k0s(),e.EFF(454," for "),e.j41(455,"strong"),e.EFF(456,"any"),e.k0s(),e.EFF(457," execution context with the power of "),e.j41(458,"code"),e.EFF(459,"ArgumentsHost"),e.k0s(),e.EFF(460," and its helper functions. This will allow us to write generic exception filters that operate across all contexts."),e.k0s(),e.j41(461,"p"),e.nrm(462,"app-banner-courses"),e.k0s(),e.j41(463,"h4",33)(464,"span"),e.EFF(465,"Binding filters"),e.k0s()(),e.j41(466,"p"),e.EFF(467,"Let's tie our new "),e.j41(468,"code"),e.EFF(469,"HttpExceptionFilter"),e.k0s(),e.EFF(470," to the "),e.j41(471,"code"),e.EFF(472,"CatsController"),e.k0s(),e.EFF(473,"'s "),e.j41(474,"code"),e.EFF(475,"create()"),e.k0s(),e.EFF(476," method."),e.k0s(),e.j41(477,"app-copy-button",21)(478,"span",22),e.EFF(479),e.nI1(480,"extension"),e.nrm(481,"app-tabs",null,6),e.k0s(),e.j41(483,"pre")(484,"code",23),e.EFF(485,"\n@Post()\n@UseFilters(new HttpExceptionFilter())\nasync create(@Body() createCatDto: CreateCatDto) {\n  throw new ForbiddenException();\n}\n"),e.k0s()(),e.j41(486,"pre")(487,"code",23),e.EFF(488,"\n@Post()\n@UseFilters(new HttpExceptionFilter())\n@Bind(Body())\nasync create(createCatDto) {\n  throw new ForbiddenException();\n}\n"),e.k0s()()(),e.j41(489,"blockquote",19)(490,"strong"),e.EFF(491,"Hint"),e.k0s(),e.EFF(492," The "),e.j41(493,"code"),e.EFF(494,"@UseFilters()"),e.k0s(),e.EFF(495," decorator is imported from the "),e.j41(496,"code"),e.EFF(497,"@nestjs/common"),e.k0s(),e.EFF(498," package.\n"),e.k0s(),e.j41(499,"p"),e.EFF(500,"We have used the "),e.j41(501,"code"),e.EFF(502,"@UseFilters()"),e.k0s(),e.EFF(503," decorator here. Similar to the "),e.j41(504,"code"),e.EFF(505,"@Catch()"),e.k0s(),e.EFF(506," decorator, it can take a single filter instance, or a comma-separated list of filter instances. Here, we created the instance of "),e.j41(507,"code"),e.EFF(508,"HttpExceptionFilter"),e.k0s(),e.EFF(509," in place. Alternatively, you may pass the class (instead of an instance), leaving responsibility for instantiation to the framework, and enabling "),e.j41(510,"strong"),e.EFF(511,"dependency injection"),e.k0s(),e.EFF(512,"."),e.k0s(),e.j41(513,"app-copy-button",21)(514,"span",22),e.EFF(515),e.nI1(516,"extension"),e.nrm(517,"app-tabs",null,7),e.k0s(),e.j41(519,"pre")(520,"code",23),e.EFF(521,"\n@Post()\n@UseFilters(HttpExceptionFilter)\nasync create(@Body() createCatDto: CreateCatDto) {\n  throw new ForbiddenException();\n}\n"),e.k0s()(),e.j41(522,"pre")(523,"code",23),e.EFF(524,"\n@Post()\n@UseFilters(HttpExceptionFilter)\n@Bind(Body())\nasync create(createCatDto) {\n  throw new ForbiddenException();\n}\n"),e.k0s()()(),e.j41(525,"blockquote",19)(526,"strong"),e.EFF(527,"Hint"),e.k0s(),e.EFF(528," Prefer applying filters by using classes instead of instances when possible. It reduces "),e.j41(529,"strong"),e.EFF(530,"memory usage"),e.k0s(),e.EFF(531," since Nest can easily reuse instances of the same class across your entire module.\n"),e.k0s(),e.j41(532,"p"),e.EFF(533,"In the example above, the "),e.j41(534,"code"),e.EFF(535,"HttpExceptionFilter"),e.k0s(),e.EFF(536," is applied only to the single "),e.j41(537,"code"),e.EFF(538,"create()"),e.k0s(),e.EFF(539," route handler, making it method-scoped. Exception filters can be scoped at different levels: method-scoped of the controller/resolver/gateway, controller-scoped, or global-scoped.\nFor example, to set up a filter as controller-scoped, you would do the following:"),e.k0s(),e.j41(540,"app-copy-button",21)(541,"span",22),e.EFF(542),e.nI1(543,"extension"),e.nrm(544,"app-tabs",null,8),e.k0s(),e.j41(546,"pre")(547,"code",23),e.EFF(548,"\n@UseFilters(new HttpExceptionFilter())\nexport class CatsController {}\n"),e.k0s()()(),e.j41(549,"p"),e.EFF(550,"This construction sets up the "),e.j41(551,"code"),e.EFF(552,"HttpExceptionFilter"),e.k0s(),e.EFF(553," for every route handler defined inside the "),e.j41(554,"code"),e.EFF(555,"CatsController"),e.k0s(),e.EFF(556,"."),e.k0s(),e.j41(557,"p"),e.EFF(558,"To create a global-scoped filter, you would do the following:"),e.k0s(),e.j41(559,"app-copy-button",21)(560,"span",22),e.EFF(561),e.nI1(562,"extension"),e.nrm(563,"app-tabs",null,9),e.k0s(),e.j41(565,"pre")(566,"code",23),e.EFF(567,"\nasync function bootstrap() {\n  const app = await NestFactory.create(AppModule);\n  app.useGlobalFilters(new HttpExceptionFilter());\n  await app.listen(process.env.PORT ?? 3000);\n}\nbootstrap();\n"),e.k0s()()(),e.j41(568,"blockquote",29)(569,"strong"),e.EFF(570,"Warning"),e.k0s(),e.EFF(571," The "),e.j41(572,"code"),e.EFF(573,"useGlobalFilters()"),e.k0s(),e.EFF(574," method does not set up filters for gateways or hybrid applications.\n"),e.k0s(),e.j41(575,"p"),e.EFF(576,"Global-scoped filters are used across the whole application, for every controller and every route handler. In terms of dependency injection, global filters registered from outside of any module (with "),e.j41(577,"code"),e.EFF(578,"useGlobalFilters()"),e.k0s(),e.EFF(579," as in the example above) cannot inject dependencies since this is done outside the context of any module. In order to solve this issue, you can register a global-scoped filter "),e.j41(580,"strong"),e.EFF(581,"directly from any module"),e.k0s(),e.EFF(582," using the following construction:"),e.k0s(),e.j41(583,"app-copy-button",21)(584,"span",22),e.EFF(585),e.nI1(586,"extension"),e.nrm(587,"app-tabs",null,10),e.k0s(),e.j41(589,"pre")(590,"code",23),e.EFF(591,"\nimport { Module } from '@nestjs/common';\nimport { APP_FILTER } from '@nestjs/core';\n\n@Module({\n  providers: [\n    {\n      provide: APP_FILTER,\n      useClass: HttpExceptionFilter,\n    },\n  ],\n})\nexport class AppModule {}\n"),e.k0s()()(),e.j41(592,"blockquote",19)(593,"strong"),e.EFF(594,"Hint"),e.k0s(),e.EFF(595," When using this approach to perform dependency injection for the filter, note that regardless of the module where this construction is employed, the filter is, in fact, global. Where should this be done? Choose the module where the filter ("),e.j41(596,"code"),e.EFF(597,"HttpExceptionFilter"),e.k0s(),e.EFF(598," in the example above) is defined. Also, "),e.j41(599,"code"),e.EFF(600,"useClass"),e.k0s(),e.EFF(601," is not the only way of dealing with custom provider registration. Learn more "),e.j41(602,"a",34),e.EFF(603,"here"),e.k0s(),e.EFF(604,".\n"),e.k0s(),e.j41(605,"p"),e.EFF(606,"You can add as many filters with this technique as needed; simply add each to the providers array."),e.k0s(),e.j41(607,"h4",35)(608,"span"),e.EFF(609,"Catch everything"),e.k0s()(),e.j41(610,"p"),e.EFF(611,"In order to catch "),e.j41(612,"strong"),e.EFF(613,"every"),e.k0s(),e.EFF(614," unhandled exception (regardless of the exception type), leave the "),e.j41(615,"code"),e.EFF(616,"@Catch()"),e.k0s(),e.EFF(617," decorator's parameter list empty, e.g., "),e.j41(618,"code"),e.EFF(619,"@Catch()"),e.k0s(),e.EFF(620,"."),e.k0s(),e.j41(621,"p"),e.EFF(622,"In the example below we have a code that is platform-agnostic because it uses the "),e.j41(623,"a",36),e.EFF(624,"HTTP adapter"),e.k0s(),e.EFF(625," to deliver the response, and doesn't use any of the platform-specific objects ("),e.j41(626,"code"),e.EFF(627,"Request"),e.k0s(),e.EFF(628," and "),e.j41(629,"code"),e.EFF(630,"Response"),e.k0s(),e.EFF(631,") directly:"),e.k0s(),e.j41(632,"app-copy-button")(633,"pre")(634,"code",23),e.EFF(635,"\nimport {\n  ExceptionFilter,\n  Catch,\n  ArgumentsHost,\n  HttpException,\n  HttpStatus,\n} from '@nestjs/common';\nimport { HttpAdapterHost } from '@nestjs/core';\n\n@Catch()\nexport class CatchEverythingFilter implements ExceptionFilter {\n  constructor(private readonly httpAdapterHost: HttpAdapterHost) {}\n\n  catch(exception: unknown, host: ArgumentsHost): void {\n    // In certain situations `httpAdapter` might not be available in the\n    // constructor method, thus we should resolve it here.\n    const { httpAdapter } = this.httpAdapterHost;\n\n    const ctx = host.switchToHttp();\n\n    const httpStatus =\n      exception instanceof HttpException\n        ? exception.getStatus()\n        : HttpStatus.INTERNAL_SERVER_ERROR;\n\n    const responseBody = {\n      statusCode: httpStatus,\n      timestamp: new Date().toISOString(),\n      path: httpAdapter.getRequestUrl(ctx.getRequest()),\n    };\n\n    httpAdapter.reply(ctx.getResponse(), responseBody, httpStatus);\n  }\n}\n"),e.k0s()()(),e.j41(636,"blockquote",29)(637,"strong"),e.EFF(638,"Warning"),e.k0s(),e.EFF(639,' When combining an exception filter that catches everything with a filter that is bound to a specific type, the "Catch anything" filter should be declared first to allow the specific filter to correctly handle the bound type.\n'),e.k0s(),e.j41(640,"h4",37)(641,"span"),e.EFF(642,"Inheritance"),e.k0s()(),e.j41(643,"p"),e.EFF(644,"Typically, you'll create fully customized exception filters crafted to fulfill your application requirements. However, there might be use-cases when you would like to simply extend the built-in default "),e.j41(645,"strong"),e.EFF(646,"global exception filter"),e.k0s(),e.EFF(647,", and override the behavior based on certain factors."),e.k0s(),e.j41(648,"p"),e.EFF(649,"In order to delegate exception processing to the base filter, you need to extend "),e.j41(650,"code"),e.EFF(651,"BaseExceptionFilter"),e.k0s(),e.EFF(652," and call the inherited "),e.j41(653,"code"),e.EFF(654,"catch()"),e.k0s(),e.EFF(655," method."),e.k0s(),e.j41(656,"app-copy-button",21)(657,"span",22),e.EFF(658),e.nI1(659,"extension"),e.nrm(660,"app-tabs",null,11),e.k0s(),e.j41(662,"pre")(663,"code",23),e.EFF(664,"\nimport { Catch, ArgumentsHost } from '@nestjs/common';\nimport { BaseExceptionFilter } from '@nestjs/core';\n\n@Catch()\nexport class AllExceptionsFilter extends BaseExceptionFilter {\n  catch(exception: unknown, host: ArgumentsHost) {\n    super.catch(exception, host);\n  }\n}\n"),e.k0s()(),e.j41(665,"pre")(666,"code",23),e.EFF(667,"\nimport { Catch } from '@nestjs/common';\nimport { BaseExceptionFilter } from '@nestjs/core';\n\n@Catch()\nexport class AllExceptionsFilter extends BaseExceptionFilter {\n  catch(exception, host) {\n    super.catch(exception, host);\n  }\n}\n"),e.k0s()()(),e.j41(668,"blockquote",29)(669,"strong"),e.EFF(670,"Warning"),e.k0s(),e.EFF(671," Method-scoped and Controller-scoped filters that extend the "),e.j41(672,"code"),e.EFF(673,"BaseExceptionFilter"),e.k0s(),e.EFF(674," should not be instantiated with "),e.j41(675,"code"),e.EFF(676,"new"),e.k0s(),e.EFF(677,". Instead, let the framework instantiate them automatically.\n"),e.k0s(),e.j41(678,"p"),e.EFF(679,"Global filters "),e.j41(680,"strong"),e.EFF(681,"can"),e.k0s(),e.EFF(682," extend the base filter. This can be done in either of two ways."),e.k0s(),e.j41(683,"p"),e.EFF(684,"The first method is to inject the "),e.j41(685,"code"),e.EFF(686,"HttpAdapter"),e.k0s(),e.EFF(687," reference when instantiating the custom global filter:"),e.k0s(),e.j41(688,"app-copy-button")(689,"pre")(690,"code",23),e.EFF(691,"\nasync function bootstrap() {\n  const app = await NestFactory.create(AppModule);\n\n  const { httpAdapter } = app.get(HttpAdapterHost);\n  app.useGlobalFilters(new AllExceptionsFilter(httpAdapter));\n\n  await app.listen(process.env.PORT ?? 3000);\n}\nbootstrap();\n"),e.k0s()()(),e.j41(692,"p"),e.EFF(693,"The second method is to use the "),e.j41(694,"code"),e.EFF(695,"APP_FILTER"),e.k0s(),e.EFF(696," token "),e.j41(697,"a",38),e.EFF(698,"as shown here"),e.k0s(),e.EFF(699,"."),e.k0s()()),2&c){const b=e.sdS(77),M=e.sdS(180),u=e.sdS(205),m=e.sdS(225),p=e.sdS(357),F=e.sdS(482),_=e.sdS(518),S=e.sdS(545),x=e.sdS(564),z=e.sdS(588),U=e.sdS(661);e.R7$(74),e.SpI(" ",e.i5U(75,27,"cats.controller",b.isJsActive),"\n"),e.R7$(103),e.SpI(" ",e.i5U(178,30,"cats.controller",M.isJsActive),"\n"),e.R7$(25),e.SpI(" ",e.i5U(203,33,"forbidden.exception",u.isJsActive),"\n"),e.R7$(20),e.SpI(" ",e.i5U(223,36,"cats.controller",m.isJsActive),"\n"),e.R7$(132),e.SpI(" ",e.i5U(355,39,"http-exception.filter",p.isJsActive),"\n"),e.R7$(4),e.AVh("hide",p.isJsActive),e.R7$(3),e.AVh("hide",!p.isJsActive),e.R7$(118),e.SpI(" ",e.i5U(480,42,"cats.controller",F.isJsActive),"\n"),e.R7$(4),e.AVh("hide",F.isJsActive),e.R7$(3),e.AVh("hide",!F.isJsActive),e.R7$(29),e.SpI(" ",e.i5U(516,45,"cats.controller",_.isJsActive),"\n"),e.R7$(4),e.AVh("hide",_.isJsActive),e.R7$(3),e.AVh("hide",!_.isJsActive),e.R7$(20),e.SpI(" ",e.i5U(543,48,"cats.controller",S.isJsActive),"\n"),e.R7$(19),e.SpI(" ",e.i5U(562,51,"main",x.isJsActive),"\n"),e.R7$(24),e.SpI(" ",e.i5U(586,54,"app.module",z.isJsActive),"\n"),e.R7$(73),e.SpI(" ",e.i5U(659,57,"all-exceptions.filter",U.isJsActive),"\n"),e.R7$(4),e.AVh("hide",U.isJsActive),e.R7$(3),e.AVh("hide",!U.isJsActive)}},dependencies:[yt.Wk,Wn.O,Ln.a,Mn.Q,Qn.z,Zn.M],encapsulation:2,changeDetection:0})}return v})(),ts=(()=>{class v extends Xe.y{static \u0275fac=(()=>{let a;return function(h){return(a||(a=e.xGo(v)))(h||v)}})();static \u0275cmp=e.VBU({type:v,selectors:[["app-first-steps"]],features:[e.Vt3],decls:328,vars:10,consts:[["contentReference",""],["app641a8c398b2a51f8c4b9b02cae6d19d844604e70",""],[1,"content"],[1,"github-links"],["href","https://github.com/nestjs/docs.nestjs.com/edit/master/content/first-steps.md","aria-label","Suggest Edits","title","Suggest Edits"],[1,"fas","fa-edit"],["id","first-steps"],["appAnchor","","id","language"],["rel","nofollow","target","_blank","href","https://www.typescriptlang.org/"],["rel","nofollow","target","_blank","href","https://nodejs.org/en/"],["rel","nofollow","target","_blank","href","https://babeljs.io/"],["appAnchor","","id","prerequisites"],["rel","nofollow","target","_blank","href","https://nodejs.org"],["appAnchor","","id","setup"],["routerLink","/cli/overview"],["rel","nofollow","target","_blank","href","https://www.npmjs.com/"],[1,"language-bash"],[1,"info"],["rel","nofollow","target","_blank","href","https://www.typescriptlang.org/tsconfig#strict"],[1,"file-tree"],[1,"item"],[1,"children"],[1,"with-heading"],[1,"filename"],[1,"language-typescript"],["appAnchor","","id","platform"],["rel","nofollow","target","_blank","href","https://expressjs.com/"],["rel","nofollow","target","_blank","href","https://www.fastify.io"],["rel","nofollow","target","_blank","href","https://www.fastify.io/"],["routerLink","/techniques/performance"],["appAnchor","","id","running-the-application"],["routerLink","/recipes/swc"],["appAnchor","","id","linting-and-formatting"],["rel","nofollow","target","_blank","href","https://eslint.org/"],["rel","nofollow","target","_blank","href","https://prettier.io/"],["rel","nofollow","target","_blank","href","https://prettier.io/docs/en/comparison.html"],["rel","nofollow","target","_blank","href","https://www.npmjs.com/package/eslint"],["rel","nofollow","target","_blank","href","https://www.npmjs.com/package/prettier"]],template:function(c,h){if(1&c&&(e.j41(0,"div",2,0)(2,"div",3)(3,"a",4),e.nrm(4,"i",5),e.k0s()(),e.j41(5,"h3",6),e.EFF(6,"First steps"),e.k0s(),e.j41(7,"p"),e.EFF(8,"In this set of articles, you'll learn the "),e.j41(9,"strong"),e.EFF(10,"core fundamentals"),e.k0s(),e.EFF(11," of Nest. To get familiar with the essential building blocks of Nest applications, we'll build a basic CRUD application with features that cover a lot of ground at an introductory level."),e.k0s(),e.j41(12,"h4",7)(13,"span"),e.EFF(14,"Language"),e.k0s()(),e.j41(15,"p"),e.EFF(16,"We're in love with "),e.j41(17,"a",8),e.EFF(18,"TypeScript"),e.k0s(),e.EFF(19,", but above all - we love "),e.j41(20,"a",9),e.EFF(21,"Node.js"),e.k0s(),e.EFF(22,". That's why Nest is compatible with both TypeScript and pure JavaScript. Nest takes advantage of the latest language features, so to use it with vanilla JavaScript we need a "),e.j41(23,"a",10),e.EFF(24,"Babel"),e.k0s(),e.EFF(25," compiler."),e.k0s(),e.j41(26,"p"),e.EFF(27,"We'll mostly use TypeScript in the examples we provide, but you can always "),e.j41(28,"strong"),e.EFF(29,"switch the code snippets"),e.k0s(),e.EFF(30," to vanilla JavaScript syntax (simply click to toggle the language button in the upper right hand corner of each snippet)."),e.k0s(),e.j41(31,"h4",11)(32,"span"),e.EFF(33,"Prerequisites"),e.k0s()(),e.j41(34,"p"),e.EFF(35,"Please make sure that "),e.j41(36,"a",12),e.EFF(37,"Node.js"),e.k0s(),e.EFF(38," (version >= 16) is installed on your operating system."),e.k0s(),e.j41(39,"h4",13)(40,"span"),e.EFF(41,"Setup"),e.k0s()(),e.j41(42,"p"),e.EFF(43,"Setting up a new project is quite simple with the "),e.j41(44,"a",14),e.EFF(45,"Nest CLI"),e.k0s(),e.EFF(46,". With "),e.j41(47,"a",15),e.EFF(48,"npm"),e.k0s(),e.EFF(49," installed, you can create a new Nest project with the following commands in your OS terminal:"),e.k0s(),e.j41(50,"pre")(51,"code",16),e.EFF(52,"\n$ npm i -g @nestjs/cli\n$ nest new project-name\n"),e.k0s()(),e.j41(53,"blockquote",17)(54,"strong"),e.EFF(55,"Hint"),e.k0s(),e.EFF(56," To create a new project with TypeScript's "),e.j41(57,"a",18),e.EFF(58,"stricter"),e.k0s(),e.EFF(59," feature set, pass the "),e.j41(60,"code"),e.EFF(61,"--strict"),e.k0s(),e.EFF(62," flag to the "),e.j41(63,"code"),e.EFF(64,"nest new"),e.k0s(),e.EFF(65," command.\n"),e.k0s(),e.j41(66,"p"),e.EFF(67,"The "),e.j41(68,"code"),e.EFF(69,"project-name"),e.k0s(),e.EFF(70," directory will be created, node modules and a few other boilerplate files will be installed, and a "),e.j41(71,"code"),e.EFF(72,"src/"),e.k0s(),e.EFF(73," directory will be created and populated with several core files."),e.k0s(),e.j41(74,"div",19)(75,"div",20),e.EFF(76,"src"),e.k0s(),e.j41(77,"div",21)(78,"div",20),e.EFF(79,"app.controller.spec.ts"),e.k0s(),e.j41(80,"div",20),e.EFF(81,"app.controller.ts"),e.k0s(),e.j41(82,"div",20),e.EFF(83,"app.module.ts"),e.k0s(),e.j41(84,"div",20),e.EFF(85,"app.service.ts"),e.k0s(),e.j41(86,"div",20),e.EFF(87,"main.ts"),e.k0s()()(),e.j41(88,"p"),e.EFF(89,"Here's a brief overview of those core files:"),e.k0s(),e.j41(90,"table"),e.nrm(91,"thead"),e.j41(92,"tbody")(93,"tr")(94,"td")(95,"code"),e.EFF(96,"app.controller.ts"),e.k0s()(),e.j41(97,"td"),e.EFF(98,"A basic controller with a single route."),e.k0s()(),e.j41(99,"tr")(100,"td")(101,"code"),e.EFF(102,"app.controller.spec.ts"),e.k0s()(),e.j41(103,"td"),e.EFF(104,"The unit tests for the controller."),e.k0s()(),e.j41(105,"tr")(106,"td")(107,"code"),e.EFF(108,"app.module.ts"),e.k0s()(),e.j41(109,"td"),e.EFF(110,"The root module of the application."),e.k0s()(),e.j41(111,"tr")(112,"td")(113,"code"),e.EFF(114,"app.service.ts"),e.k0s()(),e.j41(115,"td"),e.EFF(116,"A basic service with a single method."),e.k0s()(),e.j41(117,"tr")(118,"td")(119,"code"),e.EFF(120,"main.ts"),e.k0s()(),e.j41(121,"td"),e.EFF(122,"The entry file of the application which uses the core function "),e.j41(123,"code"),e.EFF(124,"NestFactory"),e.k0s(),e.EFF(125," to create a Nest application instance."),e.k0s()()()(),e.j41(126,"p"),e.EFF(127,"The "),e.j41(128,"code"),e.EFF(129,"main.ts"),e.k0s(),e.EFF(130," includes an async function, which will "),e.j41(131,"strong"),e.EFF(132,"bootstrap"),e.k0s(),e.EFF(133," our application:"),e.k0s(),e.j41(134,"app-copy-button",22)(135,"span",23),e.EFF(136),e.nI1(137,"extension"),e.nrm(138,"app-tabs",null,1),e.k0s(),e.j41(140,"pre")(141,"code",24),e.EFF(142,"\nimport { NestFactory } from '@nestjs/core';\nimport { AppModule } from './app.module';\n\nasync function bootstrap() {\n  const app = await NestFactory.create(AppModule);\n  await app.listen(process.env.PORT ?? 3000);\n}\nbootstrap();\n"),e.k0s()(),e.j41(143,"pre")(144,"code",24),e.EFF(145,"\nimport { NestFactory } from '@nestjs/core';\nimport { AppModule } from './app.module';\n\nasync function bootstrap() {\n  const app = await NestFactory.create(AppModule);\n  await app.listen(process.env.PORT ?? 3000);\n}\nbootstrap();\n"),e.k0s()()(),e.j41(146,"p"),e.EFF(147,"To create a Nest application instance, we use the core "),e.j41(148,"code"),e.EFF(149,"NestFactory"),e.k0s(),e.EFF(150," class. "),e.j41(151,"code"),e.EFF(152,"NestFactory"),e.k0s(),e.EFF(153," exposes a few static methods that allow creating an application instance. The "),e.j41(154,"code"),e.EFF(155,"create()"),e.k0s(),e.EFF(156," method returns an application object, which fulfills the "),e.j41(157,"code"),e.EFF(158,"INestApplication"),e.k0s(),e.EFF(159," interface. This object provides a set of methods which are described in the coming chapters. In the "),e.j41(160,"code"),e.EFF(161,"main.ts"),e.k0s(),e.EFF(162," example above, we simply start up our HTTP listener, which lets the application await inbound HTTP requests."),e.k0s(),e.j41(163,"p"),e.EFF(164,"Note that a project scaffolded with the Nest CLI creates an initial project structure that encourages developers to follow the convention of keeping each module in its own dedicated directory."),e.k0s(),e.j41(165,"blockquote",17)(166,"strong"),e.EFF(167,"Hint"),e.k0s(),e.EFF(168," By default, if any error happens while creating the application your app will exit with the code "),e.j41(169,"code"),e.EFF(170,"1"),e.k0s(),e.EFF(171,". If you want to make it throw an error instead disable the option "),e.j41(172,"code"),e.EFF(173,"abortOnError"),e.k0s(),e.EFF(174," (e.g., "),e.j41(175,"code"),e.EFF(176),e.k0s(),e.EFF(177,").\n"),e.k0s(),e.j41(178,"p"),e.nrm(179,"app-banner-courses"),e.k0s(),e.j41(180,"h4",25)(181,"span"),e.EFF(182,"Platform"),e.k0s()(),e.j41(183,"p"),e.EFF(184,"Nest aims to be a platform-agnostic framework. Platform independence makes it possible to create reusable logical parts that developers can take advantage of across several different types of applications. Technically, Nest is able to work with any Node HTTP framework once an adapter is created. There are two HTTP platforms supported out-of-the-box: "),e.j41(185,"a",26),e.EFF(186,"express"),e.k0s(),e.EFF(187," and "),e.j41(188,"a",27),e.EFF(189,"fastify"),e.k0s(),e.EFF(190,". You can choose the one that best suits your needs."),e.k0s(),e.j41(191,"table"),e.nrm(192,"thead"),e.j41(193,"tbody")(194,"tr")(195,"td")(196,"code"),e.EFF(197,"platform-express"),e.k0s()(),e.j41(198,"td")(199,"a",26),e.EFF(200,"Express"),e.k0s(),e.EFF(201," is a well-known minimalist web framework for node. It's a battle tested, production-ready library with lots of resources implemented by the community. The "),e.j41(202,"code"),e.EFF(203,"@nestjs/platform-express"),e.k0s(),e.EFF(204," package is used by default. Many users are well served with Express, and need take no action to enable it."),e.k0s()(),e.j41(205,"tr")(206,"td")(207,"code"),e.EFF(208,"platform-fastify"),e.k0s()(),e.j41(209,"td")(210,"a",28),e.EFF(211,"Fastify"),e.k0s(),e.EFF(212," is a high performance and low overhead framework highly focused on providing maximum efficiency and speed. Read how to use it "),e.j41(213,"a",29),e.EFF(214,"here"),e.k0s(),e.EFF(215,"."),e.k0s()()()(),e.j41(216,"p"),e.EFF(217,"Whichever platform is used, it exposes its own application interface. These are seen respectively as "),e.j41(218,"code"),e.EFF(219,"NestExpressApplication"),e.k0s(),e.EFF(220," and "),e.j41(221,"code"),e.EFF(222,"NestFastifyApplication"),e.k0s(),e.EFF(223,"."),e.k0s(),e.j41(224,"p"),e.EFF(225,"When you pass a type to the "),e.j41(226,"code"),e.EFF(227,"NestFactory.create()"),e.k0s(),e.EFF(228," method, as in the example below, the "),e.j41(229,"code"),e.EFF(230,"app"),e.k0s(),e.EFF(231," object will have methods available exclusively for that specific platform. Note, however, you don't "),e.j41(232,"strong"),e.EFF(233,"need"),e.k0s(),e.EFF(234," to specify a type "),e.j41(235,"strong"),e.EFF(236,"unless"),e.k0s(),e.EFF(237," you actually want to access the underlying platform API."),e.k0s(),e.j41(238,"app-copy-button")(239,"pre")(240,"code",24),e.EFF(241,"\nconst app = await NestFactory.create<NestExpressApplication>(AppModule);\n"),e.k0s()()(),e.j41(242,"h4",30)(243,"span"),e.EFF(244,"Running the application"),e.k0s()(),e.j41(245,"p"),e.EFF(246,"Once the installation process is complete, you can run the following command at your OS command prompt to start the application listening for inbound HTTP requests:"),e.k0s(),e.j41(247,"pre")(248,"code",16),e.EFF(249,"\n$ npm run start\n"),e.k0s()(),e.j41(250,"blockquote",17)(251,"strong"),e.EFF(252,"Hint"),e.k0s(),e.EFF(253," To speed up the development process (x20 times faster builds), you can use the "),e.j41(254,"a",31),e.EFF(255,"SWC builder"),e.k0s(),e.EFF(256," by passing the "),e.j41(257,"code"),e.EFF(258,"-b swc"),e.k0s(),e.EFF(259," flag to the "),e.j41(260,"code"),e.EFF(261,"start"),e.k0s(),e.EFF(262," script, as follows "),e.j41(263,"code"),e.EFF(264,"npm run start -- -b swc"),e.k0s(),e.EFF(265,".\n"),e.k0s(),e.j41(266,"p"),e.EFF(267,"This command starts the app with the HTTP server listening on the port defined in the "),e.j41(268,"code"),e.EFF(269,"src/main.ts"),e.k0s(),e.EFF(270," file. Once the application is running, open your browser and navigate to "),e.j41(271,"code"),e.EFF(272,"http://localhost:3000/"),e.k0s(),e.EFF(273,". You should see the "),e.j41(274,"code"),e.EFF(275,"Hello World!"),e.k0s(),e.EFF(276," message."),e.k0s(),e.j41(277,"p"),e.EFF(278,"To watch for changes in your files, you can run the following command to start the application:"),e.k0s(),e.j41(279,"pre")(280,"code",16),e.EFF(281,"\n$ npm run start:dev\n"),e.k0s()(),e.j41(282,"p"),e.EFF(283,"This command will watch your files, automatically recompiling and reloading the server."),e.k0s(),e.j41(284,"h4",32)(285,"span"),e.EFF(286,"Linting and formatting"),e.k0s()(),e.j41(287,"p")(288,"a",14),e.EFF(289,"CLI"),e.k0s(),e.EFF(290," provides best effort to scaffold a reliable development workflow at scale. Thus, a generated Nest project comes with both a code "),e.j41(291,"strong"),e.EFF(292,"linter"),e.k0s(),e.EFF(293," and "),e.j41(294,"strong"),e.EFF(295,"formatter"),e.k0s(),e.EFF(296," preinstalled (respectively "),e.j41(297,"a",33),e.EFF(298,"eslint"),e.k0s(),e.EFF(299," and "),e.j41(300,"a",34),e.EFF(301,"prettier"),e.k0s(),e.EFF(302,")."),e.k0s(),e.j41(303,"blockquote",17)(304,"strong"),e.EFF(305,"Hint"),e.k0s(),e.EFF(306," Not sure about the role of formatters vs linters? Learn the difference "),e.j41(307,"a",35),e.EFF(308,"here"),e.k0s(),e.EFF(309,".\n"),e.k0s(),e.j41(310,"p"),e.EFF(311,"To ensure maximum stability and extensibility, we use the base "),e.j41(312,"a",36)(313,"code"),e.EFF(314,"eslint"),e.k0s()(),e.EFF(315," and "),e.j41(316,"a",37)(317,"code"),e.EFF(318,"prettier"),e.k0s()(),e.EFF(319," cli packages. This setup allows neat IDE integration with official extensions by design."),e.k0s(),e.j41(320,"p"),e.EFF(321,"For headless environments where an IDE is not relevant (Continuous Integration, Git hooks, etc.) a Nest project comes with ready-to-use "),e.j41(322,"code"),e.EFF(323,"npm"),e.k0s(),e.EFF(324," scripts."),e.k0s(),e.j41(325,"pre")(326,"code",16),e.EFF(327,"\n# Lint and autofix with eslint\n$ npm run lint\n\n# Format with prettier\n$ npm run format\n"),e.k0s()()()),2&c){const b=e.sdS(139);e.R7$(136),e.SpI(" ",e.i5U(137,7,"main",b.isJsActive),"\n"),e.R7$(4),e.AVh("hide",b.isJsActive),e.R7$(3),e.AVh("hide",!b.isJsActive),e.R7$(33),e.Lme("NestFactory.create(AppModule, ","{"," abortOnError: false ","}",")")}},dependencies:[yt.Wk,Wn.O,Ln.a,Mn.Q,Qn.z,Zn.M],encapsulation:2,changeDetection:0})}return v})();var Ns=C(8149);const Ur=[{path:"",component:gr,children:[{path:"",component:(()=>{class v extends Xe.y{static \u0275fac=(()=>{let a;return function(h){return(a||(a=e.xGo(v)))(h||v)}})();static \u0275cmp=e.VBU({type:v,selectors:[["app-introduction"]],features:[e.Vt3],decls:122,vars:0,consts:[["contentReference",""],[1,"content"],[1,"github-links"],["href","https://github.com/nestjs/docs.nestjs.com/edit/master/content/introduction.md","aria-label","Suggest Edits","title","Suggest Edits"],[1,"fas","fa-edit"],["id","introduction"],["rel","nofollow","target","_blank","href","https://nodejs.org/"],["rel","nofollow","target","_blank","href","http://www.typescriptlang.org/"],["rel","nofollow","target","_blank","href","https://expressjs.com/"],["rel","nofollow","target","_blank","href","https://github.com/fastify/fastify"],["appAnchor","","id","philosophy"],["rel","nofollow","target","_blank","href","https://angular.dev/"],["rel","nofollow","target","_blank","href","https://github.com/facebook/react"],["rel","nofollow","target","_blank","href","https://github.com/vuejs/vue"],["appAnchor","","id","installation"],["routerLink","/cli/overview"],["href","#alternatives"],["routerLink","first-steps"],[1,"language-bash"],[1,"info"],["appAnchor","","id","alternatives"],["rel","nofollow","target","_blank","href","https://github.com/Rich-Harris/degit"],["rel","nofollow","target","_blank","href","http://localhost:3000/"],["rel","nofollow","target","_blank","href","https://dev.to/micalevisk/5-steps-to-create-a-bare-minimum-nestjs-app-from-scratch-5c3b"]],template:function(c,h){1&c&&(e.j41(0,"div",1,0)(2,"div",2)(3,"a",3),e.nrm(4,"i",4),e.k0s()(),e.j41(5,"h3",5),e.EFF(6,"Introduction"),e.k0s(),e.j41(7,"p"),e.EFF(8,"Nest (NestJS) is a framework for building efficient, scalable "),e.j41(9,"a",6),e.EFF(10,"Node.js"),e.k0s(),e.EFF(11," server-side applications. It uses progressive JavaScript, is built with and fully supports "),e.j41(12,"a",7),e.EFF(13,"TypeScript"),e.k0s(),e.EFF(14," (yet still enables developers to code in pure JavaScript) and combines elements of OOP (Object Oriented Programming), FP (Functional Programming), and FRP (Functional Reactive Programming)."),e.k0s(),e.j41(15,"p"),e.EFF(16,"Under the hood, Nest makes use of robust HTTP Server frameworks like "),e.j41(17,"a",8),e.EFF(18,"Express"),e.k0s(),e.EFF(19," (the default) and optionally can be configured to use "),e.j41(20,"a",9),e.EFF(21,"Fastify"),e.k0s(),e.EFF(22," as well!"),e.k0s(),e.j41(23,"p"),e.EFF(24,"Nest provides a level of abstraction above these common Node.js frameworks (Express/Fastify), but also exposes their APIs directly to the developer. This gives developers the freedom to use the myriad of third-party modules which are available for the underlying platform."),e.k0s(),e.j41(25,"h4",10)(26,"span"),e.EFF(27,"Philosophy"),e.k0s()(),e.j41(28,"p"),e.EFF(29,"In recent years, thanks to Node.js, JavaScript has become the \u201clingua franca\u201d of the web for both front and backend applications. This has given rise to awesome projects like "),e.j41(30,"a",11),e.EFF(31,"Angular"),e.k0s(),e.EFF(32,", "),e.j41(33,"a",12),e.EFF(34,"React"),e.k0s(),e.EFF(35," and "),e.j41(36,"a",13),e.EFF(37,"Vue"),e.k0s(),e.EFF(38,", which improve developer productivity and enable the creation of fast, testable, and extensible frontend applications. However, while plenty of superb libraries, helpers, and tools exist for Node (and server-side JavaScript), none of them effectively solve the main problem of "),e.j41(39,"strong"),e.EFF(40,"architecture"),e.k0s(),e.EFF(41,"."),e.k0s(),e.j41(42,"p"),e.EFF(43,"Nest provides an out-of-the-box application architecture which allows developers and teams to create highly testable, scalable, loosely coupled, and easily maintainable applications. The architecture is heavily inspired by Angular."),e.k0s(),e.j41(44,"h4",14)(45,"span"),e.EFF(46,"Installation"),e.k0s()(),e.j41(47,"p"),e.EFF(48,"To get started, you can either scaffold the project with the "),e.j41(49,"a",15),e.EFF(50,"Nest CLI"),e.k0s(),e.EFF(51,", or "),e.j41(52,"a",16),e.EFF(53,"clone a starter project"),e.k0s(),e.EFF(54," (both will produce the same outcome)."),e.k0s(),e.j41(55,"p"),e.EFF(56,"To scaffold the project with the Nest CLI, run the following commands. This will create a new project directory, and populate the directory with the initial core Nest files and supporting modules, creating a conventional base structure for your project. Creating a new project with the "),e.j41(57,"strong"),e.EFF(58,"Nest CLI"),e.k0s(),e.EFF(59," is recommended for first-time users. We'll continue with this approach in "),e.j41(60,"a",17),e.EFF(61,"First Steps"),e.k0s(),e.EFF(62,"."),e.k0s(),e.j41(63,"pre")(64,"code",18),e.EFF(65,"\n$ npm i -g @nestjs/cli\n$ nest new project-name\n"),e.k0s()(),e.j41(66,"blockquote",19)(67,"strong"),e.EFF(68,"Hint"),e.k0s(),e.EFF(69," To create a new TypeScript project with stricter feature set, pass the "),e.j41(70,"code"),e.EFF(71,"--strict"),e.k0s(),e.EFF(72," flag to the "),e.j41(73,"code"),e.EFF(74,"nest new"),e.k0s(),e.EFF(75," command.\n"),e.k0s(),e.j41(76,"h4",20)(77,"span"),e.EFF(78,"Alternatives"),e.k0s()(),e.j41(79,"p"),e.EFF(80,"Alternatively, to install the TypeScript starter project with "),e.j41(81,"strong"),e.EFF(82,"Git"),e.k0s(),e.EFF(83,":"),e.k0s(),e.j41(84,"pre")(85,"code",18),e.EFF(86,"\n$ git clone https://github.com/nestjs/typescript-starter.git project\n$ cd project\n$ npm install\n$ npm run start\n"),e.k0s()(),e.j41(87,"blockquote",19)(88,"strong"),e.EFF(89,"Hint"),e.k0s(),e.EFF(90," If you'd like to clone the repository without the git history, you can use "),e.j41(91,"a",21),e.EFF(92,"degit"),e.k0s(),e.EFF(93,".\n"),e.k0s(),e.j41(94,"p"),e.EFF(95,"Open your browser and navigate to "),e.j41(96,"a",22)(97,"code"),e.EFF(98,"http://localhost:3000/"),e.k0s()(),e.EFF(99,"."),e.k0s(),e.j41(100,"p"),e.EFF(101,"To install the JavaScript flavor of the starter project, use "),e.j41(102,"code"),e.EFF(103,"javascript-starter.git"),e.k0s(),e.EFF(104," in the command sequence above."),e.k0s(),e.j41(105,"p"),e.EFF(106,"You can also start a new project from scratch by installing the core and supporting packages. Keep in mind that you'll need to set up the project boilerplate files on your own. At a minimum, you'll need these dependencies: "),e.j41(107,"code"),e.EFF(108,"@nestjs/core"),e.k0s(),e.EFF(109,", "),e.j41(110,"code"),e.EFF(111,"@nestjs/common"),e.k0s(),e.EFF(112,", "),e.j41(113,"code"),e.EFF(114,"rxjs"),e.k0s(),e.EFF(115,", and "),e.j41(116,"code"),e.EFF(117,"reflect-metadata"),e.k0s(),e.EFF(118,". Check out this short article on how to create a complete project: "),e.j41(119,"a",23),e.EFF(120,"5 steps to create a bare minimum NestJS app from scratch!"),e.k0s(),e.EFF(121,"."),e.k0s()())},dependencies:[yt.Wk,Ln.a],encapsulation:2,changeDetection:0})}return v})()},{path:"first-steps",component:ts,data:{title:"First steps"}},{path:"controllers",component:Xi,data:{title:"Controllers"}},{path:"components",redirectTo:"providers"},{path:"providers",component:Po,data:{title:"Providers"}},{path:"modules",component:(()=>{class v extends Xe.y{static \u0275fac=(()=>{let a;return function(h){return(a||(a=e.xGo(v)))(h||v)}})();static \u0275cmp=e.VBU({type:v,selectors:[["app-modules"]],features:[e.Vt3],decls:441,vars:24,consts:[["contentReference",""],["appd08f6abced7c18a9d207852f7bf4e0282dfcddf9",""],["appa96958cad82dce77dcde58116fd96da5bedab6e1",""],["appba01279c81337937e86da89594bd5c21fd2ba052",""],["app553a8720d3ccfefd6fa43cdb2d543f99e84b358b",""],["app4973ad12b50b7cc50174fbe6b98592b3d97c5f16",""],[1,"content"],[1,"github-links"],["href","https://github.com/nestjs/docs.nestjs.com/edit/master/content/modules.md","aria-label","Suggest Edits","title","Suggest Edits"],[1,"fas","fa-edit"],["id","modules"],["src","/assets/Modules_1.png",1,"illustrative-image"],["appAnchor","","id","feature-modules"],["rel","nofollow","target","_blank","href","https://en.wikipedia.org/wiki/SOLID"],[1,"with-heading"],[1,"filename"],[1,"language-typescript"],[1,"info"],[1,"file-tree"],[1,"item"],[1,"children"],["appAnchor","","id","shared-modules"],["src","/assets/Shared_Module_1.png",1,"illustrative-image"],["appAnchor","","id","module-re-exporting"],["appAnchor","","id","dependency-injection"],["routerLink","/fundamentals/circular-dependency"],["appAnchor","","id","global-modules"],["rel","nofollow","target","_blank","href","https://angular.dev"],["appAnchor","","id","dynamic-modules"],["routerLink","/fundamentals/dynamic-modules"],[1,"warning"],["rel","nofollow","target","_blank","href","https://github.com/nestjs/nest/tree/master/sample/25-dynamic-modules"],["href","/fundamentals/dynamic-modules#configurable-module-builder"]],template:function(c,h){if(1&c&&(e.j41(0,"div",6,0)(2,"div",7)(3,"a",8),e.nrm(4,"i",9),e.k0s()(),e.j41(5,"h3",10),e.EFF(6,"Modules"),e.k0s(),e.j41(7,"p"),e.EFF(8,"A module is a class annotated with a "),e.j41(9,"code"),e.EFF(10,"@Module()"),e.k0s(),e.EFF(11," decorator. The "),e.j41(12,"code"),e.EFF(13,"@Module()"),e.k0s(),e.EFF(14," decorator provides metadata that "),e.j41(15,"strong"),e.EFF(16,"Nest"),e.k0s(),e.EFF(17," makes use of to organize the application structure."),e.k0s(),e.j41(18,"figure"),e.nrm(19,"img",11),e.k0s(),e.j41(20,"p"),e.EFF(21,"Each application has at least one module, a "),e.j41(22,"strong"),e.EFF(23,"root module"),e.k0s(),e.EFF(24,". The root module is the starting point Nest uses to build the "),e.j41(25,"strong"),e.EFF(26,"application graph"),e.k0s(),e.EFF(27," - the internal data structure Nest uses to resolve module and provider relationships and dependencies. While very small applications may theoretically have just the root module, this is not the typical case. We want to emphasize that modules are "),e.j41(28,"strong"),e.EFF(29,"strongly"),e.k0s(),e.EFF(30," recommended as an effective way to organize your components. Thus, for most applications, the resulting architecture will employ multiple modules, each encapsulating a closely related set of "),e.j41(31,"strong"),e.EFF(32,"capabilities"),e.k0s(),e.EFF(33,"."),e.k0s(),e.j41(34,"p"),e.EFF(35,"The "),e.j41(36,"code"),e.EFF(37,"@Module()"),e.k0s(),e.EFF(38," decorator takes a single object whose properties describe the module:"),e.k0s(),e.j41(39,"table"),e.nrm(40,"thead"),e.j41(41,"tbody")(42,"tr")(43,"td")(44,"code"),e.EFF(45,"providers"),e.k0s()(),e.j41(46,"td"),e.EFF(47,"the providers that will be instantiated by the Nest injector and that may be shared at least across this module"),e.k0s()(),e.j41(48,"tr")(49,"td")(50,"code"),e.EFF(51,"controllers"),e.k0s()(),e.j41(52,"td"),e.EFF(53,"the set of controllers defined in this module which have to be instantiated"),e.k0s()(),e.j41(54,"tr")(55,"td")(56,"code"),e.EFF(57,"imports"),e.k0s()(),e.j41(58,"td"),e.EFF(59,"the list of imported modules that export the providers which are required in this module"),e.k0s()(),e.j41(60,"tr")(61,"td")(62,"code"),e.EFF(63,"exports"),e.k0s()(),e.j41(64,"td"),e.EFF(65,"the subset of "),e.j41(66,"code"),e.EFF(67,"providers"),e.k0s(),e.EFF(68," that are provided by this module and should be available in other modules which import this module. You can use either the provider itself or just its token ("),e.j41(69,"code"),e.EFF(70,"provide"),e.k0s(),e.EFF(71," value)"),e.k0s()()()(),e.j41(72,"p"),e.EFF(73,"The module "),e.j41(74,"strong"),e.EFF(75,"encapsulates"),e.k0s(),e.EFF(76," providers by default. This means that it's impossible to inject providers that are neither directly part of the current module nor exported from the imported modules. Thus, you may consider the exported providers from a module as the module's public interface, or API."),e.k0s(),e.j41(77,"h4",12)(78,"span"),e.EFF(79,"Feature modules"),e.k0s()(),e.j41(80,"p"),e.EFF(81,"The "),e.j41(82,"code"),e.EFF(83,"CatsController"),e.k0s(),e.EFF(84," and "),e.j41(85,"code"),e.EFF(86,"CatsService"),e.k0s(),e.EFF(87," belong to the same application domain. As they are closely related, it makes sense to move them into a feature module. A feature module simply organizes code relevant for a specific feature, keeping code organized and establishing clear boundaries. This helps us manage complexity and develop with "),e.j41(88,"a",13),e.EFF(89,"SOLID"),e.k0s(),e.EFF(90," principles, especially as the size of the application and/or team grows."),e.k0s(),e.j41(91,"p"),e.EFF(92,"To demonstrate this, we'll create the "),e.j41(93,"code"),e.EFF(94,"CatsModule"),e.k0s(),e.EFF(95,"."),e.k0s(),e.j41(96,"app-copy-button",14)(97,"span",15),e.EFF(98),e.nI1(99,"extension"),e.nrm(100,"app-tabs",null,1),e.k0s(),e.j41(102,"pre")(103,"code",16),e.EFF(104,"\nimport { Module } from '@nestjs/common';\nimport { CatsController } from './cats.controller';\nimport { CatsService } from './cats.service';\n\n@Module({\n  controllers: [CatsController],\n  providers: [CatsService],\n})\nexport class CatsModule {}\n"),e.k0s()()(),e.j41(105,"blockquote",17)(106,"strong"),e.EFF(107,"Hint"),e.k0s(),e.EFF(108," To create a module using the CLI, simply execute the "),e.j41(109,"code"),e.EFF(110,"$ nest g module cats"),e.k0s(),e.EFF(111," command.\n"),e.k0s(),e.j41(112,"p"),e.EFF(113,"Above, we defined the "),e.j41(114,"code"),e.EFF(115,"CatsModule"),e.k0s(),e.EFF(116," in the "),e.j41(117,"code"),e.EFF(118,"cats.module.ts"),e.k0s(),e.EFF(119," file, and moved everything related to this module into the "),e.j41(120,"code"),e.EFF(121,"cats"),e.k0s(),e.EFF(122," directory. The last thing we need to do is import this module into the root module (the "),e.j41(123,"code"),e.EFF(124,"AppModule"),e.k0s(),e.EFF(125,", defined in the "),e.j41(126,"code"),e.EFF(127,"app.module.ts"),e.k0s(),e.EFF(128," file)."),e.k0s(),e.j41(129,"app-copy-button",14)(130,"span",15),e.EFF(131),e.nI1(132,"extension"),e.nrm(133,"app-tabs",null,2),e.k0s(),e.j41(135,"pre")(136,"code",16),e.EFF(137,"\nimport { Module } from '@nestjs/common';\nimport { CatsModule } from './cats/cats.module';\n\n@Module({\n  imports: [CatsModule],\n})\nexport class AppModule {}\n"),e.k0s()()(),e.j41(138,"p"),e.EFF(139,"Here is how our directory structure looks now:"),e.k0s(),e.j41(140,"div",18)(141,"div",19),e.EFF(142,"src"),e.k0s(),e.j41(143,"div",20)(144,"div",19),e.EFF(145,"cats"),e.k0s(),e.j41(146,"div",20)(147,"div",19),e.EFF(148,"dto"),e.k0s(),e.j41(149,"div",20)(150,"div",19),e.EFF(151,"create-cat.dto.ts"),e.k0s()(),e.j41(152,"div",19),e.EFF(153,"interfaces"),e.k0s(),e.j41(154,"div",20)(155,"div",19),e.EFF(156,"cat.interface.ts"),e.k0s()(),e.j41(157,"div",19),e.EFF(158,"cats.controller.ts"),e.k0s(),e.j41(159,"div",19),e.EFF(160,"cats.module.ts"),e.k0s(),e.j41(161,"div",19),e.EFF(162,"cats.service.ts"),e.k0s()(),e.j41(163,"div",19),e.EFF(164,"app.module.ts"),e.k0s(),e.j41(165,"div",19),e.EFF(166,"main.ts"),e.k0s()()(),e.j41(167,"h4",21)(168,"span"),e.EFF(169,"Shared modules"),e.k0s()(),e.j41(170,"p"),e.EFF(171,"In Nest, modules are "),e.j41(172,"strong"),e.EFF(173,"singletons"),e.k0s(),e.EFF(174," by default, and thus you can share the same instance of any provider between multiple modules effortlessly."),e.k0s(),e.j41(175,"figure"),e.nrm(176,"img",22),e.k0s(),e.j41(177,"p"),e.EFF(178,"Every module is automatically a "),e.j41(179,"strong"),e.EFF(180,"shared module"),e.k0s(),e.EFF(181,". Once created it can be reused by any module. Let's imagine that we want to share an instance of the "),e.j41(182,"code"),e.EFF(183,"CatsService"),e.k0s(),e.EFF(184," between several other modules. In order to do that, we first need to "),e.j41(185,"strong"),e.EFF(186,"export"),e.k0s(),e.EFF(187," the "),e.j41(188,"code"),e.EFF(189,"CatsService"),e.k0s(),e.EFF(190," provider by adding it to the module's "),e.j41(191,"code"),e.EFF(192,"exports"),e.k0s(),e.EFF(193," array, as shown below:"),e.k0s(),e.j41(194,"app-copy-button",14)(195,"span",15),e.EFF(196),e.nI1(197,"extension"),e.nrm(198,"app-tabs",null,3),e.k0s(),e.j41(200,"pre")(201,"code",16),e.EFF(202,"\nimport { Module } from '@nestjs/common';\nimport { CatsController } from './cats.controller';\nimport { CatsService } from './cats.service';\n\n@Module({\n  controllers: [CatsController],\n  providers: [CatsService],\n  exports: [CatsService]\n})\nexport class CatsModule {}\n"),e.k0s()()(),e.j41(203,"p"),e.EFF(204,"Now any module that imports the "),e.j41(205,"code"),e.EFF(206,"CatsModule"),e.k0s(),e.EFF(207," has access to the "),e.j41(208,"code"),e.EFF(209,"CatsService"),e.k0s(),e.EFF(210," and will share the same instance with all other modules that import it as well."),e.k0s(),e.j41(211,"p"),e.EFF(212,"If we were to directly register the "),e.j41(213,"code"),e.EFF(214,"CatsService"),e.k0s(),e.EFF(215," in every module that requires it, it would indeed work, but it would result in each module getting its own separate instance of the "),e.j41(216,"code"),e.EFF(217,"CatsService"),e.k0s(),e.EFF(218,". This can lead to increased memory usage since multiple instances of the same service are created, and it could also cause unexpected behavior, such as state inconsistency if the service maintains any internal state."),e.k0s(),e.j41(219,"p"),e.EFF(220,"By encapsulating the "),e.j41(221,"code"),e.EFF(222,"CatsService"),e.k0s(),e.EFF(223," inside a module, such as the "),e.j41(224,"code"),e.EFF(225,"CatsModule"),e.k0s(),e.EFF(226,", and exporting it, we ensure that the same instance of "),e.j41(227,"code"),e.EFF(228,"CatsService"),e.k0s(),e.EFF(229," is reused across all modules that import "),e.j41(230,"code"),e.EFF(231,"CatsModule"),e.k0s(),e.EFF(232,". This not only reduces memory consumption but also leads to more predictable behavior, as all modules share the same instance, making it easier to manage shared states or resources. This is one of the key benefits of modularity and dependency injection in frameworks like NestJS\u2014allowing services to be efficiently shared throughout the application."),e.k0s(),e.j41(233,"p"),e.nrm(234,"app-banner-devtools"),e.k0s(),e.j41(235,"h4",23)(236,"span"),e.EFF(237,"Module re-exporting"),e.k0s()(),e.j41(238,"p"),e.EFF(239,"As seen above, Modules can export their internal providers. In addition, they can re-export modules that they import. In the example below, the "),e.j41(240,"code"),e.EFF(241,"CommonModule"),e.k0s(),e.EFF(242," is both imported into "),e.j41(243,"strong"),e.EFF(244,"and"),e.k0s(),e.EFF(245," exported from the "),e.j41(246,"code"),e.EFF(247,"CoreModule"),e.k0s(),e.EFF(248,", making it available for other modules which import this one."),e.k0s(),e.j41(249,"app-copy-button")(250,"pre")(251,"code",16),e.EFF(252,"\n@Module({\n  imports: [CommonModule],\n  exports: [CommonModule],\n})\nexport class CoreModule {}\n"),e.k0s()()(),e.j41(253,"h4",24)(254,"span"),e.EFF(255,"Dependency injection"),e.k0s()(),e.j41(256,"p"),e.EFF(257,"A module class can "),e.j41(258,"strong"),e.EFF(259,"inject"),e.k0s(),e.EFF(260," providers as well (e.g., for configuration purposes):"),e.k0s(),e.j41(261,"app-copy-button",14)(262,"span",15),e.EFF(263),e.nI1(264,"extension"),e.nrm(265,"app-tabs",null,4),e.k0s(),e.j41(267,"pre")(268,"code",16),e.EFF(269,"\nimport { Module } from '@nestjs/common';\nimport { CatsController } from './cats.controller';\nimport { CatsService } from './cats.service';\n\n@Module({\n  controllers: [CatsController],\n  providers: [CatsService],\n})\nexport class CatsModule {\n  constructor(private catsService: CatsService) {}\n}\n"),e.k0s()(),e.j41(270,"pre")(271,"code",16),e.EFF(272,"\nimport { Module, Dependencies } from '@nestjs/common';\nimport { CatsController } from './cats.controller';\nimport { CatsService } from './cats.service';\n\n@Module({\n  controllers: [CatsController],\n  providers: [CatsService],\n})\n@Dependencies(CatsService)\nexport class CatsModule {\n  constructor(catsService) {\n    this.catsService = catsService;\n  }\n}\n"),e.k0s()()(),e.j41(273,"p"),e.EFF(274,"However, module classes themselves cannot be injected as providers due to "),e.j41(275,"a",25),e.EFF(276,"circular dependency"),e.k0s(),e.EFF(277," ."),e.k0s(),e.j41(278,"h4",26)(279,"span"),e.EFF(280,"Global modules"),e.k0s()(),e.j41(281,"p"),e.EFF(282,"If you have to import the same set of modules everywhere, it can get tedious. Unlike in Nest, "),e.j41(283,"a",27),e.EFF(284,"Angular"),e.k0s(),e.j41(285,"code"),e.EFF(286,"providers"),e.k0s(),e.EFF(287," are registered in the global scope. Once defined, they're available everywhere. Nest, however, encapsulates providers inside the module scope. You aren't able to use a module's providers elsewhere without first importing the encapsulating module."),e.k0s(),e.j41(288,"p"),e.EFF(289,"When you want to provide a set of providers which should be available everywhere out-of-the-box (e.g., helpers, database connections, etc.), make the module "),e.j41(290,"strong"),e.EFF(291,"global"),e.k0s(),e.EFF(292," with the "),e.j41(293,"code"),e.EFF(294,"@Global()"),e.k0s(),e.EFF(295," decorator."),e.k0s(),e.j41(296,"app-copy-button")(297,"pre")(298,"code",16),e.EFF(299,"\nimport { Module, Global } from '@nestjs/common';\nimport { CatsController } from './cats.controller';\nimport { CatsService } from './cats.service';\n\n@Global()\n@Module({\n  controllers: [CatsController],\n  providers: [CatsService],\n  exports: [CatsService],\n})\nexport class CatsModule {}\n"),e.k0s()()(),e.j41(300,"p"),e.EFF(301,"The "),e.j41(302,"code"),e.EFF(303,"@Global()"),e.k0s(),e.EFF(304," decorator makes the module global-scoped. Global modules should be registered "),e.j41(305,"strong"),e.EFF(306,"only once"),e.k0s(),e.EFF(307,", generally by the root or core module. In the above example, the "),e.j41(308,"code"),e.EFF(309,"CatsService"),e.k0s(),e.EFF(310," provider will be ubiquitous, and modules that wish to inject the service will not need to import the "),e.j41(311,"code"),e.EFF(312,"CatsModule"),e.k0s(),e.EFF(313," in their imports array."),e.k0s(),e.j41(314,"blockquote",17)(315,"strong"),e.EFF(316,"Hint"),e.k0s(),e.EFF(317," Making everything global is not a good design decision. Global modules are available to reduce the amount of necessary boilerplate. The "),e.j41(318,"code"),e.EFF(319,"imports"),e.k0s(),e.EFF(320," array is generally the preferred way to make the module's API available to consumers.\n"),e.k0s(),e.j41(321,"h4",28)(322,"span"),e.EFF(323,"Dynamic modules"),e.k0s()(),e.j41(324,"p"),e.EFF(325,"The Nest module system includes a powerful feature called "),e.j41(326,"strong"),e.EFF(327,"dynamic modules"),e.k0s(),e.EFF(328,". This feature enables you to easily create customizable modules that can register and configure providers dynamically. Dynamic modules are covered extensively "),e.j41(329,"a",29),e.EFF(330,"here"),e.k0s(),e.EFF(331,". In this chapter, we'll give a brief overview to complete the introduction to modules."),e.k0s(),e.j41(332,"p"),e.EFF(333,"Following is an example of a dynamic module definition for a "),e.j41(334,"code"),e.EFF(335,"DatabaseModule"),e.k0s(),e.EFF(336,":"),e.k0s(),e.j41(337,"app-copy-button",14)(338,"span",15),e.nrm(339,"app-tabs",null,5),e.k0s(),e.j41(341,"pre")(342,"code",16),e.EFF(343,"\nimport { Module, DynamicModule } from '@nestjs/common';\nimport { createDatabaseProviders } from './database.providers';\nimport { Connection } from './connection.provider';\n\n@Module({\n  providers: [Connection],\n  exports: [Connection],\n})\nexport class DatabaseModule {\n  static forRoot(entities = [], options?): DynamicModule {\n    const providers = createDatabaseProviders(options, entities);\n    return {\n      module: DatabaseModule,\n      providers: providers,\n      exports: providers,\n    };\n  }\n}\n"),e.k0s()(),e.j41(344,"pre")(345,"code",16),e.EFF(346,"\nimport { Module } from '@nestjs/common';\nimport { createDatabaseProviders } from './database.providers';\nimport { Connection } from './connection.provider';\n\n@Module({\n  providers: [Connection],\n  exports: [Connection],\n})\nexport class DatabaseModule {\n  static forRoot(entities = [], options) {\n    const providers = createDatabaseProviders(options, entities);\n    return {\n      module: DatabaseModule,\n      providers: providers,\n      exports: providers,\n    };\n  }\n}\n"),e.k0s()()(),e.j41(347,"blockquote",17)(348,"strong"),e.EFF(349,"Hint"),e.k0s(),e.EFF(350," The "),e.j41(351,"code"),e.EFF(352,"forRoot()"),e.k0s(),e.EFF(353," method may return a dynamic module either synchronously or asynchronously (i.e., via a "),e.j41(354,"code"),e.EFF(355,"Promise"),e.k0s(),e.EFF(356,").\n"),e.k0s(),e.j41(357,"p"),e.EFF(358,"This module defines the "),e.j41(359,"code"),e.EFF(360,"Connection"),e.k0s(),e.EFF(361," provider by default (in the "),e.j41(362,"code"),e.EFF(363,"@Module()"),e.k0s(),e.EFF(364," decorator metadata), but additionally - depending on the "),e.j41(365,"code"),e.EFF(366,"entities"),e.k0s(),e.EFF(367," and "),e.j41(368,"code"),e.EFF(369,"options"),e.k0s(),e.EFF(370," objects passed into the "),e.j41(371,"code"),e.EFF(372,"forRoot()"),e.k0s(),e.EFF(373," method - exposes a collection of providers, for example, repositories. Note that the properties returned by the dynamic module "),e.j41(374,"strong"),e.EFF(375,"extend"),e.k0s(),e.EFF(376," (rather than override) the base module metadata defined in the "),e.j41(377,"code"),e.EFF(378,"@Module()"),e.k0s(),e.EFF(379," decorator. That's how both the statically declared "),e.j41(380,"code"),e.EFF(381,"Connection"),e.k0s(),e.EFF(382," provider "),e.j41(383,"strong"),e.EFF(384,"and"),e.k0s(),e.EFF(385," the dynamically generated repository providers are exported from the module."),e.k0s(),e.j41(386,"p"),e.EFF(387,"If you want to register a dynamic module in the global scope, set the "),e.j41(388,"code"),e.EFF(389,"global"),e.k0s(),e.EFF(390," property to "),e.j41(391,"code"),e.EFF(392,"true"),e.k0s(),e.EFF(393,"."),e.k0s(),e.j41(394,"app-copy-button")(395,"pre")(396,"code",16),e.EFF(397,"\n{\n  global: true,\n  module: DatabaseModule,\n  providers: providers,\n  exports: providers,\n}\n"),e.k0s()()(),e.j41(398,"blockquote",30)(399,"strong"),e.EFF(400,"Warning"),e.k0s(),e.EFF(401," As mentioned above, making everything global "),e.j41(402,"strong"),e.EFF(403,"is not a good design decision"),e.k0s(),e.EFF(404,".\n"),e.k0s(),e.j41(405,"p"),e.EFF(406,"The "),e.j41(407,"code"),e.EFF(408,"DatabaseModule"),e.k0s(),e.EFF(409," can be imported and configured in the following manner:"),e.k0s(),e.j41(410,"app-copy-button")(411,"pre")(412,"code",16),e.EFF(413,"\nimport { Module } from '@nestjs/common';\nimport { DatabaseModule } from './database/database.module';\nimport { User } from './users/entities/user.entity';\n\n@Module({\n  imports: [DatabaseModule.forRoot([User])],\n})\nexport class AppModule {}\n"),e.k0s()()(),e.j41(414,"p"),e.EFF(415,"If you want to in turn re-export a dynamic module, you can omit the "),e.j41(416,"code"),e.EFF(417,"forRoot()"),e.k0s(),e.EFF(418," method call in the exports array:"),e.k0s(),e.j41(419,"app-copy-button")(420,"pre")(421,"code",16),e.EFF(422,"\nimport { Module } from '@nestjs/common';\nimport { DatabaseModule } from './database/database.module';\nimport { User } from './users/entities/user.entity';\n\n@Module({\n  imports: [DatabaseModule.forRoot([User])],\n  exports: [DatabaseModule],\n})\nexport class AppModule {}\n"),e.k0s()()(),e.j41(423,"p"),e.EFF(424,"The "),e.j41(425,"a",29),e.EFF(426,"Dynamic modules"),e.k0s(),e.EFF(427," chapter covers this topic in greater detail, and includes a "),e.j41(428,"a",31),e.EFF(429,"working example"),e.k0s(),e.EFF(430,"."),e.k0s(),e.j41(431,"blockquote",17)(432,"strong"),e.EFF(433,"Hint"),e.k0s(),e.EFF(434," Learn how to build highly customizable dynamic modules with the use of "),e.j41(435,"code"),e.EFF(436,"ConfigurableModuleBuilder"),e.k0s(),e.EFF(437," here in "),e.j41(438,"a",32),e.EFF(439,"this chapter"),e.k0s(),e.EFF(440,".\n"),e.k0s()()),2&c){const b=e.sdS(101),M=e.sdS(134),u=e.sdS(199),m=e.sdS(266),p=e.sdS(340);e.R7$(98),e.SpI(" ",e.i5U(99,12,"cats/cats.module",b.isJsActive),"\n"),e.R7$(33),e.SpI(" ",e.i5U(132,15,"app.module",M.isJsActive),"\n"),e.R7$(65),e.SpI(" ",e.i5U(197,18,"cats.module",u.isJsActive),"\n"),e.R7$(67),e.SpI(" ",e.i5U(264,21,"cats.module",m.isJsActive),"\n"),e.R7$(4),e.AVh("hide",m.isJsActive),e.R7$(3),e.AVh("hide",!m.isJsActive),e.R7$(71),e.AVh("hide",p.isJsActive),e.R7$(3),e.AVh("hide",!p.isJsActive)}},dependencies:[yt.Wk,Wn.O,Ln.a,mo._,Qn.z,Zn.M],encapsulation:2,changeDetection:0})}return v})(),data:{title:"Modules"}},{path:"middleware",component:(()=>{class v extends Xe.y{static \u0275fac=(()=>{let a;return function(h){return(a||(a=e.xGo(v)))(h||v)}})();static \u0275cmp=e.VBU({type:v,selectors:[["app-middlewares"]],features:[e.Vt3],decls:445,vars:48,consts:[["contentReference",""],["app04e38a35bc907b038faa0a03991187ab9aed9b39",""],["app211a90313e5f5dfbe9b1c4121a30c2407205165e",""],["appee7061c4a31fdd63ce958f6707ca86f25a77ca85",""],["app5ac9896091ea6b38f775f51af5e598c8fd7790b8",""],["app4a42754e18a91197c371e5b680b71d912cdebb7e",""],["app387d5d574090496dbb1f309fe394f3f4c09c223e",""],["app005ba329fb11b184ade8ef358dd683422cb14856",""],[1,"content"],[1,"github-links"],["href","https://github.com/nestjs/docs.nestjs.com/edit/master/content/middlewares.md","aria-label","Suggest Edits","title","Suggest Edits"],[1,"fas","fa-edit"],["id","middleware"],["rel","nofollow","target","_blank","href","https://expressjs.com/en/4x/api.html#req"],["rel","nofollow","target","_blank","href","https://expressjs.com/en/4x/api.html#res"],["src","/assets/Middlewares_1.png",1,"illustrative-image"],["rel","nofollow","target","_blank","href","https://expressjs.com/en/guide/using-middleware.html"],[1,"external"],[1,"warning"],["href","/techniques/performance#middleware"],[1,"with-heading"],[1,"filename"],[1,"language-typescript"],["appAnchor","","id","dependency-injection"],["appAnchor","","id","applying-middleware"],[1,"info"],["appAnchor","","id","route-wildcards"],["appAnchor","","id","middleware-consumer"],["rel","nofollow","target","_blank","href","https://en.wikipedia.org/wiki/Fluent_interface"],["href","/middleware#multiple-middleware"],["appAnchor","","id","excluding-routes"],["rel","nofollow","target","_blank","href","https://github.com/pillarjs/path-to-regexp#parameters"],["appAnchor","","id","functional-middleware"],["appAnchor","","id","multiple-middleware"],["appAnchor","","id","global-middleware"],["href","middleware#functional-middleware"]],template:function(c,h){if(1&c&&(e.j41(0,"div",8,0)(2,"div",9)(3,"a",10),e.nrm(4,"i",11),e.k0s()(),e.j41(5,"h3",12),e.EFF(6,"Middleware"),e.k0s(),e.j41(7,"p"),e.EFF(8,"Middleware is a function which is called "),e.j41(9,"strong"),e.EFF(10,"before"),e.k0s(),e.EFF(11," the route handler. Middleware functions have access to the "),e.j41(12,"a",13),e.EFF(13,"request"),e.k0s(),e.EFF(14," and "),e.j41(15,"a",14),e.EFF(16,"response"),e.k0s(),e.EFF(17," objects, and the "),e.j41(18,"code"),e.EFF(19,"next()"),e.k0s(),e.EFF(20," middleware function in the application\u2019s request-response cycle. The "),e.j41(21,"strong"),e.EFF(22,"next"),e.k0s(),e.EFF(23," middleware function is commonly denoted by a variable named "),e.j41(24,"code"),e.EFF(25,"next"),e.k0s(),e.EFF(26,"."),e.k0s(),e.j41(27,"figure"),e.nrm(28,"img",15),e.k0s(),e.j41(29,"p"),e.EFF(30,"Nest middleware are, by default, equivalent to "),e.j41(31,"a",16),e.EFF(32,"express"),e.k0s(),e.EFF(33," middleware. The following description from the official express documentation describes the capabilities of middleware:"),e.k0s(),e.j41(34,"blockquote",17),e.EFF(35," Middleware functions can perform the following tasks: "),e.j41(36,"ul")(37,"li"),e.EFF(38,"execute any code."),e.k0s(),e.j41(39,"li"),e.EFF(40,"make changes to the request and the response objects."),e.k0s(),e.j41(41,"li"),e.EFF(42,"end the request-response cycle."),e.k0s(),e.j41(43,"li"),e.EFF(44,"call the next middleware function in the stack."),e.k0s(),e.j41(45,"li"),e.EFF(46,"if the current middleware function does not end the request-response cycle, it must call "),e.j41(47,"code"),e.EFF(48,"next()"),e.k0s(),e.EFF(49," to pass control to the next middleware function. Otherwise, the request will be left hanging."),e.k0s()()(),e.j41(50,"p"),e.EFF(51,"You implement custom Nest middleware in either a function, or in a class with an "),e.j41(52,"code"),e.EFF(53,"@Injectable()"),e.k0s(),e.EFF(54," decorator. The class should implement the "),e.j41(55,"code"),e.EFF(56,"NestMiddleware"),e.k0s(),e.EFF(57," interface, while the function does not have any special requirements. Let's start by implementing a simple middleware feature using the class method."),e.k0s(),e.j41(58,"blockquote",18)(59,"strong"),e.EFF(60,"Warning"),e.k0s(),e.j41(61,"code"),e.EFF(62,"Express"),e.k0s(),e.EFF(63," and "),e.j41(64,"code"),e.EFF(65,"fastify"),e.k0s(),e.EFF(66," handle middleware differently and provide different method signatures, read more "),e.j41(67,"a",19),e.EFF(68,"here"),e.k0s(),e.EFF(69,".\n"),e.k0s(),e.j41(70,"app-copy-button",20)(71,"span",21),e.EFF(72),e.nI1(73,"extension"),e.nrm(74,"app-tabs",null,1),e.k0s(),e.j41(76,"pre")(77,"code",22),e.EFF(78,"\nimport { Injectable, NestMiddleware } from '@nestjs/common';\nimport { Request, Response, NextFunction } from 'express';\n\n@Injectable()\nexport class LoggerMiddleware implements NestMiddleware {\n  use(req: Request, res: Response, next: NextFunction) {\n    console.log('Request...');\n    next();\n  }\n}\n"),e.k0s()(),e.j41(79,"pre")(80,"code",22),e.EFF(81,"\nimport { Injectable } from '@nestjs/common';\n\n@Injectable()\nexport class LoggerMiddleware {\n  use(req, res, next) {\n    console.log('Request...');\n    next();\n  }\n}\n"),e.k0s()()(),e.j41(82,"h4",23)(83,"span"),e.EFF(84,"Dependency injection"),e.k0s()(),e.j41(85,"p"),e.EFF(86,"Nest middleware fully supports Dependency Injection. Just as with providers and controllers, they are able to "),e.j41(87,"strong"),e.EFF(88,"inject dependencies"),e.k0s(),e.EFF(89," that are available within the same module. As usual, this is done through the "),e.j41(90,"code"),e.EFF(91,"constructor"),e.k0s(),e.EFF(92,"."),e.k0s(),e.j41(93,"h4",24)(94,"span"),e.EFF(95,"Applying middleware"),e.k0s()(),e.j41(96,"p"),e.EFF(97,"There is no place for middleware in the "),e.j41(98,"code"),e.EFF(99,"@Module()"),e.k0s(),e.EFF(100," decorator. Instead, we set them up using the "),e.j41(101,"code"),e.EFF(102,"configure()"),e.k0s(),e.EFF(103," method of the module class. Modules that include middleware have to implement the "),e.j41(104,"code"),e.EFF(105,"NestModule"),e.k0s(),e.EFF(106," interface. Let's set up the "),e.j41(107,"code"),e.EFF(108,"LoggerMiddleware"),e.k0s(),e.EFF(109," at the "),e.j41(110,"code"),e.EFF(111,"AppModule"),e.k0s(),e.EFF(112," level."),e.k0s(),e.j41(113,"app-copy-button",20)(114,"span",21),e.EFF(115),e.nI1(116,"extension"),e.nrm(117,"app-tabs",null,2),e.k0s(),e.j41(119,"pre")(120,"code",22),e.EFF(121,"\nimport { Module, NestModule, MiddlewareConsumer } from '@nestjs/common';\nimport { LoggerMiddleware } from './common/middleware/logger.middleware';\nimport { CatsModule } from './cats/cats.module';\n\n@Module({\n  imports: [CatsModule],\n})\nexport class AppModule implements NestModule {\n  configure(consumer: MiddlewareConsumer) {\n    consumer\n      .apply(LoggerMiddleware)\n      .forRoutes('cats');\n  }\n}\n"),e.k0s()(),e.j41(122,"pre")(123,"code",22),e.EFF(124,"\nimport { Module } from '@nestjs/common';\nimport { LoggerMiddleware } from './common/middleware/logger.middleware';\nimport { CatsModule } from './cats/cats.module';\n\n@Module({\n  imports: [CatsModule],\n})\nexport class AppModule {\n  configure(consumer) {\n    consumer\n      .apply(LoggerMiddleware)\n      .forRoutes('cats');\n  }\n}\n"),e.k0s()()(),e.j41(125,"p"),e.EFF(126,"In the above example we have set up the "),e.j41(127,"code"),e.EFF(128,"LoggerMiddleware"),e.k0s(),e.EFF(129," for the "),e.j41(130,"code"),e.EFF(131,"/cats"),e.k0s(),e.EFF(132," route handlers that were previously defined inside the "),e.j41(133,"code"),e.EFF(134,"CatsController"),e.k0s(),e.EFF(135,". We may also further restrict a middleware to a particular request method by passing an object containing the route "),e.j41(136,"code"),e.EFF(137,"path"),e.k0s(),e.EFF(138," and request "),e.j41(139,"code"),e.EFF(140,"method"),e.k0s(),e.EFF(141," to the "),e.j41(142,"code"),e.EFF(143,"forRoutes()"),e.k0s(),e.EFF(144," method when configuring the middleware. In the example below, notice that we import the "),e.j41(145,"code"),e.EFF(146,"RequestMethod"),e.k0s(),e.EFF(147," enum to reference the desired request method type."),e.k0s(),e.j41(148,"app-copy-button",20)(149,"span",21),e.EFF(150),e.nI1(151,"extension"),e.nrm(152,"app-tabs",null,3),e.k0s(),e.j41(154,"pre")(155,"code",22),e.EFF(156,"\nimport { Module, NestModule, RequestMethod, MiddlewareConsumer } from '@nestjs/common';\nimport { LoggerMiddleware } from './common/middleware/logger.middleware';\nimport { CatsModule } from './cats/cats.module';\n\n@Module({\n  imports: [CatsModule],\n})\nexport class AppModule implements NestModule {\n  configure(consumer: MiddlewareConsumer) {\n    consumer\n      .apply(LoggerMiddleware)\n      .forRoutes({ path: 'cats', method: RequestMethod.GET });\n  }\n}\n"),e.k0s()(),e.j41(157,"pre")(158,"code",22),e.EFF(159,"\nimport { Module, RequestMethod } from '@nestjs/common';\nimport { LoggerMiddleware } from './common/middleware/logger.middleware';\nimport { CatsModule } from './cats/cats.module';\n\n@Module({\n  imports: [CatsModule],\n})\nexport class AppModule {\n  configure(consumer) {\n    consumer\n      .apply(LoggerMiddleware)\n      .forRoutes({ path: 'cats', method: RequestMethod.GET });\n  }\n}\n"),e.k0s()()(),e.j41(160,"blockquote",25)(161,"strong"),e.EFF(162,"Hint"),e.k0s(),e.EFF(163," The "),e.j41(164,"code"),e.EFF(165,"configure()"),e.k0s(),e.EFF(166," method can be made asynchronous using "),e.j41(167,"code"),e.EFF(168,"async/await"),e.k0s(),e.EFF(169," (e.g., you can "),e.j41(170,"code"),e.EFF(171,"await"),e.k0s(),e.EFF(172," completion of an asynchronous operation inside the "),e.j41(173,"code"),e.EFF(174,"configure()"),e.k0s(),e.EFF(175," method body).\n"),e.k0s(),e.j41(176,"blockquote",18)(177,"strong"),e.EFF(178,"Warning"),e.k0s(),e.EFF(179," When using the "),e.j41(180,"code"),e.EFF(181,"express"),e.k0s(),e.EFF(182," adapter, the NestJS app will register "),e.j41(183,"code"),e.EFF(184,"json"),e.k0s(),e.EFF(185," and "),e.j41(186,"code"),e.EFF(187,"urlencoded"),e.k0s(),e.EFF(188," from the package "),e.j41(189,"code"),e.EFF(190,"body-parser"),e.k0s(),e.EFF(191," by default. This means if you want to customize that middleware via the "),e.j41(192,"code"),e.EFF(193,"MiddlewareConsumer"),e.k0s(),e.EFF(194,", you need to turn off the global middleware by setting the "),e.j41(195,"code"),e.EFF(196,"bodyParser"),e.k0s(),e.EFF(197," flag to "),e.j41(198,"code"),e.EFF(199,"false"),e.k0s(),e.EFF(200," when creating the application with "),e.j41(201,"code"),e.EFF(202,"NestFactory.create()"),e.k0s(),e.EFF(203,".\n"),e.k0s(),e.j41(204,"h4",26)(205,"span"),e.EFF(206,"Route wildcards"),e.k0s()(),e.j41(207,"p"),e.EFF(208,"Pattern based routes are supported as well. For instance, the asterisk is used as a "),e.j41(209,"strong"),e.EFF(210,"wildcard"),e.k0s(),e.EFF(211,", and will match any combination of characters:"),e.k0s(),e.j41(212,"app-copy-button")(213,"pre")(214,"code",22),e.EFF(215,"\nforRoutes({\n  path: 'ab*cd',\n  method: RequestMethod.ALL,\n});\n"),e.k0s()()(),e.j41(216,"p"),e.EFF(217,"The "),e.j41(218,"code"),e.EFF(219,"'ab*cd'"),e.k0s(),e.EFF(220," route path will match "),e.j41(221,"code"),e.EFF(222,"abcd"),e.k0s(),e.EFF(223,", "),e.j41(224,"code"),e.EFF(225,"ab_cd"),e.k0s(),e.EFF(226,", "),e.j41(227,"code"),e.EFF(228,"abecd"),e.k0s(),e.EFF(229,", and so on. The characters "),e.j41(230,"code"),e.EFF(231,"?"),e.k0s(),e.EFF(232,", "),e.j41(233,"code"),e.EFF(234,"+"),e.k0s(),e.EFF(235,", "),e.j41(236,"code"),e.EFF(237,"*"),e.k0s(),e.EFF(238,", and "),e.j41(239,"code"),e.EFF(240,"()"),e.k0s(),e.EFF(241," may be used in a route path, and are subsets of their regular expression counterparts. The hyphen ( "),e.j41(242,"code"),e.EFF(243,"-"),e.k0s(),e.EFF(244,") and the dot ("),e.j41(245,"code"),e.EFF(246,"."),e.k0s(),e.EFF(247,") are interpreted literally by string-based paths."),e.k0s(),e.j41(248,"blockquote",18)(249,"strong"),e.EFF(250,"Warning"),e.k0s(),e.EFF(251," The "),e.j41(252,"code"),e.EFF(253,"fastify"),e.k0s(),e.EFF(254," package uses the latest version of the "),e.j41(255,"code"),e.EFF(256,"path-to-regexp"),e.k0s(),e.EFF(257," package, which no longer supports wildcard asterisks "),e.j41(258,"code"),e.EFF(259,"*"),e.k0s(),e.EFF(260,". Instead, you must use parameters (e.g., "),e.j41(261,"code"),e.EFF(262,"(.*)"),e.k0s(),e.EFF(263,", "),e.j41(264,"code"),e.EFF(265,":splat*"),e.k0s(),e.EFF(266,").\n"),e.k0s(),e.j41(267,"h4",27)(268,"span"),e.EFF(269,"Middleware consumer"),e.k0s()(),e.j41(270,"p"),e.EFF(271,"The "),e.j41(272,"code"),e.EFF(273,"MiddlewareConsumer"),e.k0s(),e.EFF(274," is a helper class. It provides several built-in methods to manage middleware. All of them can be simply "),e.j41(275,"strong"),e.EFF(276,"chained"),e.k0s(),e.EFF(277," in the "),e.j41(278,"a",28),e.EFF(279,"fluent style"),e.k0s(),e.EFF(280,". The "),e.j41(281,"code"),e.EFF(282,"forRoutes()"),e.k0s(),e.EFF(283," method can take a single string, multiple strings, a "),e.j41(284,"code"),e.EFF(285,"RouteInfo"),e.k0s(),e.EFF(286," object, a controller class and even multiple controller classes. In most cases you'll probably just pass a list of "),e.j41(287,"strong"),e.EFF(288,"controllers"),e.k0s(),e.EFF(289," separated by commas. Below is an example with a single controller:"),e.k0s(),e.j41(290,"app-copy-button",20)(291,"span",21),e.EFF(292),e.nI1(293,"extension"),e.nrm(294,"app-tabs",null,4),e.k0s(),e.j41(296,"pre")(297,"code",22),e.EFF(298,"\nimport { Module, NestModule, MiddlewareConsumer } from '@nestjs/common';\nimport { LoggerMiddleware } from './common/middleware/logger.middleware';\nimport { CatsModule } from './cats/cats.module';\nimport { CatsController } from './cats/cats.controller';\n\n@Module({\n  imports: [CatsModule],\n})\nexport class AppModule implements NestModule {\n  configure(consumer: MiddlewareConsumer) {\n    consumer\n      .apply(LoggerMiddleware)\n      .forRoutes(CatsController);\n  }\n}\n"),e.k0s()(),e.j41(299,"pre")(300,"code",22),e.EFF(301,"\nimport { Module } from '@nestjs/common';\nimport { LoggerMiddleware } from './common/middleware/logger.middleware';\nimport { CatsModule } from './cats/cats.module';\nimport { CatsController } from './cats/cats.controller';\n\n@Module({\n  imports: [CatsModule],\n})\nexport class AppModule {\n  configure(consumer) {\n    consumer\n      .apply(LoggerMiddleware)\n      .forRoutes(CatsController);\n  }\n}\n"),e.k0s()()(),e.j41(302,"blockquote",25)(303,"strong"),e.EFF(304,"Hint"),e.k0s(),e.EFF(305," The "),e.j41(306,"code"),e.EFF(307,"apply()"),e.k0s(),e.EFF(308," method may either take a single middleware, or multiple arguments to specify "),e.j41(309,"a",29),e.EFF(310,"multiple middlewares"),e.k0s(),e.EFF(311,".\n"),e.k0s(),e.j41(312,"h4",30)(313,"span"),e.EFF(314,"Excluding routes"),e.k0s()(),e.j41(315,"p"),e.EFF(316,"At times we want to "),e.j41(317,"strong"),e.EFF(318,"exclude"),e.k0s(),e.EFF(319," certain routes from having the middleware applied. We can easily exclude certain routes with the "),e.j41(320,"code"),e.EFF(321,"exclude()"),e.k0s(),e.EFF(322," method. This method can take a single string, multiple strings, or a "),e.j41(323,"code"),e.EFF(324,"RouteInfo"),e.k0s(),e.EFF(325," object identifying routes to be excluded, as shown below:"),e.k0s(),e.j41(326,"app-copy-button")(327,"pre")(328,"code",22),e.EFF(329,"\nconsumer\n  .apply(LoggerMiddleware)\n  .exclude(\n    { path: 'cats', method: RequestMethod.GET },\n    { path: 'cats', method: RequestMethod.POST },\n    'cats/(.*)',\n  )\n  .forRoutes(CatsController);\n"),e.k0s()()(),e.j41(330,"blockquote",25)(331,"strong"),e.EFF(332,"Hint"),e.k0s(),e.EFF(333," The "),e.j41(334,"code"),e.EFF(335,"exclude()"),e.k0s(),e.EFF(336," method supports wildcard parameters using the "),e.j41(337,"a",31),e.EFF(338,"path-to-regexp"),e.k0s(),e.EFF(339," package.\n"),e.k0s(),e.j41(340,"p"),e.EFF(341,"With the example above, "),e.j41(342,"code"),e.EFF(343,"LoggerMiddleware"),e.k0s(),e.EFF(344," will be bound to all routes defined inside "),e.j41(345,"code"),e.EFF(346,"CatsController"),e.k0s(),e.j41(347,"strong"),e.EFF(348,"except"),e.k0s(),e.EFF(349," the three passed to the "),e.j41(350,"code"),e.EFF(351,"exclude()"),e.k0s(),e.EFF(352," method."),e.k0s(),e.j41(353,"h4",32)(354,"span"),e.EFF(355,"Functional middleware"),e.k0s()(),e.j41(356,"p"),e.EFF(357,"The "),e.j41(358,"code"),e.EFF(359,"LoggerMiddleware"),e.k0s(),e.EFF(360," class we've been using is quite simple. It has no members, no additional methods, and no dependencies. Why can't we just define it in a simple function instead of a class? In fact, we can. This type of middleware is called "),e.j41(361,"strong"),e.EFF(362,"functional middleware"),e.k0s(),e.EFF(363,". Let's transform the logger middleware from class-based into functional middleware to illustrate the difference:"),e.k0s(),e.j41(364,"app-copy-button",20)(365,"span",21),e.EFF(366),e.nI1(367,"extension"),e.nrm(368,"app-tabs",null,5),e.k0s(),e.j41(370,"pre")(371,"code",22),e.EFF(372,"\nimport { Request, Response, NextFunction } from 'express';\n\nexport function logger(req: Request, res: Response, next: NextFunction) {\n  console.log(`Request...`);\n  next();\n};\n"),e.k0s()(),e.j41(373,"pre")(374,"code",22),e.EFF(375,"\nexport function logger(req, res, next) {\n  console.log(`Request...`);\n  next();\n};\n"),e.k0s()()(),e.j41(376,"p"),e.EFF(377,"And use it within the "),e.j41(378,"code"),e.EFF(379,"AppModule"),e.k0s(),e.EFF(380,":"),e.k0s(),e.j41(381,"app-copy-button",20)(382,"span",21),e.EFF(383),e.nI1(384,"extension"),e.nrm(385,"app-tabs",null,6),e.k0s(),e.j41(387,"pre")(388,"code",22),e.EFF(389,"\nconsumer\n  .apply(logger)\n  .forRoutes(CatsController);\n"),e.k0s()()(),e.j41(390,"blockquote",25)(391,"strong"),e.EFF(392,"Hint"),e.k0s(),e.EFF(393," Consider using the simpler "),e.j41(394,"strong"),e.EFF(395,"functional middleware"),e.k0s(),e.EFF(396," alternative any time your middleware doesn't need any dependencies.\n"),e.k0s(),e.j41(397,"h4",33)(398,"span"),e.EFF(399,"Multiple middleware"),e.k0s()(),e.j41(400,"p"),e.EFF(401,"As mentioned above, in order to bind multiple middleware that are executed sequentially, simply provide a comma separated list inside the "),e.j41(402,"code"),e.EFF(403,"apply()"),e.k0s(),e.EFF(404," method:"),e.k0s(),e.j41(405,"app-copy-button")(406,"pre")(407,"code",22),e.EFF(408,"\nconsumer.apply(cors(), helmet(), logger).forRoutes(CatsController);\n"),e.k0s()()(),e.j41(409,"h4",34)(410,"span"),e.EFF(411,"Global middleware"),e.k0s()(),e.j41(412,"p"),e.EFF(413,"If we want to bind middleware to every registered route at once, we can use the "),e.j41(414,"code"),e.EFF(415,"use()"),e.k0s(),e.EFF(416," method that is supplied by the "),e.j41(417,"code"),e.EFF(418,"INestApplication"),e.k0s(),e.EFF(419," instance:"),e.k0s(),e.j41(420,"app-copy-button",20)(421,"span",21),e.EFF(422),e.nI1(423,"extension"),e.nrm(424,"app-tabs",null,7),e.k0s(),e.j41(426,"pre")(427,"code",22),e.EFF(428,"\nconst app = await NestFactory.create(AppModule);\napp.use(logger);\nawait app.listen(process.env.PORT ?? 3000);\n"),e.k0s()()(),e.j41(429,"blockquote",25)(430,"strong"),e.EFF(431,"Hint"),e.k0s(),e.EFF(432," Accessing the DI container in a global middleware is not possible. You can use a "),e.j41(433,"a",35),e.EFF(434,"functional middleware"),e.k0s(),e.EFF(435," instead when using "),e.j41(436,"code"),e.EFF(437,"app.use()"),e.k0s(),e.EFF(438,". Alternatively, you can use a class middleware and consume it with "),e.j41(439,"code"),e.EFF(440,".forRoutes('*')"),e.k0s(),e.EFF(441," within the "),e.j41(442,"code"),e.EFF(443,"AppModule"),e.k0s(),e.EFF(444," (or any other module).\n"),e.k0s()()),2&c){const b=e.sdS(75),M=e.sdS(118),u=e.sdS(153),m=e.sdS(295),p=e.sdS(369),F=e.sdS(386),_=e.sdS(425);e.R7$(72),e.SpI(" ",e.i5U(73,27,"logger.middleware",b.isJsActive),"\n"),e.R7$(4),e.AVh("hide",b.isJsActive),e.R7$(3),e.AVh("hide",!b.isJsActive),e.R7$(36),e.SpI(" ",e.i5U(116,30,"app.module",M.isJsActive),"\n"),e.R7$(4),e.AVh("hide",M.isJsActive),e.R7$(3),e.AVh("hide",!M.isJsActive),e.R7$(28),e.SpI(" ",e.i5U(151,33,"app.module",u.isJsActive),"\n"),e.R7$(4),e.AVh("hide",u.isJsActive),e.R7$(3),e.AVh("hide",!u.isJsActive),e.R7$(135),e.SpI(" ",e.i5U(293,36,"app.module",m.isJsActive),"\n"),e.R7$(4),e.AVh("hide",m.isJsActive),e.R7$(3),e.AVh("hide",!m.isJsActive),e.R7$(67),e.SpI(" ",e.i5U(367,39,"logger.middleware",p.isJsActive),"\n"),e.R7$(4),e.AVh("hide",p.isJsActive),e.R7$(3),e.AVh("hide",!p.isJsActive),e.R7$(10),e.SpI(" ",e.i5U(384,42,"app.module",F.isJsActive),"\n"),e.R7$(39),e.SpI(" ",e.i5U(423,45,"main",_.isJsActive),"\n")}},dependencies:[Wn.O,Ln.a,Qn.z,Zn.M],encapsulation:2})}return v})(),data:{title:"Middleware"}},{path:"pipes",component:(()=>{class v extends Xe.y{static \u0275fac=(()=>{let a;return function(h){return(a||(a=e.xGo(v)))(h||v)}})();static \u0275cmp=e.VBU({type:v,selectors:[["app-pipes"]],features:[e.Vt3],decls:850,vars:68,consts:[["contentReference",""],["app0db16bf3659a72720b81f905112d27a2ed709fb3",""],["appda68b689473f6520c96abb00bec26051bea9e846",""],["appa629dda706aa0859cf40e76b7c89f11771463ce4",""],["app6b54b60c366cf5c826bc55d16795976689cbbc89",""],["app136efe3ca32d0334d109b71ba525909cb6f0f032",""],["app5e02ad5cd118678fede5bed95255460522a0c526",""],["app1c81095ac8a928eaef5539c774368dc375774fcb",""],["app18a5a40d41d37195b061173b832eccc1fba145cf",""],["appa244ea4f051f395e04d151f540b0edbbd3053dad",""],["app3e2586e8621b7dcfe51e5c960bc83b1d2a96f579",""],["app1494140c3cd73e86df012cae43c8897e08fcd98c",""],["app48a46f1db1f4cf1d52920717713386279b5117c7",""],["app61996d96d4b23715acc0bedd03c2351d7179a4a0",""],["app7efe3ae8d7357e3334cd389314ad06ba4f529b27",""],["appdb540165605111f7a73d0790bde84d42403f6190",""],[1,"content"],[1,"github-links"],["href","https://github.com/nestjs/docs.nestjs.com/edit/master/content/pipes.md","aria-label","Suggest Edits","title","Suggest Edits"],[1,"fas","fa-edit"],["id","pipes"],["src","/assets/Pipe_1.png",1,"illustrative-image"],["href","controllers#route-parameters"],[1,"info"],["routerLink","/exception-filters"],["appAnchor","","id","built-in-pipes"],["appAnchor","","id","binding-pipes"],[1,"language-typescript"],[1,"language-bash"],[1,"language-json"],[1,"with-heading"],[1,"filename"],["routerLink","/techniques/validation"],["appAnchor","","id","custom-pipes"],["routerLink","/custom-decorators"],[1,"warning"],["appAnchor","","id","schema-based-validation"],["appAnchor","","id","object-schema-validation"],["rel","nofollow","target","_blank","href","https://en.wikipedia.org/wiki/Don%27t_repeat_yourself"],["rel","nofollow","target","_blank","href","https://zod.dev/"],["appAnchor","","id","binding-validation-pipes"],["appAnchor","","id","class-validator"],["rel","nofollow","target","_blank","href","https://github.com/typestack/class-validator"],["rel","nofollow","target","_blank","href","https://github.com/typestack/class-validator#usage"],["rel","nofollow","target","_blank","href","https://github.com/typestack/class-transformer"],["rel","nofollow","target","_blank","href","https://github.com/typestack/class-validator#custom-validation-classes"],["appAnchor","","id","global-scoped-pipes"],["href","faq/hybrid-application"],["routerLink","/fundamentals/custom-providers"],["appAnchor","","id","the-built-in-validationpipe"],["appAnchor","","id","transformation-use-case"],["appAnchor","","id","providing-defaults"]],template:function(c,h){if(1&c&&(e.j41(0,"div",16,0)(2,"div",17)(3,"a",18),e.nrm(4,"i",19),e.k0s()(),e.j41(5,"h3",20),e.EFF(6,"Pipes"),e.k0s(),e.j41(7,"p"),e.EFF(8,"A pipe is a class annotated with the "),e.j41(9,"code"),e.EFF(10,"@Injectable()"),e.k0s(),e.EFF(11," decorator, which implements the "),e.j41(12,"code"),e.EFF(13,"PipeTransform"),e.k0s(),e.EFF(14," interface."),e.k0s(),e.j41(15,"figure"),e.nrm(16,"img",21),e.k0s(),e.j41(17,"p"),e.EFF(18,"Pipes have two typical use cases:"),e.k0s(),e.j41(19,"ul")(20,"li")(21,"strong"),e.EFF(22,"transformation"),e.k0s(),e.EFF(23,": transform input data to the desired form (e.g., from string to integer)"),e.k0s(),e.j41(24,"li")(25,"strong"),e.EFF(26,"validation"),e.k0s(),e.EFF(27,": evaluate input data and if valid, simply pass it through unchanged; otherwise, throw an exception"),e.k0s()(),e.j41(28,"p"),e.EFF(29,"In both cases, pipes operate on the "),e.j41(30,"code"),e.EFF(31,"arguments"),e.k0s(),e.EFF(32," being processed by a "),e.j41(33,"a",22),e.EFF(34,"controller route handler"),e.k0s(),e.EFF(35,". Nest interposes a pipe just before a method is invoked, and the pipe receives the arguments destined for the method and operates on them. Any transformation or validation operation takes place at that time, after which the route handler is invoked with any (potentially) transformed arguments."),e.k0s(),e.j41(36,"p"),e.EFF(37,"Nest comes with a number of built-in pipes that you can use out-of-the-box. You can also build your own custom pipes. In this chapter, we'll introduce the built-in pipes and show how to bind them to route handlers. We'll then examine several custom-built pipes to show how you can build one from scratch."),e.k0s(),e.j41(38,"blockquote",23)(39,"strong"),e.EFF(40,"Hint"),e.k0s(),e.EFF(41," Pipes run inside the exceptions zone. This means that when a Pipe throws an exception it is handled by the exceptions layer (global exceptions filter and any "),e.j41(42,"a",24),e.EFF(43,"exceptions filters"),e.k0s(),e.EFF(44," that are applied to the current context). Given the above, it should be clear that when an exception is thrown in a Pipe, no controller method is subsequently executed. This gives you a best-practice technique for validating data coming into the application from external sources at the system boundary.\n"),e.k0s(),e.j41(45,"h4",25)(46,"span"),e.EFF(47,"Built-in pipes"),e.k0s()(),e.j41(48,"p"),e.EFF(49,"Nest comes with nine pipes available out-of-the-box:"),e.k0s(),e.j41(50,"ul")(51,"li")(52,"code"),e.EFF(53,"ValidationPipe"),e.k0s()(),e.j41(54,"li")(55,"code"),e.EFF(56,"ParseIntPipe"),e.k0s()(),e.j41(57,"li")(58,"code"),e.EFF(59,"ParseFloatPipe"),e.k0s()(),e.j41(60,"li")(61,"code"),e.EFF(62,"ParseBoolPipe"),e.k0s()(),e.j41(63,"li")(64,"code"),e.EFF(65,"ParseArrayPipe"),e.k0s()(),e.j41(66,"li")(67,"code"),e.EFF(68,"ParseUUIDPipe"),e.k0s()(),e.j41(69,"li")(70,"code"),e.EFF(71,"ParseEnumPipe"),e.k0s()(),e.j41(72,"li")(73,"code"),e.EFF(74,"DefaultValuePipe"),e.k0s()(),e.j41(75,"li")(76,"code"),e.EFF(77,"ParseFilePipe"),e.k0s()()(),e.j41(78,"p"),e.EFF(79,"They're exported from the "),e.j41(80,"code"),e.EFF(81,"@nestjs/common"),e.k0s(),e.EFF(82," package."),e.k0s(),e.j41(83,"p"),e.EFF(84,"Let's take a quick look at using "),e.j41(85,"code"),e.EFF(86,"ParseIntPipe"),e.k0s(),e.EFF(87,". This is an example of the "),e.j41(88,"strong"),e.EFF(89,"transformation"),e.k0s(),e.EFF(90," use case, where the pipe ensures that a method handler parameter is converted to a JavaScript integer (or throws an exception if the conversion fails). Later in this chapter, we'll show a simple custom implementation for a "),e.j41(91,"code"),e.EFF(92,"ParseIntPipe"),e.k0s(),e.EFF(93,". The example techniques below also apply to the other built-in transformation pipes ("),e.j41(94,"code"),e.EFF(95,"ParseBoolPipe"),e.k0s(),e.EFF(96,", "),e.j41(97,"code"),e.EFF(98,"ParseFloatPipe"),e.k0s(),e.EFF(99,", "),e.j41(100,"code"),e.EFF(101,"ParseEnumPipe"),e.k0s(),e.EFF(102,", "),e.j41(103,"code"),e.EFF(104,"ParseArrayPipe"),e.k0s(),e.EFF(105," and "),e.j41(106,"code"),e.EFF(107,"ParseUUIDPipe"),e.k0s(),e.EFF(108,", which we'll refer to as the "),e.j41(109,"code"),e.EFF(110,"Parse*"),e.k0s(),e.EFF(111," pipes in this chapter)."),e.k0s(),e.j41(112,"h4",26)(113,"span"),e.EFF(114,"Binding pipes"),e.k0s()(),e.j41(115,"p"),e.EFF(116,"To use a pipe, we need to bind an instance of the pipe class to the appropriate context. In our "),e.j41(117,"code"),e.EFF(118,"ParseIntPipe"),e.k0s(),e.EFF(119," example, we want to associate the pipe with a particular route handler method, and make sure it runs before the method is called. We do so with the following construct, which we'll refer to as binding the pipe at the method parameter level:"),e.k0s(),e.j41(120,"app-copy-button")(121,"pre")(122,"code",27),e.EFF(123,"\n@Get(':id')\nasync findOne(@Param('id', ParseIntPipe) id: number) {\n  return this.catsService.findOne(id);\n}\n"),e.k0s()()(),e.j41(124,"p"),e.EFF(125,"This ensures that one of the following two conditions is true: either the parameter we receive in the "),e.j41(126,"code"),e.EFF(127,"findOne()"),e.k0s(),e.EFF(128," method is a number (as expected in our call to "),e.j41(129,"code"),e.EFF(130,"this.catsService.findOne()"),e.k0s(),e.EFF(131,"), or an exception is thrown before the route handler is called."),e.k0s(),e.j41(132,"p"),e.EFF(133,"For example, assume the route is called like:"),e.k0s(),e.j41(134,"pre")(135,"code",28),e.EFF(136,"\nGET localhost:3000/abc\n"),e.k0s()(),e.j41(137,"p"),e.EFF(138,"Nest will throw an exception like this:"),e.k0s(),e.j41(139,"pre")(140,"code",29),e.EFF(141,'\n{\n  "statusCode": 400,\n  "message": "Validation failed (numeric string is expected)",\n  "error": "Bad Request"\n}\n'),e.k0s()(),e.j41(142,"p"),e.EFF(143,"The exception will prevent the body of the "),e.j41(144,"code"),e.EFF(145,"findOne()"),e.k0s(),e.EFF(146," method from executing."),e.k0s(),e.j41(147,"p"),e.EFF(148,"In the example above, we pass a class ("),e.j41(149,"code"),e.EFF(150,"ParseIntPipe"),e.k0s(),e.EFF(151,"), not an instance, leaving responsibility for instantiation to the framework and enabling dependency injection. As with pipes and guards, we can instead pass an in-place instance. Passing an in-place instance is useful if we want to customize the built-in pipe's behavior by passing options:"),e.k0s(),e.j41(152,"app-copy-button")(153,"pre")(154,"code",27),e.EFF(155,"\n@Get(':id')\nasync findOne(\n  @Param('id', new ParseIntPipe({ errorHttpStatusCode: HttpStatus.NOT_ACCEPTABLE }))\n  id: number,\n) {\n  return this.catsService.findOne(id);\n}\n"),e.k0s()()(),e.j41(156,"p"),e.EFF(157,"Binding the other transformation pipes (all of the "),e.j41(158,"strong"),e.EFF(159,"Parse*"),e.k0s(),e.EFF(160," pipes) works similarly. These pipes all work in the context of validating route parameters, query string parameters and request body values."),e.k0s(),e.j41(161,"p"),e.EFF(162,"For example with a query string parameter:"),e.k0s(),e.j41(163,"app-copy-button")(164,"pre")(165,"code",27),e.EFF(166,"\n@Get()\nasync findOne(@Query('id', ParseIntPipe) id: number) {\n  return this.catsService.findOne(id);\n}\n"),e.k0s()()(),e.j41(167,"p"),e.EFF(168,"Here's an example of using the "),e.j41(169,"code"),e.EFF(170,"ParseUUIDPipe"),e.k0s(),e.EFF(171," to parse a string parameter and validate if it is a UUID."),e.k0s(),e.j41(172,"app-copy-button",30)(173,"span",31),e.nrm(174,"app-tabs",null,1),e.k0s(),e.j41(176,"pre")(177,"code",27),e.EFF(178,"\n@Get(':uuid')\nasync findOne(@Param('uuid', new ParseUUIDPipe()) uuid: string) {\n  return this.catsService.findOne(uuid);\n}\n"),e.k0s()(),e.j41(179,"pre")(180,"code",27),e.EFF(181,"\n@Get(':uuid')\n@Bind(Param('uuid', new ParseUUIDPipe()))\nasync findOne(uuid) {\n  return this.catsService.findOne(uuid);\n}\n"),e.k0s()()(),e.j41(182,"blockquote",23)(183,"strong"),e.EFF(184,"Hint"),e.k0s(),e.EFF(185," When using "),e.j41(186,"code"),e.EFF(187,"ParseUUIDPipe()"),e.k0s(),e.EFF(188," you are parsing UUID in version 3, 4 or 5, if you only require a specific version of UUID you can pass a version in the pipe options.\n"),e.k0s(),e.j41(189,"p"),e.EFF(190,"Above we've seen examples of binding the various "),e.j41(191,"code"),e.EFF(192,"Parse*"),e.k0s(),e.EFF(193," family of built-in pipes. Binding validation pipes is a little bit different; we'll discuss that in the following section."),e.k0s(),e.j41(194,"blockquote",23)(195,"strong"),e.EFF(196,"Hint"),e.k0s(),e.EFF(197," Also, see "),e.j41(198,"a",32),e.EFF(199,"Validation techniques"),e.k0s(),e.EFF(200," for extensive examples of validation pipes.\n"),e.k0s(),e.j41(201,"h4",33)(202,"span"),e.EFF(203,"Custom pipes"),e.k0s()(),e.j41(204,"p"),e.EFF(205,"As mentioned, you can build your own custom pipes. While Nest provides a robust built-in "),e.j41(206,"code"),e.EFF(207,"ParseIntPipe"),e.k0s(),e.EFF(208," and "),e.j41(209,"code"),e.EFF(210,"ValidationPipe"),e.k0s(),e.EFF(211,", let's build simple custom versions of each from scratch to see how custom pipes are constructed."),e.k0s(),e.j41(212,"p"),e.EFF(213,"We start with a simple "),e.j41(214,"code"),e.EFF(215,"ValidationPipe"),e.k0s(),e.EFF(216,". Initially, we'll have it simply take an input value and immediately return the same value, behaving like an identity function."),e.k0s(),e.j41(217,"app-copy-button",30)(218,"span",31),e.EFF(219),e.nI1(220,"extension"),e.nrm(221,"app-tabs",null,2),e.k0s(),e.j41(223,"pre")(224,"code",27),e.EFF(225,"\nimport { PipeTransform, Injectable, ArgumentMetadata } from '@nestjs/common';\n\n@Injectable()\nexport class ValidationPipe implements PipeTransform {\n  transform(value: any, metadata: ArgumentMetadata) {\n    return value;\n  }\n}\n"),e.k0s()(),e.j41(226,"pre")(227,"code",27),e.EFF(228,"\nimport { Injectable } from '@nestjs/common';\n\n@Injectable()\nexport class ValidationPipe {\n  transform(value, metadata) {\n    return value;\n  }\n}\n"),e.k0s()()(),e.j41(229,"blockquote",23)(230,"strong"),e.EFF(231,"Hint"),e.k0s(),e.j41(232,"code"),e.EFF(233,"PipeTransform<T, R>"),e.k0s(),e.EFF(234," is a generic interface that must be implemented by any pipe. The generic interface uses "),e.j41(235,"code"),e.EFF(236,"T"),e.k0s(),e.EFF(237," to indicate the type of the input "),e.j41(238,"code"),e.EFF(239,"value"),e.k0s(),e.EFF(240,", and "),e.j41(241,"code"),e.EFF(242,"R"),e.k0s(),e.EFF(243," to indicate the return type of the "),e.j41(244,"code"),e.EFF(245,"transform()"),e.k0s(),e.EFF(246," method.\n"),e.k0s(),e.j41(247,"p"),e.EFF(248,"Every pipe must implement the "),e.j41(249,"code"),e.EFF(250,"transform()"),e.k0s(),e.EFF(251," method to fulfill the "),e.j41(252,"code"),e.EFF(253,"PipeTransform"),e.k0s(),e.EFF(254," interface contract. This method has two parameters:"),e.k0s(),e.j41(255,"ul")(256,"li")(257,"code"),e.EFF(258,"value"),e.k0s()(),e.j41(259,"li")(260,"code"),e.EFF(261,"metadata"),e.k0s()()(),e.j41(262,"p"),e.EFF(263,"The "),e.j41(264,"code"),e.EFF(265,"value"),e.k0s(),e.EFF(266," parameter is the currently processed method argument (before it is received by the route handling method), and "),e.j41(267,"code"),e.EFF(268,"metadata"),e.k0s(),e.EFF(269," is the currently processed method argument's metadata. The metadata object has these properties:"),e.k0s(),e.j41(270,"app-copy-button")(271,"pre")(272,"code",27),e.EFF(273,"\nexport interface ArgumentMetadata {\n  type: 'body' | 'query' | 'param' | 'custom';\n  metatype?: Type<unknown>;\n  data?: string;\n}\n"),e.k0s()()(),e.j41(274,"p"),e.EFF(275,"These properties describe the currently processed argument."),e.k0s(),e.j41(276,"table")(277,"tr")(278,"td")(279,"code"),e.EFF(280,"type"),e.k0s()(),e.j41(281,"td"),e.EFF(282,"Indicates whether the argument is a body "),e.j41(283,"code"),e.EFF(284,"@Body()"),e.k0s(),e.EFF(285,", query "),e.j41(286,"code"),e.EFF(287,"@Query()"),e.k0s(),e.EFF(288,", param "),e.j41(289,"code"),e.EFF(290,"@Param()"),e.k0s(),e.EFF(291,", or a custom parameter (read more "),e.j41(292,"a",34),e.EFF(293,"here"),e.k0s(),e.EFF(294,")."),e.k0s()(),e.j41(295,"tr")(296,"td")(297,"code"),e.EFF(298,"metatype"),e.k0s()(),e.j41(299,"td"),e.EFF(300," Provides the metatype of the argument, for example, "),e.j41(301,"code"),e.EFF(302,"String"),e.k0s(),e.EFF(303,". Note: the value is "),e.j41(304,"code"),e.EFF(305,"undefined"),e.k0s(),e.EFF(306," if you either omit a type declaration in the route handler method signature, or use vanilla JavaScript. "),e.k0s()(),e.j41(307,"tr")(308,"td")(309,"code"),e.EFF(310,"data"),e.k0s()(),e.j41(311,"td"),e.EFF(312,"The string passed to the decorator, for example "),e.j41(313,"code"),e.EFF(314,"@Body('string')"),e.k0s(),e.EFF(315,". It's "),e.j41(316,"code"),e.EFF(317,"undefined"),e.k0s(),e.EFF(318," if you leave the decorator parenthesis empty."),e.k0s()()(),e.j41(319,"blockquote",35)(320,"strong"),e.EFF(321,"Warning"),e.k0s(),e.EFF(322," TypeScript interfaces disappear during transpilation. Thus, if a method parameter's type is declared as an interface instead of a class, the "),e.j41(323,"code"),e.EFF(324,"metatype"),e.k0s(),e.EFF(325," value will be "),e.j41(326,"code"),e.EFF(327,"Object"),e.k0s(),e.EFF(328,".\n"),e.k0s(),e.j41(329,"h4",36)(330,"span"),e.EFF(331,"Schema based validation"),e.k0s()(),e.j41(332,"p"),e.EFF(333,"Let's make our validation pipe a little more useful. Take a closer look at the "),e.j41(334,"code"),e.EFF(335,"create()"),e.k0s(),e.EFF(336," method of the "),e.j41(337,"code"),e.EFF(338,"CatsController"),e.k0s(),e.EFF(339,", where we probably would like to ensure that the post body object is valid before attempting to run our service method."),e.k0s(),e.j41(340,"app-copy-button",30)(341,"span",31),e.nrm(342,"app-tabs",null,3),e.k0s(),e.j41(344,"pre")(345,"code",27),e.EFF(346,"\n@Post()\nasync create(@Body() createCatDto: CreateCatDto) {\n  this.catsService.create(createCatDto);\n}\n"),e.k0s()(),e.j41(347,"pre")(348,"code",27),e.EFF(349,"\n@Post()\nasync create(@Body() createCatDto) {\n  this.catsService.create(createCatDto);\n}\n"),e.k0s()()(),e.j41(350,"p"),e.EFF(351,"Let's focus in on the "),e.j41(352,"code"),e.EFF(353,"createCatDto"),e.k0s(),e.EFF(354," body parameter. Its type is "),e.j41(355,"code"),e.EFF(356,"CreateCatDto"),e.k0s(),e.EFF(357,":"),e.k0s(),e.j41(358,"app-copy-button",30)(359,"span",31),e.EFF(360),e.nI1(361,"extension"),e.nrm(362,"app-tabs",null,4),e.k0s(),e.j41(364,"pre")(365,"code",27),e.EFF(366,"\nexport class CreateCatDto {\n  name: string;\n  age: number;\n  breed: string;\n}\n"),e.k0s()()(),e.j41(367,"p"),e.EFF(368,"We want to ensure that any incoming request to the create method contains a valid body. So we have to validate the three members of the "),e.j41(369,"code"),e.EFF(370,"createCatDto"),e.k0s(),e.EFF(371," object. We could do this inside the route handler method, but doing so is not ideal as it would break the "),e.j41(372,"strong"),e.EFF(373,"single responsibility principle"),e.k0s(),e.EFF(374," (SRP)."),e.k0s(),e.j41(375,"p"),e.EFF(376,"Another approach could be to create a "),e.j41(377,"strong"),e.EFF(378,"validator class"),e.k0s(),e.EFF(379," and delegate the task there. This has the disadvantage that we would have to remember to call this validator at the beginning of each method."),e.k0s(),e.j41(380,"p"),e.EFF(381,"How about creating validation middleware? This could work, but unfortunately, it's not possible to create "),e.j41(382,"strong"),e.EFF(383,"generic middleware"),e.k0s(),e.EFF(384," which can be used across all contexts across the whole application. This is because middleware is unaware of the "),e.j41(385,"strong"),e.EFF(386,"execution context"),e.k0s(),e.EFF(387,", including the handler that will be called and any of its parameters."),e.k0s(),e.j41(388,"p"),e.EFF(389,"This is, of course, exactly the use case for which pipes are designed. So let's go ahead and refine our validation pipe."),e.k0s(),e.j41(390,"p"),e.nrm(391,"app-banner-courses"),e.k0s(),e.j41(392,"h4",37)(393,"span"),e.EFF(394,"Object schema validation"),e.k0s()(),e.j41(395,"p"),e.EFF(396,"There are several approaches available for doing object validation in a clean, "),e.j41(397,"a",38),e.EFF(398,"DRY"),e.k0s(),e.EFF(399," way. One common approach is to use "),e.j41(400,"strong"),e.EFF(401,"schema-based"),e.k0s(),e.EFF(402," validation. Let's go ahead and try that approach."),e.k0s(),e.j41(403,"p"),e.EFF(404,"The "),e.j41(405,"a",39),e.EFF(406,"Zod"),e.k0s(),e.EFF(407," library allows you to create schemas in a straightforward way, with a readable API. Let's build a validation pipe that makes use of Zod-based schemas."),e.k0s(),e.j41(408,"p"),e.EFF(409,"Start by installing the required package:"),e.k0s(),e.j41(410,"pre")(411,"code",28),e.EFF(412,"\n$ npm install --save zod\n"),e.k0s()(),e.j41(413,"p"),e.EFF(414,"In the code sample below, we create a simple class that takes a schema as a "),e.j41(415,"code"),e.EFF(416,"constructor"),e.k0s(),e.EFF(417," argument. We then apply the "),e.j41(418,"code"),e.EFF(419,"schema.parse()"),e.k0s(),e.EFF(420," method, which validates our incoming argument against the provided schema."),e.k0s(),e.j41(421,"p"),e.EFF(422,"As noted earlier, a "),e.j41(423,"strong"),e.EFF(424,"validation pipe"),e.k0s(),e.EFF(425," either returns the value unchanged or throws an exception."),e.k0s(),e.j41(426,"p"),e.EFF(427,"In the next section, you'll see how we supply the appropriate schema for a given controller method using the "),e.j41(428,"code"),e.EFF(429,"@UsePipes()"),e.k0s(),e.EFF(430," decorator. Doing so makes our validation pipe reusable across contexts, just as we set out to do."),e.k0s(),e.j41(431,"app-copy-button",30)(432,"span",31),e.nrm(433,"app-tabs",null,5),e.k0s(),e.j41(435,"pre")(436,"code",27),e.EFF(437,"\nimport { PipeTransform, ArgumentMetadata, BadRequestException } from '@nestjs/common';\nimport { ZodSchema  } from 'zod';\n\nexport class ZodValidationPipe implements PipeTransform {\n  constructor(private schema: ZodSchema) {}\n\n  transform(value: unknown, metadata: ArgumentMetadata) {\n    try {\n      const parsedValue = this.schema.parse(value);\n      return parsedValue;\n    } catch (error) {\n      throw new BadRequestException('Validation failed');\n    }\n  }\n}\n"),e.k0s()(),e.j41(438,"pre")(439,"code",27),e.EFF(440,"\nimport { BadRequestException } from '@nestjs/common';\n\nexport class ZodValidationPipe {\n  constructor(private schema) {}\n\n  transform(value, metadata) {\n    try {\n      const parsedValue = this.schema.parse(value);\n      return parsedValue;\n    } catch (error) {\n      throw new BadRequestException('Validation failed');\n    }\n  }\n}\n"),e.k0s()()(),e.j41(441,"h4",40)(442,"span"),e.EFF(443,"Binding validation pipes"),e.k0s()(),e.j41(444,"p"),e.EFF(445,"Earlier, we saw how to bind transformation pipes (like "),e.j41(446,"code"),e.EFF(447,"ParseIntPipe"),e.k0s(),e.EFF(448," and the rest of the "),e.j41(449,"code"),e.EFF(450,"Parse*"),e.k0s(),e.EFF(451," pipes)."),e.k0s(),e.j41(452,"p"),e.EFF(453,"Binding validation pipes is also very straightforward."),e.k0s(),e.j41(454,"p"),e.EFF(455,"In this case, we want to bind the pipe at the method call level. In our current example, we need to do the following to use the "),e.j41(456,"code"),e.EFF(457,"ZodValidationPipe"),e.k0s(),e.EFF(458,":"),e.k0s(),e.j41(459,"ol")(460,"li"),e.EFF(461,"Create an instance of the "),e.j41(462,"code"),e.EFF(463,"ZodValidationPipe"),e.k0s()(),e.j41(464,"li"),e.EFF(465,"Pass the context-specific Zod schema in the class constructor of the pipe"),e.k0s(),e.j41(466,"li"),e.EFF(467,"Bind the pipe to the method"),e.k0s()(),e.j41(468,"p"),e.EFF(469,"Zod schema example:"),e.k0s(),e.j41(470,"app-copy-button")(471,"pre")(472,"code",27),e.EFF(473,"\nimport { z } from 'zod';\n\nexport const createCatSchema = z\n  .object({\n    name: z.string(),\n    age: z.number(),\n    breed: z.string(),\n  })\n  .required();\n\nexport type CreateCatDto = z.infer<typeof createCatSchema>;\n"),e.k0s()()(),e.j41(474,"p"),e.EFF(475,"We do that using the "),e.j41(476,"code"),e.EFF(477,"@UsePipes()"),e.k0s(),e.EFF(478," decorator as shown below:"),e.k0s(),e.j41(479,"app-copy-button",30)(480,"span",31),e.EFF(481),e.nI1(482,"extension"),e.nrm(483,"app-tabs",null,6),e.k0s(),e.j41(485,"pre")(486,"code",27),e.EFF(487,"\n@Post()\n@UsePipes(new ZodValidationPipe(createCatSchema))\nasync create(@Body() createCatDto: CreateCatDto) {\n  this.catsService.create(createCatDto);\n}\n"),e.k0s()(),e.j41(488,"pre")(489,"code",27),e.EFF(490,"\n@Post()\n@Bind(Body())\n@UsePipes(new ZodValidationPipe(createCatSchema))\nasync create(createCatDto) {\n  this.catsService.create(createCatDto);\n}\n"),e.k0s()()(),e.j41(491,"blockquote",23)(492,"strong"),e.EFF(493,"Hint"),e.k0s(),e.EFF(494," The "),e.j41(495,"code"),e.EFF(496,"@UsePipes()"),e.k0s(),e.EFF(497," decorator is imported from the "),e.j41(498,"code"),e.EFF(499,"@nestjs/common"),e.k0s(),e.EFF(500," package.\n"),e.k0s(),e.j41(501,"blockquote",35)(502,"strong"),e.EFF(503,"Warning"),e.k0s(),e.j41(504,"code"),e.EFF(505,"zod"),e.k0s(),e.EFF(506," library requires the "),e.j41(507,"code"),e.EFF(508,"strictNullChecks"),e.k0s(),e.EFF(509," configuration to be enabled in your "),e.j41(510,"code"),e.EFF(511,"tsconfig.json"),e.k0s(),e.EFF(512," file.\n"),e.k0s(),e.j41(513,"h4",41)(514,"span"),e.EFF(515,"Class validator"),e.k0s()(),e.j41(516,"blockquote",35)(517,"strong"),e.EFF(518,"Warning"),e.k0s(),e.EFF(519," The techniques in this section require TypeScript and are not available if your app is written using vanilla JavaScript.\n"),e.k0s(),e.j41(520,"p"),e.EFF(521,"Let's look at an alternate implementation for our validation technique."),e.k0s(),e.j41(522,"p"),e.EFF(523,"Nest works well with the "),e.j41(524,"a",42),e.EFF(525,"class-validator"),e.k0s(),e.EFF(526," library. This powerful library allows you to use decorator-based validation. Decorator-based validation is extremely powerful, especially when combined with Nest's "),e.j41(527,"strong"),e.EFF(528,"Pipe"),e.k0s(),e.EFF(529," capabilities since we have access to the "),e.j41(530,"code"),e.EFF(531,"metatype"),e.k0s(),e.EFF(532," of the processed property. Before we start, we need to install the required packages:"),e.k0s(),e.j41(533,"pre")(534,"code",28),e.EFF(535,"\n$ npm i --save class-validator class-transformer\n"),e.k0s()(),e.j41(536,"p"),e.EFF(537,"Once these are installed, we can add a few decorators to the "),e.j41(538,"code"),e.EFF(539,"CreateCatDto"),e.k0s(),e.EFF(540," class. Here we see a significant advantage of this technique: the "),e.j41(541,"code"),e.EFF(542,"CreateCatDto"),e.k0s(),e.EFF(543," class remains the single source of truth for our Post body object (rather than having to create a separate validation class)."),e.k0s(),e.j41(544,"app-copy-button",30)(545,"span",31),e.EFF(546),e.nI1(547,"extension"),e.nrm(548,"app-tabs",null,7),e.k0s(),e.j41(550,"pre")(551,"code",27),e.EFF(552,"\nimport { IsString, IsInt } from 'class-validator';\n\nexport class CreateCatDto {\n  @IsString()\n  name: string;\n\n  @IsInt()\n  age: number;\n\n  @IsString()\n  breed: string;\n}\n"),e.k0s()()(),e.j41(553,"blockquote",23)(554,"strong"),e.EFF(555,"Hint"),e.k0s(),e.EFF(556," Read more about the class-validator decorators "),e.j41(557,"a",43),e.EFF(558,"here"),e.k0s(),e.EFF(559,".\n"),e.k0s(),e.j41(560,"p"),e.EFF(561,"Now we can create a "),e.j41(562,"code"),e.EFF(563,"ValidationPipe"),e.k0s(),e.EFF(564," class that uses these annotations."),e.k0s(),e.j41(565,"app-copy-button",30)(566,"span",31),e.EFF(567),e.nI1(568,"extension"),e.nrm(569,"app-tabs",null,8),e.k0s(),e.j41(571,"pre")(572,"code",27),e.EFF(573,"\nimport { PipeTransform, Injectable, ArgumentMetadata, BadRequestException } from '@nestjs/common';\nimport { validate } from 'class-validator';\nimport { plainToInstance } from 'class-transformer';\n\n@Injectable()\nexport class ValidationPipe implements PipeTransform<any> {\n  async transform(value: any, { metatype }: ArgumentMetadata) {\n    if (!metatype || !this.toValidate(metatype)) {\n      return value;\n    }\n    const object = plainToInstance(metatype, value);\n    const errors = await validate(object);\n    if (errors.length > 0) {\n      throw new BadRequestException('Validation failed');\n    }\n    return value;\n  }\n\n  private toValidate(metatype: Function): boolean {\n    const types: Function[] = [String, Boolean, Number, Array, Object];\n    return !types.includes(metatype);\n  }\n}\n"),e.k0s()()(),e.j41(574,"blockquote",23)(575,"strong"),e.EFF(576,"Hint"),e.k0s(),e.EFF(577," As a reminder, you don't have to build a generic validation pipe on your own since the "),e.j41(578,"code"),e.EFF(579,"ValidationPipe"),e.k0s(),e.EFF(580," is provided by Nest out-of-the-box. The built-in "),e.j41(581,"code"),e.EFF(582,"ValidationPipe"),e.k0s(),e.EFF(583," offers more options than the sample we built in this chapter, which has been kept basic for the sake of illustrating the mechanics of a custom-built pipe. You can find full details, along with lots of examples "),e.j41(584,"a",32),e.EFF(585,"here"),e.k0s(),e.EFF(586,".\n"),e.k0s(),e.j41(587,"blockquote",35)(588,"strong"),e.EFF(589,"Notice"),e.k0s(),e.EFF(590," We used the "),e.j41(591,"a",44),e.EFF(592,"class-transformer"),e.k0s(),e.EFF(593," library above which is made by the same author as the "),e.j41(594,"strong"),e.EFF(595,"class-validator"),e.k0s(),e.EFF(596," library, and as a result, they play very well together.\n"),e.k0s(),e.j41(597,"p"),e.EFF(598,"Let's go through this code. First, note that the "),e.j41(599,"code"),e.EFF(600,"transform()"),e.k0s(),e.EFF(601," method is marked as "),e.j41(602,"code"),e.EFF(603,"async"),e.k0s(),e.EFF(604,". This is possible because Nest supports both synchronous and "),e.j41(605,"strong"),e.EFF(606,"asynchronous"),e.k0s(),e.EFF(607," pipes. We make this method "),e.j41(608,"code"),e.EFF(609,"async"),e.k0s(),e.EFF(610," because some of the class-validator validations "),e.j41(611,"a",45),e.EFF(612,"can be async"),e.k0s(),e.EFF(613," (utilize Promises)."),e.k0s(),e.j41(614,"p"),e.EFF(615,"Next note that we are using destructuring to extract the metatype field (extracting just this member from an "),e.j41(616,"code"),e.EFF(617,"ArgumentMetadata"),e.k0s(),e.EFF(618,") into our "),e.j41(619,"code"),e.EFF(620,"metatype"),e.k0s(),e.EFF(621," parameter. This is just shorthand for getting the full "),e.j41(622,"code"),e.EFF(623,"ArgumentMetadata"),e.k0s(),e.EFF(624," and then having an additional statement to assign the metatype variable."),e.k0s(),e.j41(625,"p"),e.EFF(626,"Next, note the helper function "),e.j41(627,"code"),e.EFF(628,"toValidate()"),e.k0s(),e.EFF(629,". It's responsible for bypassing the validation step when the current argument being processed is a native JavaScript type (these can't have validation decorators attached, so there's no reason to run them through the validation step)."),e.k0s(),e.j41(630,"p"),e.EFF(631,"Next, we use the class-transformer function "),e.j41(632,"code"),e.EFF(633,"plainToInstance()"),e.k0s(),e.EFF(634," to transform our plain JavaScript argument object into a typed object so that we can apply validation. The reason we must do this is that the incoming post body object, when deserialized from the network request, does "),e.j41(635,"strong"),e.EFF(636,"not have any type information"),e.k0s(),e.EFF(637," (this is the way the underlying platform, such as Express, works). Class-validator needs to use the validation decorators we defined for our DTO earlier, so we need to perform this transformation to treat the incoming body as an appropriately decorated object, not just a plain vanilla object."),e.k0s(),e.j41(638,"p"),e.EFF(639,"Finally, as noted earlier, since this is a "),e.j41(640,"strong"),e.EFF(641,"validation pipe"),e.k0s(),e.EFF(642," it either returns the value unchanged, or throws an exception."),e.k0s(),e.j41(643,"p"),e.EFF(644,"The last step is to bind the "),e.j41(645,"code"),e.EFF(646,"ValidationPipe"),e.k0s(),e.EFF(647,". Pipes can be parameter-scoped, method-scoped, controller-scoped, or global-scoped. Earlier, with our Zod-based validation pipe, we saw an example of binding the pipe at the method level.\nIn the example below, we'll bind the pipe instance to the route handler "),e.j41(648,"code"),e.EFF(649,"@Body()"),e.k0s(),e.EFF(650," decorator so that our pipe is called to validate the post body."),e.k0s(),e.j41(651,"app-copy-button",30)(652,"span",31),e.EFF(653),e.nI1(654,"extension"),e.nrm(655,"app-tabs",null,9),e.k0s(),e.j41(657,"pre")(658,"code",27),e.EFF(659,"\n@Post()\nasync create(\n  @Body(new ValidationPipe()) createCatDto: CreateCatDto,\n) {\n  this.catsService.create(createCatDto);\n}\n"),e.k0s()()(),e.j41(660,"p"),e.EFF(661,"Parameter-scoped pipes are useful when the validation logic concerns only one specified parameter."),e.k0s(),e.j41(662,"h4",46)(663,"span"),e.EFF(664,"Global scoped pipes"),e.k0s()(),e.j41(665,"p"),e.EFF(666,"Since the "),e.j41(667,"code"),e.EFF(668,"ValidationPipe"),e.k0s(),e.EFF(669," was created to be as generic as possible, we can realize its full utility by setting it up as a "),e.j41(670,"strong"),e.EFF(671,"global-scoped"),e.k0s(),e.EFF(672," pipe so that it is applied to every route handler across the entire application."),e.k0s(),e.j41(673,"app-copy-button",30)(674,"span",31),e.EFF(675),e.nI1(676,"extension"),e.nrm(677,"app-tabs",null,10),e.k0s(),e.j41(679,"pre")(680,"code",27),e.EFF(681,"\nasync function bootstrap() {\n  const app = await NestFactory.create(AppModule);\n  app.useGlobalPipes(new ValidationPipe());\n  await app.listen(process.env.PORT ?? 3000);\n}\nbootstrap();\n"),e.k0s()()(),e.j41(682,"blockquote",35)(683,"strong"),e.EFF(684,"Notice"),e.k0s(),e.EFF(685," In the case of "),e.j41(686,"a",47),e.EFF(687,"hybrid apps"),e.k0s(),e.EFF(688," the "),e.j41(689,"code"),e.EFF(690,"useGlobalPipes()"),e.k0s(),e.EFF(691,' method doesn\'t set up pipes for gateways and microservices. For "standard" (non-hybrid) microservice apps, '),e.j41(692,"code"),e.EFF(693,"useGlobalPipes()"),e.k0s(),e.EFF(694," does mount pipes globally.\n"),e.k0s(),e.j41(695,"p"),e.EFF(696,"Global pipes are used across the whole application, for every controller and every route handler."),e.k0s(),e.j41(697,"p"),e.EFF(698,"Note that in terms of dependency injection, global pipes registered from outside of any module (with "),e.j41(699,"code"),e.EFF(700,"useGlobalPipes()"),e.k0s(),e.EFF(701," as in the example above) cannot inject dependencies since the binding has been done outside the context of any module. In order to solve this issue, you can set up a global pipe "),e.j41(702,"strong"),e.EFF(703,"directly from any module"),e.k0s(),e.EFF(704," using the following construction:"),e.k0s(),e.j41(705,"app-copy-button",30)(706,"span",31),e.EFF(707),e.nI1(708,"extension"),e.nrm(709,"app-tabs",null,11),e.k0s(),e.j41(711,"pre")(712,"code",27),e.EFF(713,"\nimport { Module } from '@nestjs/common';\nimport { APP_PIPE } from '@nestjs/core';\n\n@Module({\n  providers: [\n    {\n      provide: APP_PIPE,\n      useClass: ValidationPipe,\n    },\n  ],\n})\nexport class AppModule {}\n"),e.k0s()()(),e.j41(714,"blockquote",23)(715,"strong"),e.EFF(716,"Hint"),e.k0s(),e.EFF(717," When using this approach to perform dependency injection for the pipe, note that regardless of the module where this construction is employed, the pipe is, in fact, global. Where should this be done? Choose the module where the pipe ("),e.j41(718,"code"),e.EFF(719,"ValidationPipe"),e.k0s(),e.EFF(720," in the example above) is defined. Also, "),e.j41(721,"code"),e.EFF(722,"useClass"),e.k0s(),e.EFF(723," is not the only way of dealing with custom provider registration. Learn more "),e.j41(724,"a",48),e.EFF(725,"here"),e.k0s(),e.EFF(726,".\n"),e.k0s(),e.j41(727,"h4",49)(728,"span"),e.EFF(729,"The built-in ValidationPipe"),e.k0s()(),e.j41(730,"p"),e.EFF(731,"As a reminder, you don't have to build a generic validation pipe on your own since the "),e.j41(732,"code"),e.EFF(733,"ValidationPipe"),e.k0s(),e.EFF(734," is provided by Nest out-of-the-box. The built-in "),e.j41(735,"code"),e.EFF(736,"ValidationPipe"),e.k0s(),e.EFF(737," offers more options than the sample we built in this chapter, which has been kept basic for the sake of illustrating the mechanics of a custom-built pipe. You can find full details, along with lots of examples "),e.j41(738,"a",32),e.EFF(739,"here"),e.k0s(),e.EFF(740,"."),e.k0s(),e.j41(741,"h4",50)(742,"span"),e.EFF(743,"Transformation use case"),e.k0s()(),e.j41(744,"p"),e.EFF(745,"Validation isn't the only use case for custom pipes. At the beginning of this chapter, we mentioned that a pipe can also "),e.j41(746,"strong"),e.EFF(747,"transform"),e.k0s(),e.EFF(748," the input data to the desired format. This is possible because the value returned from the "),e.j41(749,"code"),e.EFF(750,"transform"),e.k0s(),e.EFF(751," function completely overrides the previous value of the argument."),e.k0s(),e.j41(752,"p"),e.EFF(753,"When is this useful? Consider that sometimes the data passed from the client needs to undergo some change - for example converting a string to an integer - before it can be properly handled by the route handler method. Furthermore, some required data fields may be missing, and we would like to apply default values. "),e.j41(754,"strong"),e.EFF(755,"Transformation pipes"),e.k0s(),e.EFF(756," can perform these functions by interposing a processing function between the client request and the request handler."),e.k0s(),e.j41(757,"p"),e.EFF(758,"Here's a simple "),e.j41(759,"code"),e.EFF(760,"ParseIntPipe"),e.k0s(),e.EFF(761," which is responsible for parsing a string into an integer value. (As noted above, Nest has a built-in "),e.j41(762,"code"),e.EFF(763,"ParseIntPipe"),e.k0s(),e.EFF(764," that is more sophisticated; we include this as a simple example of a custom transformation pipe)."),e.k0s(),e.j41(765,"app-copy-button",30)(766,"span",31),e.EFF(767),e.nI1(768,"extension"),e.nrm(769,"app-tabs",null,12),e.k0s(),e.j41(771,"pre")(772,"code",27),e.EFF(773,"\nimport { PipeTransform, Injectable, ArgumentMetadata, BadRequestException } from '@nestjs/common';\n\n@Injectable()\nexport class ParseIntPipe implements PipeTransform<string, number> {\n  transform(value: string, metadata: ArgumentMetadata): number {\n    const val = parseInt(value, 10);\n    if (isNaN(val)) {\n      throw new BadRequestException('Validation failed');\n    }\n    return val;\n  }\n}\n"),e.k0s()(),e.j41(774,"pre")(775,"code",27),e.EFF(776,"\nimport { Injectable, BadRequestException } from '@nestjs/common';\n\n@Injectable()\nexport class ParseIntPipe {\n  transform(value, metadata) {\n    const val = parseInt(value, 10);\n    if (isNaN(val)) {\n      throw new BadRequestException('Validation failed');\n    }\n    return val;\n  }\n}\n"),e.k0s()()(),e.j41(777,"p"),e.EFF(778,"We can then bind this pipe to the selected param as shown below:"),e.k0s(),e.j41(779,"app-copy-button",30)(780,"span",31),e.nrm(781,"app-tabs",null,13),e.k0s(),e.j41(783,"pre")(784,"code",27),e.EFF(785,"\n@Get(':id')\nasync findOne(@Param('id', new ParseIntPipe()) id) {\n  return this.catsService.findOne(id);\n}\n"),e.k0s()(),e.j41(786,"pre")(787,"code",27),e.EFF(788,"\n@Get(':id')\n@Bind(Param('id', new ParseIntPipe()))\nasync findOne(id) {\n  return this.catsService.findOne(id);\n}\n"),e.k0s()()(),e.j41(789,"p"),e.EFF(790,"Another useful transformation case would be to select an "),e.j41(791,"strong"),e.EFF(792,"existing user"),e.k0s(),e.EFF(793," entity from the database using an id supplied in the request:"),e.k0s(),e.j41(794,"app-copy-button",30)(795,"span",31),e.nrm(796,"app-tabs",null,14),e.k0s(),e.j41(798,"pre")(799,"code",27),e.EFF(800,"\n@Get(':id')\nfindOne(@Param('id', UserByIdPipe) userEntity: UserEntity) {\n  return userEntity;\n}\n"),e.k0s()(),e.j41(801,"pre")(802,"code",27),e.EFF(803,"\n@Get(':id')\n@Bind(Param('id', UserByIdPipe))\nfindOne(userEntity) {\n  return userEntity;\n}\n"),e.k0s()()(),e.j41(804,"p"),e.EFF(805,"We leave the implementation of this pipe to the reader, but note that like all other transformation pipes, it receives an input value (an "),e.j41(806,"code"),e.EFF(807,"id"),e.k0s(),e.EFF(808,") and returns an output value (a "),e.j41(809,"code"),e.EFF(810,"UserEntity"),e.k0s(),e.EFF(811," object). This can make your code more declarative and "),e.j41(812,"a",38),e.EFF(813,"DRY"),e.k0s(),e.EFF(814," by abstracting boilerplate code out of your handler and into a common pipe."),e.k0s(),e.j41(815,"h4",51)(816,"span"),e.EFF(817,"Providing defaults"),e.k0s()(),e.j41(818,"p")(819,"code"),e.EFF(820,"Parse*"),e.k0s(),e.EFF(821," pipes expect a parameter's value to be defined. They throw an exception upon receiving "),e.j41(822,"code"),e.EFF(823,"null"),e.k0s(),e.EFF(824," or "),e.j41(825,"code"),e.EFF(826,"undefined"),e.k0s(),e.EFF(827," values. To allow an endpoint to handle missing querystring parameter values, we have to provide a default value to be injected before the "),e.j41(828,"code"),e.EFF(829,"Parse*"),e.k0s(),e.EFF(830," pipes operate on these values. The "),e.j41(831,"code"),e.EFF(832,"DefaultValuePipe"),e.k0s(),e.EFF(833," serves that purpose. Simply instantiate a "),e.j41(834,"code"),e.EFF(835,"DefaultValuePipe"),e.k0s(),e.EFF(836," in the "),e.j41(837,"code"),e.EFF(838,"@Query()"),e.k0s(),e.EFF(839," decorator before the relevant "),e.j41(840,"code"),e.EFF(841,"Parse*"),e.k0s(),e.EFF(842," pipe, as shown below:"),e.k0s(),e.j41(843,"app-copy-button",30)(844,"span",31),e.nrm(845,"app-tabs",null,15),e.k0s(),e.j41(847,"pre")(848,"code",27),e.EFF(849,"\n@Get()\nasync findAll(\n  @Query('activeOnly', new DefaultValuePipe(false), ParseBoolPipe) activeOnly: boolean,\n  @Query('page', new DefaultValuePipe(0), ParseIntPipe) page: number,\n) {\n  return this.catsService.findAll({ activeOnly, page });\n}\n"),e.k0s()()()()),2&c){const b=e.sdS(175),M=e.sdS(222),u=e.sdS(343),m=e.sdS(363),p=e.sdS(434),F=e.sdS(484),_=e.sdS(549),S=e.sdS(570),x=e.sdS(656),z=e.sdS(678),U=e.sdS(710),Ee=e.sdS(770),Le=e.sdS(782),ze=e.sdS(797);e.R7$(176),e.AVh("hide",b.isJsActive),e.R7$(3),e.AVh("hide",!b.isJsActive),e.R7$(40),e.SpI(" ",e.i5U(220,41,"validation.pipe",M.isJsActive),"\n"),e.R7$(4),e.AVh("hide",M.isJsActive),e.R7$(3),e.AVh("hide",!M.isJsActive),e.R7$(118),e.AVh("hide",u.isJsActive),e.R7$(3),e.AVh("hide",!u.isJsActive),e.R7$(13),e.SpI(" ",e.i5U(361,44,"create-cat.dto",m.isJsActive),"\n"),e.R7$(75),e.AVh("hide",p.isJsActive),e.R7$(3),e.AVh("hide",!p.isJsActive),e.R7$(43),e.SpI(" ",e.i5U(482,47,"cats.controller",F.isJsActive),"\n"),e.R7$(4),e.AVh("hide",F.isJsActive),e.R7$(3),e.AVh("hide",!F.isJsActive),e.R7$(58),e.SpI(" ",e.i5U(547,50,"create-cat.dto",_.isJsActive),"\n"),e.R7$(21),e.SpI(" ",e.i5U(568,53,"validation.pipe",S.isJsActive),"\n"),e.R7$(86),e.SpI(" ",e.i5U(654,56,"cats.controller",x.isJsActive),"\n"),e.R7$(22),e.SpI(" ",e.i5U(676,59,"main",z.isJsActive),"\n"),e.R7$(32),e.SpI(" ",e.i5U(708,62,"app.module",U.isJsActive),"\n"),e.R7$(60),e.SpI(" ",e.i5U(768,65,"parse-int.pipe",Ee.isJsActive),"\n"),e.R7$(4),e.AVh("hide",Ee.isJsActive),e.R7$(3),e.AVh("hide",!Ee.isJsActive),e.R7$(9),e.AVh("hide",Le.isJsActive),e.R7$(3),e.AVh("hide",!Le.isJsActive),e.R7$(12),e.AVh("hide",ze.isJsActive),e.R7$(3),e.AVh("hide",!ze.isJsActive)}},dependencies:[yt.Wk,Wn.O,Ln.a,Mn.Q,Qn.z,Zn.M],encapsulation:2,changeDetection:0})}return v})(),data:{title:"Pipes"}},{path:"guards",component:(()=>{class v extends Xe.y{static \u0275fac=(()=>{let a;return function(h){return(a||(a=e.xGo(v)))(h||v)}})();static \u0275cmp=e.VBU({type:v,selectors:[["app-guards"]],features:[e.Vt3],decls:470,vars:40,consts:[["contentReference",""],["app19d3ef0072ecd5b91ee5997250db7155690aea2d",""],["appf16f2e9e3e2f3a29390751502e53ef6eabcf7cbc",""],["app7b497c8b288a17f5a96a22e92096cf33c0194a62",""],["app8391644ceb61fa47933654f80ebeec470451232e",""],["appf76acae2982248e5366d9da0f4c9dfdd46dcc093",""],["app182f2300e138ce63d4decb4b504c27dc492e317a",""],["app23848a68f3a4ce63d77d053bbc5d11c35c76c880",""],["app48c455d432c7787f372d804b6ff540a32ff84b00",""],["appc5277a74c254f342eebcafd8f020cbbdb166fc5c",""],[1,"content"],[1,"github-links"],["href","https://github.com/nestjs/docs.nestjs.com/edit/master/content/guards.md","aria-label","Suggest Edits","title","Suggest Edits"],[1,"fas","fa-edit"],["id","guards"],["src","/assets/Guards_1.png",1,"illustrative-image"],["routerLink","/middleware"],[1,"info"],["appAnchor","","id","authorization-guard"],[1,"with-heading"],[1,"filename"],[1,"language-typescript"],["routerLink","/security/authentication"],["routerLink","/security/authorization"],["appAnchor","","id","execution-context"],["rel","nofollow","target","_blank","href","https://docs.nestjs.com/exception-filters#arguments-host"],["routerLink","/fundamentals/execution-context"],["appAnchor","","id","role-based-authentication"],["appAnchor","","id","binding-guards"],[1,"warning"],["routerLink","/faq/hybrid-application"],["routerLink","/fundamentals/custom-providers"],["appAnchor","","id","setting-roles-per-handler"],["rel","nofollow","target","_blank","href","https://docs.nestjs.com/fundamentals/execution-context#reflection-and-metadata"],[1,"language-ts"],["href","/fundamentals/execution-context#low-level-approach"],["appAnchor","","id","putting-it-all-together"],["href","https://docs.nestjs.com/fundamentals/execution-context#reflection-and-metadata"],["routerLink","/exception-filters"]],template:function(c,h){if(1&c&&(e.j41(0,"div",10,0)(2,"div",11)(3,"a",12),e.nrm(4,"i",13),e.k0s()(),e.j41(5,"h3",14),e.EFF(6,"Guards"),e.k0s(),e.j41(7,"p"),e.EFF(8,"A guard is a class annotated with the "),e.j41(9,"code"),e.EFF(10,"@Injectable()"),e.k0s(),e.EFF(11," decorator, which implements the "),e.j41(12,"code"),e.EFF(13,"CanActivate"),e.k0s(),e.EFF(14," interface."),e.k0s(),e.j41(15,"figure"),e.nrm(16,"img",15),e.k0s(),e.j41(17,"p"),e.EFF(18,"Guards have a "),e.j41(19,"strong"),e.EFF(20,"single responsibility"),e.k0s(),e.EFF(21,". They determine whether a given request will be handled by the route handler or not, depending on certain conditions (like permissions, roles, ACLs, etc.) present at run-time. This is often referred to as "),e.j41(22,"strong"),e.EFF(23,"authorization"),e.k0s(),e.EFF(24,". Authorization (and its cousin, "),e.j41(25,"strong"),e.EFF(26,"authentication"),e.k0s(),e.EFF(27,", with which it usually collaborates) has typically been handled by "),e.j41(28,"a",16),e.EFF(29,"middleware"),e.k0s(),e.EFF(30," in traditional Express applications. Middleware is a fine choice for authentication, since things like token validation and attaching properties to the "),e.j41(31,"code"),e.EFF(32,"request"),e.k0s(),e.EFF(33," object are not strongly connected with a particular route context (and its metadata)."),e.k0s(),e.j41(34,"p"),e.EFF(35,"But middleware, by its nature, is dumb. It doesn't know which handler will be executed after calling the "),e.j41(36,"code"),e.EFF(37,"next()"),e.k0s(),e.EFF(38," function. On the other hand, "),e.j41(39,"strong"),e.EFF(40,"Guards"),e.k0s(),e.EFF(41," have access to the "),e.j41(42,"code"),e.EFF(43,"ExecutionContext"),e.k0s(),e.EFF(44," instance, and thus know exactly what's going to be executed next. They're designed, much like exception filters, pipes, and interceptors, to let you interpose processing logic at exactly the right point in the request/response cycle, and to do so declaratively. This helps keep your code DRY and declarative."),e.k0s(),e.j41(45,"blockquote",17)(46,"strong"),e.EFF(47,"Hint"),e.k0s(),e.EFF(48," Guards are executed "),e.j41(49,"strong"),e.EFF(50,"after"),e.k0s(),e.EFF(51," all middleware, but "),e.j41(52,"strong"),e.EFF(53,"before"),e.k0s(),e.EFF(54," any interceptor or pipe.\n"),e.k0s(),e.j41(55,"h4",18)(56,"span"),e.EFF(57,"Authorization guard"),e.k0s()(),e.j41(58,"p"),e.EFF(59,"As mentioned, "),e.j41(60,"strong"),e.EFF(61,"authorization"),e.k0s(),e.EFF(62," is a great use case for Guards because specific routes should be available only when the caller (usually a specific authenticated user) has sufficient permissions. The "),e.j41(63,"code"),e.EFF(64,"AuthGuard"),e.k0s(),e.EFF(65," that we'll build now assumes an authenticated user (and that, therefore, a token is attached to the request headers). It will extract and validate the token, and use the extracted information to determine whether the request can proceed or not."),e.k0s(),e.j41(66,"app-copy-button",19)(67,"span",20),e.EFF(68),e.nI1(69,"extension"),e.nrm(70,"app-tabs",null,1),e.k0s(),e.j41(72,"pre")(73,"code",21),e.EFF(74,"\nimport { Injectable, CanActivate, ExecutionContext } from '@nestjs/common';\nimport { Observable } from 'rxjs';\n\n@Injectable()\nexport class AuthGuard implements CanActivate {\n  canActivate(\n    context: ExecutionContext,\n  ): boolean | Promise<boolean> | Observable<boolean> {\n    const request = context.switchToHttp().getRequest();\n    return validateRequest(request);\n  }\n}\n"),e.k0s()(),e.j41(75,"pre")(76,"code",21),e.EFF(77,"\nimport { Injectable } from '@nestjs/common';\n\n@Injectable()\nexport class AuthGuard {\n  async canActivate(context) {\n    const request = context.switchToHttp().getRequest();\n    return validateRequest(request);\n  }\n}\n"),e.k0s()()(),e.j41(78,"blockquote",17)(79,"strong"),e.EFF(80,"Hint"),e.k0s(),e.EFF(81," If you are looking for a real-world example on how to implement an authentication mechanism in your application, visit "),e.j41(82,"a",22),e.EFF(83,"this chapter"),e.k0s(),e.EFF(84,". Likewise, for more sophisticated authorization example, check "),e.j41(85,"a",23),e.EFF(86,"this page"),e.k0s(),e.EFF(87,".\n"),e.k0s(),e.j41(88,"p"),e.EFF(89,"The logic inside the "),e.j41(90,"code"),e.EFF(91,"validateRequest()"),e.k0s(),e.EFF(92," function can be as simple or sophisticated as needed. The main point of this example is to show how guards fit into the request/response cycle."),e.k0s(),e.j41(93,"p"),e.EFF(94,"Every guard must implement a "),e.j41(95,"code"),e.EFF(96,"canActivate()"),e.k0s(),e.EFF(97," function. This function should return a boolean, indicating whether the current request is allowed or not. It can return the response either synchronously or asynchronously (via a "),e.j41(98,"code"),e.EFF(99,"Promise"),e.k0s(),e.EFF(100," or "),e.j41(101,"code"),e.EFF(102,"Observable"),e.k0s(),e.EFF(103,"). Nest uses the return value to control the next action:"),e.k0s(),e.j41(104,"ul")(105,"li"),e.EFF(106,"if it returns "),e.j41(107,"code"),e.EFF(108,"true"),e.k0s(),e.EFF(109,", the request will be processed."),e.k0s(),e.j41(110,"li"),e.EFF(111,"if it returns "),e.j41(112,"code"),e.EFF(113,"false"),e.k0s(),e.EFF(114,", Nest will deny the request."),e.k0s()(),e.j41(115,"p"),e.nrm(116,"app-banner-enterprise"),e.k0s(),e.j41(117,"h4",24)(118,"span"),e.EFF(119,"Execution context"),e.k0s()(),e.j41(120,"p"),e.EFF(121,"The "),e.j41(122,"code"),e.EFF(123,"canActivate()"),e.k0s(),e.EFF(124," function takes a single argument, the "),e.j41(125,"code"),e.EFF(126,"ExecutionContext"),e.k0s(),e.EFF(127," instance. The "),e.j41(128,"code"),e.EFF(129,"ExecutionContext"),e.k0s(),e.EFF(130," inherits from "),e.j41(131,"code"),e.EFF(132,"ArgumentsHost"),e.k0s(),e.EFF(133,". We saw "),e.j41(134,"code"),e.EFF(135,"ArgumentsHost"),e.k0s(),e.EFF(136," previously in the exception filters chapter. In the sample above, we are just using the same helper methods defined on "),e.j41(137,"code"),e.EFF(138,"ArgumentsHost"),e.k0s(),e.EFF(139," that we used earlier, to get a reference to the "),e.j41(140,"code"),e.EFF(141,"Request"),e.k0s(),e.EFF(142," object. You can refer back to the "),e.j41(143,"strong"),e.EFF(144,"Arguments host"),e.k0s(),e.EFF(145," section of the "),e.j41(146,"a",25),e.EFF(147,"exception filters"),e.k0s(),e.EFF(148," chapter for more on this topic."),e.k0s(),e.j41(149,"p"),e.EFF(150,"By extending "),e.j41(151,"code"),e.EFF(152,"ArgumentsHost"),e.k0s(),e.EFF(153,", "),e.j41(154,"code"),e.EFF(155,"ExecutionContext"),e.k0s(),e.EFF(156," also adds several new helper methods that provide additional details about the current execution process. These details can be helpful in building more generic guards that can work across a broad set of controllers, methods, and execution contexts. Learn more about "),e.j41(157,"code"),e.EFF(158,"ExecutionContext"),e.k0s(),e.j41(159,"a",26),e.EFF(160,"here"),e.k0s(),e.EFF(161,"."),e.k0s(),e.j41(162,"h4",27)(163,"span"),e.EFF(164,"Role-based authentication"),e.k0s()(),e.j41(165,"p"),e.EFF(166,"Let's build a more functional guard that permits access only to users with a specific role. We'll start with a basic guard template, and build on it in the coming sections. For now, it allows all requests to proceed:"),e.k0s(),e.j41(167,"app-copy-button",19)(168,"span",20),e.EFF(169),e.nI1(170,"extension"),e.nrm(171,"app-tabs",null,2),e.k0s(),e.j41(173,"pre")(174,"code",21),e.EFF(175,"\nimport { Injectable, CanActivate, ExecutionContext } from '@nestjs/common';\nimport { Observable } from 'rxjs';\n\n@Injectable()\nexport class RolesGuard implements CanActivate {\n  canActivate(\n    context: ExecutionContext,\n  ): boolean | Promise<boolean> | Observable<boolean> {\n    return true;\n  }\n}\n"),e.k0s()(),e.j41(176,"pre")(177,"code",21),e.EFF(178,"\nimport { Injectable } from '@nestjs/common';\n\n@Injectable()\nexport class RolesGuard {\n  canActivate(context) {\n    return true;\n  }\n}\n"),e.k0s()()(),e.j41(179,"h4",28)(180,"span"),e.EFF(181,"Binding guards"),e.k0s()(),e.j41(182,"p"),e.EFF(183,"Like pipes and exception filters, guards can be "),e.j41(184,"strong"),e.EFF(185,"controller-scoped"),e.k0s(),e.EFF(186,", method-scoped, or global-scoped. Below, we set up a controller-scoped guard using the "),e.j41(187,"code"),e.EFF(188,"@UseGuards()"),e.k0s(),e.EFF(189," decorator. This decorator may take a single argument, or a comma-separated list of arguments. This lets you easily apply the appropriate set of guards with one declaration."),e.k0s(),e.j41(190,"app-copy-button",19)(191,"span",20),e.nrm(192,"app-tabs",null,3),e.k0s(),e.j41(194,"pre")(195,"code",21),e.EFF(196,"\n@Controller('cats')\n@UseGuards(RolesGuard)\nexport class CatsController {}\n"),e.k0s()()(),e.j41(197,"blockquote",17)(198,"strong"),e.EFF(199,"Hint"),e.k0s(),e.EFF(200," The "),e.j41(201,"code"),e.EFF(202,"@UseGuards()"),e.k0s(),e.EFF(203," decorator is imported from the "),e.j41(204,"code"),e.EFF(205,"@nestjs/common"),e.k0s(),e.EFF(206," package.\n"),e.k0s(),e.j41(207,"p"),e.EFF(208,"Above, we passed the "),e.j41(209,"code"),e.EFF(210,"RolesGuard"),e.k0s(),e.EFF(211," class (instead of an instance), leaving responsibility for instantiation to the framework and enabling dependency injection. As with pipes and exception filters, we can also pass an in-place instance:"),e.k0s(),e.j41(212,"app-copy-button",19)(213,"span",20),e.nrm(214,"app-tabs",null,4),e.k0s(),e.j41(216,"pre")(217,"code",21),e.EFF(218,"\n@Controller('cats')\n@UseGuards(new RolesGuard())\nexport class CatsController {}\n"),e.k0s()()(),e.j41(219,"p"),e.EFF(220,"The construction above attaches the guard to every handler declared by this controller. If we wish the guard to apply only to a single method, we apply the "),e.j41(221,"code"),e.EFF(222,"@UseGuards()"),e.k0s(),e.EFF(223," decorator at the "),e.j41(224,"strong"),e.EFF(225,"method level"),e.k0s(),e.EFF(226,"."),e.k0s(),e.j41(227,"p"),e.EFF(228,"In order to set up a global guard, use the "),e.j41(229,"code"),e.EFF(230,"useGlobalGuards()"),e.k0s(),e.EFF(231," method of the Nest application instance:"),e.k0s(),e.j41(232,"app-copy-button",19)(233,"span",20),e.nrm(234,"app-tabs",null,5),e.k0s(),e.j41(236,"pre")(237,"code",21),e.EFF(238,"\nconst app = await NestFactory.create(AppModule);\napp.useGlobalGuards(new RolesGuard());\n"),e.k0s()()(),e.j41(239,"blockquote",29)(240,"strong"),e.EFF(241,"Notice"),e.k0s(),e.EFF(242," In the case of hybrid apps the "),e.j41(243,"code"),e.EFF(244,"useGlobalGuards()"),e.k0s(),e.EFF(245," method doesn't set up guards for gateways and microservices by default (see "),e.j41(246,"a",30),e.EFF(247,"Hybrid application"),e.k0s(),e.EFF(248,' for information on how to change this behavior). For "standard" (non-hybrid) microservice apps, '),e.j41(249,"code"),e.EFF(250,"useGlobalGuards()"),e.k0s(),e.EFF(251," does mount the guards globally.\n"),e.k0s(),e.j41(252,"p"),e.EFF(253,"Global guards are used across the whole application, for every controller and every route handler. In terms of dependency injection, global guards registered from outside of any module (with "),e.j41(254,"code"),e.EFF(255,"useGlobalGuards()"),e.k0s(),e.EFF(256," as in the example above) cannot inject dependencies since this is done outside the context of any module. In order to solve this issue, you can set up a guard directly from any module using the following construction:"),e.k0s(),e.j41(257,"app-copy-button",19)(258,"span",20),e.EFF(259),e.nI1(260,"extension"),e.nrm(261,"app-tabs",null,6),e.k0s(),e.j41(263,"pre")(264,"code",21),e.EFF(265,"\nimport { Module } from '@nestjs/common';\nimport { APP_GUARD } from '@nestjs/core';\n\n@Module({\n  providers: [\n    {\n      provide: APP_GUARD,\n      useClass: RolesGuard,\n    },\n  ],\n})\nexport class AppModule {}\n"),e.k0s()()(),e.j41(266,"blockquote",17)(267,"strong"),e.EFF(268,"Hint"),e.k0s(),e.EFF(269," When using this approach to perform dependency injection for the guard, note that regardless of the\nmodule where this construction is employed, the guard is, in fact, global. Where should this be done? Choose the module\nwhere the guard ("),e.j41(270,"code"),e.EFF(271,"RolesGuard"),e.k0s(),e.EFF(272," in the example above) is defined. Also, "),e.j41(273,"code"),e.EFF(274,"useClass"),e.k0s(),e.EFF(275," is not the only way of dealing with\ncustom provider registration. Learn more "),e.j41(276,"a",31),e.EFF(277,"here"),e.k0s(),e.EFF(278,".\n"),e.k0s(),e.j41(279,"h4",32)(280,"span"),e.EFF(281,"Setting roles per handler"),e.k0s()(),e.j41(282,"p"),e.EFF(283,"Our "),e.j41(284,"code"),e.EFF(285,"RolesGuard"),e.k0s(),e.EFF(286," is working, but it's not very smart yet. We're not yet taking advantage of the most important guard feature - the "),e.j41(287,"a",26),e.EFF(288,"execution context"),e.k0s(),e.EFF(289,". It doesn't yet know about roles, or which roles are allowed for each handler. The "),e.j41(290,"code"),e.EFF(291,"CatsController"),e.k0s(),e.EFF(292,", for example, could have different permission schemes for different routes. Some might be available only for an admin user, and others could be open for everyone. How can we match roles to routes in a flexible and reusable way?"),e.k0s(),e.j41(293,"p"),e.EFF(294,"This is where "),e.j41(295,"strong"),e.EFF(296,"custom metadata"),e.k0s(),e.EFF(297," comes into play (learn more "),e.j41(298,"a",33),e.EFF(299,"here"),e.k0s(),e.EFF(300,"). Nest provides the ability to attach custom "),e.j41(301,"strong"),e.EFF(302,"metadata"),e.k0s(),e.EFF(303," to route handlers through either decorators created via "),e.j41(304,"code"),e.EFF(305,"Reflector#createDecorator"),e.k0s(),e.EFF(306," static method, or the built-in "),e.j41(307,"code"),e.EFF(308,"@SetMetadata()"),e.k0s(),e.EFF(309," decorator."),e.k0s(),e.j41(310,"p"),e.EFF(311,"For example, let's create a "),e.j41(312,"code"),e.EFF(313,"@Roles()"),e.k0s(),e.EFF(314," decorator using the "),e.j41(315,"code"),e.EFF(316,"Reflector#createDecorator"),e.k0s(),e.EFF(317," method that will attach the metadata to the handler. "),e.j41(318,"code"),e.EFF(319,"Reflector"),e.k0s(),e.EFF(320," is provided out of the box by the framework and exposed from the "),e.j41(321,"code"),e.EFF(322,"@nestjs/core"),e.k0s(),e.EFF(323," package."),e.k0s(),e.j41(324,"app-copy-button",19)(325,"span",20),e.EFF(326),e.nI1(327,"extension"),e.nrm(328,"app-tabs",null,7),e.k0s(),e.j41(330,"pre")(331,"code",34),e.EFF(332,"\nimport { Reflector } from '@nestjs/core';\n\nexport const Roles = Reflector.createDecorator<string[]>();\n"),e.k0s()()(),e.j41(333,"p"),e.EFF(334,"The "),e.j41(335,"code"),e.EFF(336,"Roles"),e.k0s(),e.EFF(337," decorator here is a function that takes a single argument of type "),e.j41(338,"code"),e.EFF(339,"string[]"),e.k0s(),e.EFF(340,"."),e.k0s(),e.j41(341,"p"),e.EFF(342,"Now, to use this decorator, we simply annotate the handler with it:"),e.k0s(),e.j41(343,"app-copy-button",19)(344,"span",20),e.EFF(345),e.nI1(346,"extension"),e.nrm(347,"app-tabs",null,8),e.k0s(),e.j41(349,"pre")(350,"code",21),e.EFF(351,"\n@Post()\n@Roles(['admin'])\nasync create(@Body() createCatDto: CreateCatDto) {\n  this.catsService.create(createCatDto);\n}\n"),e.k0s()(),e.j41(352,"pre")(353,"code",21),e.EFF(354,"\n@Post()\n@Roles(['admin'])\n@Bind(Body())\nasync create(createCatDto) {\n  this.catsService.create(createCatDto);\n}\n"),e.k0s()()(),e.j41(355,"p"),e.EFF(356,"Here we've attached the "),e.j41(357,"code"),e.EFF(358,"Roles"),e.k0s(),e.EFF(359," decorator metadata to the "),e.j41(360,"code"),e.EFF(361,"create()"),e.k0s(),e.EFF(362," method, indicating that only users with the "),e.j41(363,"code"),e.EFF(364,"admin"),e.k0s(),e.EFF(365," role should be allowed to access this route."),e.k0s(),e.j41(366,"p"),e.EFF(367,"Alternatively, instead of using the "),e.j41(368,"code"),e.EFF(369,"Reflector#createDecorator"),e.k0s(),e.EFF(370," method, we could use the built-in "),e.j41(371,"code"),e.EFF(372,"@SetMetadata()"),e.k0s(),e.EFF(373," decorator. Learn more about "),e.j41(374,"a",35),e.EFF(375,"here"),e.k0s(),e.EFF(376,"."),e.k0s(),e.j41(377,"h4",36)(378,"span"),e.EFF(379,"Putting it all together"),e.k0s()(),e.j41(380,"p"),e.EFF(381,"Let's now go back and tie this together with our "),e.j41(382,"code"),e.EFF(383,"RolesGuard"),e.k0s(),e.EFF(384,". Currently, it simply returns "),e.j41(385,"code"),e.EFF(386,"true"),e.k0s(),e.EFF(387," in all cases, allowing every request to proceed. We want to make the return value conditional based on comparing the "),e.j41(388,"strong"),e.EFF(389,"roles assigned to the current user"),e.k0s(),e.EFF(390," to the actual roles required by the current route being processed. In order to access the route's role(s) (custom metadata), we'll use the "),e.j41(391,"code"),e.EFF(392,"Reflector"),e.k0s(),e.EFF(393," helper class again, as follows:"),e.k0s(),e.j41(394,"app-copy-button",19)(395,"span",20),e.EFF(396),e.nI1(397,"extension"),e.nrm(398,"app-tabs",null,9),e.k0s(),e.j41(400,"pre")(401,"code",21),e.EFF(402,"\nimport { Injectable, CanActivate, ExecutionContext } from '@nestjs/common';\nimport { Reflector } from '@nestjs/core';\nimport { Roles } from './roles.decorator';\n\n@Injectable()\nexport class RolesGuard implements CanActivate {\n  constructor(private reflector: Reflector) {}\n\n  canActivate(context: ExecutionContext): boolean {\n    const roles = this.reflector.get(Roles, context.getHandler());\n    if (!roles) {\n      return true;\n    }\n    const request = context.switchToHttp().getRequest();\n    const user = request.user;\n    return matchRoles(roles, user.roles);\n  }\n}\n"),e.k0s()(),e.j41(403,"pre")(404,"code",21),e.EFF(405,"\nimport { Injectable, Dependencies } from '@nestjs/common';\nimport { Reflector } from '@nestjs/core';\nimport { Roles } from './roles.decorator';\n\n@Injectable()\n@Dependencies(Reflector)\nexport class RolesGuard {\n  constructor(reflector) {\n    this.reflector = reflector;\n  }\n\n  canActivate(context) {\n    const roles = this.reflector.get(Roles, context.getHandler());\n    if (!roles) {\n      return true;\n    }\n    const request = context.switchToHttp().getRequest();\n    const user = request.user;\n    return matchRoles(roles, user.roles);\n  }\n}\n"),e.k0s()()(),e.j41(406,"blockquote",17)(407,"strong"),e.EFF(408,"Hint"),e.k0s(),e.EFF(409," In the node.js world, it's common practice to attach the authorized user to the "),e.j41(410,"code"),e.EFF(411,"request"),e.k0s(),e.EFF(412," object. Thus, in our sample code above, we are assuming that "),e.j41(413,"code"),e.EFF(414,"request.user"),e.k0s(),e.EFF(415," contains the user instance and allowed roles. In your app, you will probably make that association in your custom "),e.j41(416,"strong"),e.EFF(417,"authentication guard"),e.k0s(),e.EFF(418," (or middleware). Check "),e.j41(419,"a",22),e.EFF(420,"this chapter"),e.k0s(),e.EFF(421," for more information on this topic.\n"),e.k0s(),e.j41(422,"blockquote",29)(423,"strong"),e.EFF(424,"Warning"),e.k0s(),e.EFF(425," The logic inside the "),e.j41(426,"code"),e.EFF(427,"matchRoles()"),e.k0s(),e.EFF(428," function can be as simple or sophisticated as needed. The main point of this example is to show how guards fit into the request/response cycle.\n"),e.k0s(),e.j41(429,"p"),e.EFF(430,"Refer to the "),e.j41(431,"a",37),e.EFF(432,"Reflection and metadata"),e.k0s(),e.EFF(433," section of the "),e.j41(434,"strong"),e.EFF(435,"Execution context"),e.k0s(),e.EFF(436," chapter for more details on utilizing "),e.j41(437,"code"),e.EFF(438,"Reflector"),e.k0s(),e.EFF(439," in a context-sensitive way."),e.k0s(),e.j41(440,"p"),e.EFF(441,"When a user with insufficient privileges requests an endpoint, Nest automatically returns the following response:"),e.k0s(),e.j41(442,"app-copy-button")(443,"pre")(444,"code",21),e.EFF(445,'\n{\n  "statusCode": 403,\n  "message": "Forbidden resource",\n  "error": "Forbidden"\n}\n'),e.k0s()()(),e.j41(446,"p"),e.EFF(447,"Note that behind the scenes, when a guard returns "),e.j41(448,"code"),e.EFF(449,"false"),e.k0s(),e.EFF(450,", the framework throws a "),e.j41(451,"code"),e.EFF(452,"ForbiddenException"),e.k0s(),e.EFF(453,". If you want to return a different error response, you should throw your own specific exception. For example:"),e.k0s(),e.j41(454,"app-copy-button")(455,"pre")(456,"code",21),e.EFF(457,"\nthrow new UnauthorizedException();\n"),e.k0s()()(),e.j41(458,"p"),e.EFF(459,"Any exception thrown by a guard will be handled by the "),e.j41(460,"a",38),e.EFF(461,"exceptions layer"),e.k0s(),e.EFF(462," (global exceptions filter and any exceptions filters that are applied to the current context)."),e.k0s(),e.j41(463,"blockquote",17)(464,"strong"),e.EFF(465,"Hint"),e.k0s(),e.EFF(466," If you are looking for a real-world example on how to implement authorization, check "),e.j41(467,"a",23),e.EFF(468,"this chapter"),e.k0s(),e.EFF(469,".\n"),e.k0s()()),2&c){const b=e.sdS(71),M=e.sdS(172),u=e.sdS(262),m=e.sdS(329),p=e.sdS(348),F=e.sdS(399);e.R7$(68),e.SpI(" ",e.i5U(69,22,"auth.guard",b.isJsActive),"\n"),e.R7$(4),e.AVh("hide",b.isJsActive),e.R7$(3),e.AVh("hide",!b.isJsActive),e.R7$(94),e.SpI(" ",e.i5U(170,25,"roles.guard",M.isJsActive),"\n"),e.R7$(4),e.AVh("hide",M.isJsActive),e.R7$(3),e.AVh("hide",!M.isJsActive),e.R7$(83),e.SpI(" ",e.i5U(260,28,"app.module",u.isJsActive),"\n"),e.R7$(67),e.SpI(" ",e.i5U(327,31,"roles.decorator",m.isJsActive),"\n"),e.R7$(19),e.SpI(" ",e.i5U(346,34,"cats.controller",p.isJsActive),"\n"),e.R7$(4),e.AVh("hide",p.isJsActive),e.R7$(3),e.AVh("hide",!p.isJsActive),e.R7$(44),e.SpI(" ",e.i5U(397,37,"roles.guard",F.isJsActive),"\n"),e.R7$(4),e.AVh("hide",F.isJsActive),e.R7$(3),e.AVh("hide",!F.isJsActive)}},dependencies:[yt.Wk,Wn.O,Ln.a,Ns.d,Qn.z,Zn.M],encapsulation:2,changeDetection:0})}return v})(),data:{title:"Guards"}},{path:"exception-filters",component:et,data:{title:"Exception filters"}},{path:"interceptors",component:(()=>{class v extends Xe.y{static \u0275fac=(()=>{let a;return function(h){return(a||(a=e.xGo(v)))(h||v)}})();static \u0275cmp=e.VBU({type:v,selectors:[["app-interceptors"]],features:[e.Vt3],decls:510,vars:56,consts:[["contentReference",""],["app3366e9a28c27f36d7978c64e1bf5006f6123633b",""],["app54a868fd80c48d33904ac20d865135a9365dd5a7",""],["appa051731cc6f123b59a57ee4d7e8ffa0fef452fe9",""],["app66167a49e320bab0aff21895e6131ee5f6d484d6",""],["app721df59d375128c2ed4992cb8cc9f03e8ba8839c",""],["appee07ffba0c3ecd1c1da9640d4bfe89ad6691cf28",""],["app5a7947fd3b70b427dc6bb8e82db2640a338115e6",""],["app8be7066164983d30f6dc8e50aafb94ccf1926e02",""],["app5810759af94710c0547b17011dfe6e17d1d1197e",""],[1,"content"],[1,"github-links"],["href","https://github.com/nestjs/docs.nestjs.com/edit/master/content/interceptors.md","aria-label","Suggest Edits","title","Suggest Edits"],[1,"fas","fa-edit"],["id","interceptors"],["src","/assets/Interceptors_1.png",1,"illustrative-image"],["rel","nofollow","target","_blank","href","https://en.wikipedia.org/wiki/Aspect-oriented_programming"],["appAnchor","","id","basics"],["routerLink","/guards"],["rel","nofollow","target","_blank","href","https://docs.nestjs.com/exception-filters#arguments-host"],["appAnchor","","id","execution-context"],["routerLink","/fundamentals/execution-context"],["appAnchor","","id","call-handler"],["rel","nofollow","target","_blank","href","https://github.com/ReactiveX/rxjs"],["rel","nofollow","target","_blank","href","https://en.wikipedia.org/wiki/Pointcut"],["appAnchor","","id","aspect-interception"],[1,"with-heading"],[1,"filename"],[1,"language-typescript"],[1,"info"],[1,"warning"],["appAnchor","","id","binding-interceptors"],["routerLink","/pipes"],["routerLink","/fundamentals/custom-providers"],["appAnchor","","id","response-mapping"],[1,"language-json"],["appAnchor","","id","exception-mapping"],["appAnchor","","id","stream-overriding"],["appAnchor","","id","more-operators"]],template:function(c,h){if(1&c&&(e.j41(0,"div",10,0)(2,"div",11)(3,"a",12),e.nrm(4,"i",13),e.k0s()(),e.j41(5,"h3",14),e.EFF(6,"Interceptors"),e.k0s(),e.j41(7,"p"),e.EFF(8,"An interceptor is a class annotated with the "),e.j41(9,"code"),e.EFF(10,"@Injectable()"),e.k0s(),e.EFF(11," decorator and implements the "),e.j41(12,"code"),e.EFF(13,"NestInterceptor"),e.k0s(),e.EFF(14," interface."),e.k0s(),e.j41(15,"figure"),e.nrm(16,"img",15),e.k0s(),e.j41(17,"p"),e.EFF(18,"Interceptors have a set of useful capabilities which are inspired by the "),e.j41(19,"a",16),e.EFF(20,"Aspect Oriented Programming"),e.k0s(),e.EFF(21," (AOP) technique. They make it possible to:"),e.k0s(),e.j41(22,"ul")(23,"li"),e.EFF(24,"bind extra logic before / after method execution"),e.k0s(),e.j41(25,"li"),e.EFF(26,"transform the result returned from a function"),e.k0s(),e.j41(27,"li"),e.EFF(28,"transform the exception thrown from a function"),e.k0s(),e.j41(29,"li"),e.EFF(30,"extend the basic function behavior"),e.k0s(),e.j41(31,"li"),e.EFF(32,"completely override a function depending on specific conditions (e.g., for caching purposes)"),e.k0s()(),e.j41(33,"h4",17)(34,"span"),e.EFF(35,"Basics"),e.k0s()(),e.j41(36,"p"),e.EFF(37,"Each interceptor implements the "),e.j41(38,"code"),e.EFF(39,"intercept()"),e.k0s(),e.EFF(40," method, which takes two arguments. The first one is the "),e.j41(41,"code"),e.EFF(42,"ExecutionContext"),e.k0s(),e.EFF(43," instance (exactly the same object as for "),e.j41(44,"a",18),e.EFF(45,"guards"),e.k0s(),e.EFF(46,"). The "),e.j41(47,"code"),e.EFF(48,"ExecutionContext"),e.k0s(),e.EFF(49," inherits from "),e.j41(50,"code"),e.EFF(51,"ArgumentsHost"),e.k0s(),e.EFF(52,". We saw "),e.j41(53,"code"),e.EFF(54,"ArgumentsHost"),e.k0s(),e.EFF(55," before in the exception filters chapter. There, we saw that it's a wrapper around arguments that have been passed to the original handler, and contains different arguments arrays based on the type of the application. You can refer back to the "),e.j41(56,"a",19),e.EFF(57,"exception filters"),e.k0s(),e.EFF(58," for more on this topic."),e.k0s(),e.j41(59,"h4",20)(60,"span"),e.EFF(61,"Execution context"),e.k0s()(),e.j41(62,"p"),e.EFF(63,"By extending "),e.j41(64,"code"),e.EFF(65,"ArgumentsHost"),e.k0s(),e.EFF(66,", "),e.j41(67,"code"),e.EFF(68,"ExecutionContext"),e.k0s(),e.EFF(69," also adds several new helper methods that provide additional details about the current execution process. These details can be helpful in building more generic interceptors that can work across a broad set of controllers, methods, and execution contexts. Learn more about "),e.j41(70,"code"),e.EFF(71,"ExecutionContext"),e.k0s(),e.j41(72,"a",21),e.EFF(73,"here"),e.k0s(),e.EFF(74,"."),e.k0s(),e.j41(75,"h4",22)(76,"span"),e.EFF(77,"Call handler"),e.k0s()(),e.j41(78,"p"),e.EFF(79,"The second argument is a "),e.j41(80,"code"),e.EFF(81,"CallHandler"),e.k0s(),e.EFF(82,". The "),e.j41(83,"code"),e.EFF(84,"CallHandler"),e.k0s(),e.EFF(85," interface implements the "),e.j41(86,"code"),e.EFF(87,"handle()"),e.k0s(),e.EFF(88," method, which you can use to invoke the route handler method at some point in your interceptor. If you don't call the "),e.j41(89,"code"),e.EFF(90,"handle()"),e.k0s(),e.EFF(91," method in your implementation of the "),e.j41(92,"code"),e.EFF(93,"intercept()"),e.k0s(),e.EFF(94," method, the route handler method won't be executed at all."),e.k0s(),e.j41(95,"p"),e.EFF(96,"This approach means that the "),e.j41(97,"code"),e.EFF(98,"intercept()"),e.k0s(),e.EFF(99," method effectively "),e.j41(100,"strong"),e.EFF(101,"wraps"),e.k0s(),e.EFF(102," the request/response stream. As a result, you may implement custom logic "),e.j41(103,"strong"),e.EFF(104,"both before and after"),e.k0s(),e.EFF(105," the execution of the final route handler. It's clear that you can write code in your "),e.j41(106,"code"),e.EFF(107,"intercept()"),e.k0s(),e.EFF(108," method that executes "),e.j41(109,"strong"),e.EFF(110,"before"),e.k0s(),e.EFF(111," calling "),e.j41(112,"code"),e.EFF(113,"handle()"),e.k0s(),e.EFF(114,", but how do you affect what happens afterward? Because the "),e.j41(115,"code"),e.EFF(116,"handle()"),e.k0s(),e.EFF(117," method returns an "),e.j41(118,"code"),e.EFF(119,"Observable"),e.k0s(),e.EFF(120,", we can use powerful "),e.j41(121,"a",23),e.EFF(122,"RxJS"),e.k0s(),e.EFF(123," operators to further manipulate the response. Using Aspect Oriented Programming terminology, the invocation of the route handler (i.e., calling "),e.j41(124,"code"),e.EFF(125,"handle()"),e.k0s(),e.EFF(126,") is called a "),e.j41(127,"a",24),e.EFF(128,"Pointcut"),e.k0s(),e.EFF(129,", indicating that it's the point at which our additional logic is inserted."),e.k0s(),e.j41(130,"p"),e.EFF(131,"Consider, for example, an incoming "),e.j41(132,"code"),e.EFF(133,"POST /cats"),e.k0s(),e.EFF(134," request. This request is destined for the "),e.j41(135,"code"),e.EFF(136,"create()"),e.k0s(),e.EFF(137," handler defined inside the "),e.j41(138,"code"),e.EFF(139,"CatsController"),e.k0s(),e.EFF(140,". If an interceptor which does not call the "),e.j41(141,"code"),e.EFF(142,"handle()"),e.k0s(),e.EFF(143," method is called anywhere along the way, the "),e.j41(144,"code"),e.EFF(145,"create()"),e.k0s(),e.EFF(146," method won't be executed. Once "),e.j41(147,"code"),e.EFF(148,"handle()"),e.k0s(),e.EFF(149," is called (and its "),e.j41(150,"code"),e.EFF(151,"Observable"),e.k0s(),e.EFF(152," has been returned), the "),e.j41(153,"code"),e.EFF(154,"create()"),e.k0s(),e.EFF(155," handler will be triggered. And once the response stream is received via the "),e.j41(156,"code"),e.EFF(157,"Observable"),e.k0s(),e.EFF(158,", additional operations can be performed on the stream, and a final result returned to the caller."),e.k0s(),e.j41(159,"p"),e.nrm(160,"app-banner-devtools"),e.k0s(),e.j41(161,"h4",25)(162,"span"),e.EFF(163,"Aspect interception"),e.k0s()(),e.j41(164,"p"),e.EFF(165,"The first use case we'll look at is to use an interceptor to log user interaction (e.g., storing user calls, asynchronously dispatching events or calculating a timestamp). We show a simple "),e.j41(166,"code"),e.EFF(167,"LoggingInterceptor"),e.k0s(),e.EFF(168," below:"),e.k0s(),e.j41(169,"app-copy-button",26)(170,"span",27),e.EFF(171),e.nI1(172,"extension"),e.nrm(173,"app-tabs",null,1),e.k0s(),e.j41(175,"pre")(176,"code",28),e.EFF(177,"\nimport { Injectable, NestInterceptor, ExecutionContext, CallHandler } from '@nestjs/common';\nimport { Observable } from 'rxjs';\nimport { tap } from 'rxjs/operators';\n\n@Injectable()\nexport class LoggingInterceptor implements NestInterceptor {\n  intercept(context: ExecutionContext, next: CallHandler): Observable<any> {\n    console.log('Before...');\n\n    const now = Date.now();\n    return next\n      .handle()\n      .pipe(\n        tap(() => console.log(`After... ${Date.now() - now}ms`)),\n      );\n  }\n}\n"),e.k0s()(),e.j41(178,"pre")(179,"code",28),e.EFF(180,"\nimport { Injectable } from '@nestjs/common';\nimport { Observable } from 'rxjs';\nimport { tap } from 'rxjs/operators';\n\n@Injectable()\nexport class LoggingInterceptor {\n  intercept(context, next) {\n    console.log('Before...');\n\n    const now = Date.now();\n    return next\n      .handle()\n      .pipe(\n        tap(() => console.log(`After... ${Date.now() - now}ms`)),\n      );\n  }\n}\n"),e.k0s()()(),e.j41(181,"blockquote",29)(182,"strong"),e.EFF(183,"Hint"),e.k0s(),e.EFF(184," The "),e.j41(185,"code"),e.EFF(186,"NestInterceptor<T, R>"),e.k0s(),e.EFF(187," is a generic interface in which "),e.j41(188,"code"),e.EFF(189,"T"),e.k0s(),e.EFF(190," indicates the type of an "),e.j41(191,"code"),e.EFF(192,"Observable<T>"),e.k0s(),e.EFF(193," (supporting the response stream), and "),e.j41(194,"code"),e.EFF(195,"R"),e.k0s(),e.EFF(196," is the type of the value wrapped by "),e.j41(197,"code"),e.EFF(198,"Observable<R>"),e.k0s(),e.EFF(199,".\n"),e.k0s(),e.j41(200,"blockquote",30)(201,"strong"),e.EFF(202,"Notice"),e.k0s(),e.EFF(203," Interceptors, like controllers, providers, guards, and so on, can "),e.j41(204,"strong"),e.EFF(205,"inject dependencies"),e.k0s(),e.EFF(206," through their "),e.j41(207,"code"),e.EFF(208,"constructor"),e.k0s(),e.EFF(209,".\n"),e.k0s(),e.j41(210,"p"),e.EFF(211,"Since "),e.j41(212,"code"),e.EFF(213,"handle()"),e.k0s(),e.EFF(214," returns an RxJS "),e.j41(215,"code"),e.EFF(216,"Observable"),e.k0s(),e.EFF(217,", we have a wide choice of operators we can use to manipulate the stream. In the example above, we used the "),e.j41(218,"code"),e.EFF(219,"tap()"),e.k0s(),e.EFF(220," operator, which invokes our anonymous logging function upon graceful or exceptional termination of the observable stream, but doesn't otherwise interfere with the response cycle."),e.k0s(),e.j41(221,"h4",31)(222,"span"),e.EFF(223,"Binding interceptors"),e.k0s()(),e.j41(224,"p"),e.EFF(225,"In order to set up the interceptor, we use the "),e.j41(226,"code"),e.EFF(227,"@UseInterceptors()"),e.k0s(),e.EFF(228," decorator imported from the "),e.j41(229,"code"),e.EFF(230,"@nestjs/common"),e.k0s(),e.EFF(231," package. Like "),e.j41(232,"a",32),e.EFF(233,"pipes"),e.k0s(),e.EFF(234," and "),e.j41(235,"a",18),e.EFF(236,"guards"),e.k0s(),e.EFF(237,", interceptors can be controller-scoped, method-scoped, or global-scoped."),e.k0s(),e.j41(238,"app-copy-button",26)(239,"span",27),e.EFF(240),e.nI1(241,"extension"),e.nrm(242,"app-tabs",null,2),e.k0s(),e.j41(244,"pre")(245,"code",28),e.EFF(246,"\n@UseInterceptors(LoggingInterceptor)\nexport class CatsController {}\n"),e.k0s()()(),e.j41(247,"blockquote",29)(248,"strong"),e.EFF(249,"Hint"),e.k0s(),e.EFF(250," The "),e.j41(251,"code"),e.EFF(252,"@UseInterceptors()"),e.k0s(),e.EFF(253," decorator is imported from the "),e.j41(254,"code"),e.EFF(255,"@nestjs/common"),e.k0s(),e.EFF(256," package.\n"),e.k0s(),e.j41(257,"p"),e.EFF(258,"Using the above construction, each route handler defined in "),e.j41(259,"code"),e.EFF(260,"CatsController"),e.k0s(),e.EFF(261," will use "),e.j41(262,"code"),e.EFF(263,"LoggingInterceptor"),e.k0s(),e.EFF(264,". When someone calls the "),e.j41(265,"code"),e.EFF(266,"GET /cats"),e.k0s(),e.EFF(267," endpoint, you'll see the following output in your standard output:"),e.k0s(),e.j41(268,"app-copy-button")(269,"pre")(270,"code",28),e.EFF(271,"\nBefore...\nAfter... 1ms\n"),e.k0s()()(),e.j41(272,"p"),e.EFF(273,"Note that we passed the "),e.j41(274,"code"),e.EFF(275,"LoggingInterceptor"),e.k0s(),e.EFF(276," class (instead of an instance), leaving responsibility for instantiation to the framework and enabling dependency injection. As with pipes, guards, and exception filters, we can also pass an in-place instance:"),e.k0s(),e.j41(277,"app-copy-button",26)(278,"span",27),e.EFF(279),e.nI1(280,"extension"),e.nrm(281,"app-tabs",null,3),e.k0s(),e.j41(283,"pre")(284,"code",28),e.EFF(285,"\n@UseInterceptors(new LoggingInterceptor())\nexport class CatsController {}\n"),e.k0s()()(),e.j41(286,"p"),e.EFF(287,"As mentioned, the construction above attaches the interceptor to every handler declared by this controller. If we want to restrict the interceptor's scope to a single method, we simply apply the decorator at the "),e.j41(288,"strong"),e.EFF(289,"method level"),e.k0s(),e.EFF(290,"."),e.k0s(),e.j41(291,"p"),e.EFF(292,"In order to set up a global interceptor, we use the "),e.j41(293,"code"),e.EFF(294,"useGlobalInterceptors()"),e.k0s(),e.EFF(295," method of the Nest application instance:"),e.k0s(),e.j41(296,"app-copy-button")(297,"pre")(298,"code",28),e.EFF(299,"\nconst app = await NestFactory.create(AppModule);\napp.useGlobalInterceptors(new LoggingInterceptor());\n"),e.k0s()()(),e.j41(300,"p"),e.EFF(301,"Global interceptors are used across the whole application, for every controller and every route handler. In terms of dependency injection, global interceptors registered from outside of any module (with "),e.j41(302,"code"),e.EFF(303,"useGlobalInterceptors()"),e.k0s(),e.EFF(304,", as in the example above) cannot inject dependencies since this is done outside the context of any module. In order to solve this issue, you can set up an interceptor "),e.j41(305,"strong"),e.EFF(306,"directly from any module"),e.k0s(),e.EFF(307," using the following construction:"),e.k0s(),e.j41(308,"app-copy-button",26)(309,"span",27),e.EFF(310),e.nI1(311,"extension"),e.nrm(312,"app-tabs",null,4),e.k0s(),e.j41(314,"pre")(315,"code",28),e.EFF(316,"\nimport { Module } from '@nestjs/common';\nimport { APP_INTERCEPTOR } from '@nestjs/core';\n\n@Module({\n  providers: [\n    {\n      provide: APP_INTERCEPTOR,\n      useClass: LoggingInterceptor,\n    },\n  ],\n})\nexport class AppModule {}\n"),e.k0s()()(),e.j41(317,"blockquote",29)(318,"strong"),e.EFF(319,"Hint"),e.k0s(),e.EFF(320," When using this approach to perform dependency injection for the interceptor, note that regardless of the\nmodule where this construction is employed, the interceptor is, in fact, global. Where should this be done? Choose the module\nwhere the interceptor ("),e.j41(321,"code"),e.EFF(322,"LoggingInterceptor"),e.k0s(),e.EFF(323," in the example above) is defined. Also, "),e.j41(324,"code"),e.EFF(325,"useClass"),e.k0s(),e.EFF(326," is not the only way of dealing with custom provider registration. Learn more "),e.j41(327,"a",33),e.EFF(328,"here"),e.k0s(),e.EFF(329,".\n"),e.k0s(),e.j41(330,"h4",34)(331,"span"),e.EFF(332,"Response mapping"),e.k0s()(),e.j41(333,"p"),e.EFF(334,"We already know that "),e.j41(335,"code"),e.EFF(336,"handle()"),e.k0s(),e.EFF(337," returns an "),e.j41(338,"code"),e.EFF(339,"Observable"),e.k0s(),e.EFF(340,". The stream contains the value "),e.j41(341,"strong"),e.EFF(342,"returned"),e.k0s(),e.EFF(343," from the route handler, and thus we can easily mutate it using RxJS's "),e.j41(344,"code"),e.EFF(345,"map()"),e.k0s(),e.EFF(346," operator."),e.k0s(),e.j41(347,"blockquote",30)(348,"strong"),e.EFF(349,"Warning"),e.k0s(),e.EFF(350," The response mapping feature doesn't work with the library-specific response strategy (using the "),e.j41(351,"code"),e.EFF(352,"@Res()"),e.k0s(),e.EFF(353," object directly is forbidden).\n"),e.k0s(),e.j41(354,"p"),e.EFF(355,"Let's create the "),e.j41(356,"code"),e.EFF(357,"TransformInterceptor"),e.k0s(),e.EFF(358,", which will modify each response in a trivial way to demonstrate the process. It will use RxJS's "),e.j41(359,"code"),e.EFF(360,"map()"),e.k0s(),e.EFF(361," operator to assign the response object to the "),e.j41(362,"code"),e.EFF(363,"data"),e.k0s(),e.EFF(364," property of a newly created object, returning the new object to the client."),e.k0s(),e.j41(365,"app-copy-button",26)(366,"span",27),e.EFF(367),e.nI1(368,"extension"),e.nrm(369,"app-tabs",null,5),e.k0s(),e.j41(371,"pre")(372,"code",28),e.EFF(373,"\nimport { Injectable, NestInterceptor, ExecutionContext, CallHandler } from '@nestjs/common';\nimport { Observable } from 'rxjs';\nimport { map } from 'rxjs/operators';\n\nexport interface Response<T> {\n  data: T;\n}\n\n@Injectable()\nexport class TransformInterceptor<T> implements NestInterceptor<T, Response<T>> {\n  intercept(context: ExecutionContext, next: CallHandler): Observable<Response<T>> {\n    return next.handle().pipe(map(data => ({ data })));\n  }\n}\n"),e.k0s()(),e.j41(374,"pre")(375,"code",28),e.EFF(376,"\nimport { Injectable } from '@nestjs/common';\nimport { map } from 'rxjs/operators';\n\n@Injectable()\nexport class TransformInterceptor {\n  intercept(context, next) {\n    return next.handle().pipe(map(data => ({ data })));\n  }\n}\n"),e.k0s()()(),e.j41(377,"blockquote",29)(378,"strong"),e.EFF(379,"Hint"),e.k0s(),e.EFF(380," Nest interceptors work with both synchronous and asynchronous "),e.j41(381,"code"),e.EFF(382,"intercept()"),e.k0s(),e.EFF(383," methods. You can simply switch the method to "),e.j41(384,"code"),e.EFF(385,"async"),e.k0s(),e.EFF(386," if necessary.\n"),e.k0s(),e.j41(387,"p"),e.EFF(388,"With the above construction, when someone calls the "),e.j41(389,"code"),e.EFF(390,"GET /cats"),e.k0s(),e.EFF(391," endpoint, the response would look like the following (assuming that route handler returns an empty array "),e.j41(392,"code"),e.EFF(393,"[]"),e.k0s(),e.EFF(394,"):"),e.k0s(),e.j41(395,"pre")(396,"code",35),e.EFF(397,'\n{\n  "data": []\n}\n'),e.k0s()(),e.j41(398,"p"),e.EFF(399,"Interceptors have great value in creating re-usable solutions to requirements that occur across an entire application.\nFor example, imagine we need to transform each occurrence of a "),e.j41(400,"code"),e.EFF(401,"null"),e.k0s(),e.EFF(402," value to an empty string "),e.j41(403,"code"),e.EFF(404,"''"),e.k0s(),e.EFF(405,". We can do it using one line of code and bind the interceptor globally so that it will automatically be used by each registered handler."),e.k0s(),e.j41(406,"app-copy-button",26)(407,"span",27),e.nrm(408,"app-tabs",null,6),e.k0s(),e.j41(410,"pre")(411,"code",28),e.EFF(412,"\nimport { Injectable, NestInterceptor, ExecutionContext, CallHandler } from '@nestjs/common';\nimport { Observable } from 'rxjs';\nimport { map } from 'rxjs/operators';\n\n@Injectable()\nexport class ExcludeNullInterceptor implements NestInterceptor {\n  intercept(context: ExecutionContext, next: CallHandler): Observable<any> {\n    return next\n      .handle()\n      .pipe(map(value => value === null ? '' : value ));\n  }\n}\n"),e.k0s()(),e.j41(413,"pre")(414,"code",28),e.EFF(415,"\nimport { Injectable } from '@nestjs/common';\nimport { map } from 'rxjs/operators';\n\n@Injectable()\nexport class ExcludeNullInterceptor {\n  intercept(context, next) {\n    return next\n      .handle()\n      .pipe(map(value => value === null ? '' : value ));\n  }\n}\n"),e.k0s()()(),e.j41(416,"h4",36)(417,"span"),e.EFF(418,"Exception mapping"),e.k0s()(),e.j41(419,"p"),e.EFF(420,"Another interesting use-case is to take advantage of RxJS's "),e.j41(421,"code"),e.EFF(422,"catchError()"),e.k0s(),e.EFF(423," operator to override thrown exceptions:"),e.k0s(),e.j41(424,"app-copy-button",26)(425,"span",27),e.EFF(426),e.nI1(427,"extension"),e.nrm(428,"app-tabs",null,7),e.k0s(),e.j41(430,"pre")(431,"code",28),e.EFF(432,"\nimport {\n  Injectable,\n  NestInterceptor,\n  ExecutionContext,\n  BadGatewayException,\n  CallHandler,\n} from '@nestjs/common';\nimport { Observable, throwError } from 'rxjs';\nimport { catchError } from 'rxjs/operators';\n\n@Injectable()\nexport class ErrorsInterceptor implements NestInterceptor {\n  intercept(context: ExecutionContext, next: CallHandler): Observable<any> {\n    return next\n      .handle()\n      .pipe(\n        catchError(err => throwError(() => new BadGatewayException())),\n      );\n  }\n}\n"),e.k0s()(),e.j41(433,"pre")(434,"code",28),e.EFF(435,"\nimport { Injectable, BadGatewayException } from '@nestjs/common';\nimport { throwError } from 'rxjs';\nimport { catchError } from 'rxjs/operators';\n\n@Injectable()\nexport class ErrorsInterceptor {\n  intercept(context, next) {\n    return next\n      .handle()\n      .pipe(\n        catchError(err => throwError(() => new BadGatewayException())),\n      );\n  }\n}\n"),e.k0s()()(),e.j41(436,"h4",37)(437,"span"),e.EFF(438,"Stream overriding"),e.k0s()(),e.j41(439,"p"),e.EFF(440,"There are several reasons why we may sometimes want to completely prevent calling the handler and return a different value instead. An obvious example is to implement a cache to improve response time. Let's take a look at a simple "),e.j41(441,"strong"),e.EFF(442,"cache interceptor"),e.k0s(),e.EFF(443," that returns its response from a cache. In a realistic example, we'd want to consider other factors like TTL, cache invalidation, cache size, etc., but that's beyond the scope of this discussion. Here we'll provide a basic example that demonstrates the main concept."),e.k0s(),e.j41(444,"app-copy-button",26)(445,"span",27),e.EFF(446),e.nI1(447,"extension"),e.nrm(448,"app-tabs",null,8),e.k0s(),e.j41(450,"pre")(451,"code",28),e.EFF(452,"\nimport { Injectable, NestInterceptor, ExecutionContext, CallHandler } from '@nestjs/common';\nimport { Observable, of } from 'rxjs';\n\n@Injectable()\nexport class CacheInterceptor implements NestInterceptor {\n  intercept(context: ExecutionContext, next: CallHandler): Observable<any> {\n    const isCached = true;\n    if (isCached) {\n      return of([]);\n    }\n    return next.handle();\n  }\n}\n"),e.k0s()(),e.j41(453,"pre")(454,"code",28),e.EFF(455,"\nimport { Injectable } from '@nestjs/common';\nimport { of } from 'rxjs';\n\n@Injectable()\nexport class CacheInterceptor {\n  intercept(context, next) {\n    const isCached = true;\n    if (isCached) {\n      return of([]);\n    }\n    return next.handle();\n  }\n}\n"),e.k0s()()(),e.j41(456,"p"),e.EFF(457,"Our "),e.j41(458,"code"),e.EFF(459,"CacheInterceptor"),e.k0s(),e.EFF(460," has a hardcoded "),e.j41(461,"code"),e.EFF(462,"isCached"),e.k0s(),e.EFF(463," variable and a hardcoded response "),e.j41(464,"code"),e.EFF(465,"[]"),e.k0s(),e.EFF(466," as well. The key point to note is that we return a new stream here, created by the RxJS "),e.j41(467,"code"),e.EFF(468,"of()"),e.k0s(),e.EFF(469," operator, therefore the route handler "),e.j41(470,"strong"),e.EFF(471,"won't be called"),e.k0s(),e.EFF(472," at all. When someone calls an endpoint that makes use of "),e.j41(473,"code"),e.EFF(474,"CacheInterceptor"),e.k0s(),e.EFF(475,", the response (a hardcoded, empty array) will be returned immediately. In order to create a generic solution, you can take advantage of "),e.j41(476,"code"),e.EFF(477,"Reflector"),e.k0s(),e.EFF(478," and create a custom decorator. The "),e.j41(479,"code"),e.EFF(480,"Reflector"),e.k0s(),e.EFF(481," is well described in the "),e.j41(482,"a",18),e.EFF(483,"guards"),e.k0s(),e.EFF(484," chapter."),e.k0s(),e.j41(485,"h4",38)(486,"span"),e.EFF(487,"More operators"),e.k0s()(),e.j41(488,"p"),e.EFF(489,"The possibility of manipulating the stream using RxJS operators gives us many capabilities. Let's consider another common use case. Imagine you would like to handle "),e.j41(490,"strong"),e.EFF(491,"timeouts"),e.k0s(),e.EFF(492," on route requests. When your endpoint doesn't return anything after a period of time, you want to terminate with an error response. The following construction enables this:"),e.k0s(),e.j41(493,"app-copy-button",26)(494,"span",27),e.EFF(495),e.nI1(496,"extension"),e.nrm(497,"app-tabs",null,9),e.k0s(),e.j41(499,"pre")(500,"code",28),e.EFF(501,"\nimport { Injectable, NestInterceptor, ExecutionContext, CallHandler, RequestTimeoutException } from '@nestjs/common';\nimport { Observable, throwError, TimeoutError } from 'rxjs';\nimport { catchError, timeout } from 'rxjs/operators';\n\n@Injectable()\nexport class TimeoutInterceptor implements NestInterceptor {\n  intercept(context: ExecutionContext, next: CallHandler): Observable<any> {\n    return next.handle().pipe(\n      timeout(5000),\n      catchError(err => {\n        if (err instanceof TimeoutError) {\n          return throwError(() => new RequestTimeoutException());\n        }\n        return throwError(() => err);\n      }),\n    );\n  };\n};\n"),e.k0s()(),e.j41(502,"pre")(503,"code",28),e.EFF(504,"\nimport { Injectable, RequestTimeoutException } from '@nestjs/common';\nimport { Observable, throwError, TimeoutError } from 'rxjs';\nimport { catchError, timeout } from 'rxjs/operators';\n\n@Injectable()\nexport class TimeoutInterceptor {\n  intercept(context, next) {\n    return next.handle().pipe(\n      timeout(5000),\n      catchError(err => {\n        if (err instanceof TimeoutError) {\n          return throwError(() => new RequestTimeoutException());\n        }\n        return throwError(() => err);\n      }),\n    );\n  };\n};\n"),e.k0s()()(),e.j41(505,"p"),e.EFF(506,"After 5 seconds, request processing will be canceled. You can also add custom logic before throwing "),e.j41(507,"code"),e.EFF(508,"RequestTimeoutException"),e.k0s(),e.EFF(509," (e.g. release resources)."),e.k0s()()),2&c){const b=e.sdS(174),M=e.sdS(243),u=e.sdS(282),m=e.sdS(313),p=e.sdS(370),F=e.sdS(409),_=e.sdS(429),S=e.sdS(449),x=e.sdS(498);e.R7$(171),e.SpI(" ",e.i5U(172,32,"logging.interceptor",b.isJsActive),"\n"),e.R7$(4),e.AVh("hide",b.isJsActive),e.R7$(3),e.AVh("hide",!b.isJsActive),e.R7$(62),e.SpI(" ",e.i5U(241,35,"cats.controller",M.isJsActive),"\n"),e.R7$(39),e.SpI(" ",e.i5U(280,38,"cats.controller",u.isJsActive),"\n"),e.R7$(31),e.SpI(" ",e.i5U(311,41,"app.module",m.isJsActive),"\n"),e.R7$(57),e.SpI(" ",e.i5U(368,44,"transform.interceptor",p.isJsActive),"\n"),e.R7$(4),e.AVh("hide",p.isJsActive),e.R7$(3),e.AVh("hide",!p.isJsActive),e.R7$(36),e.AVh("hide",F.isJsActive),e.R7$(3),e.AVh("hide",!F.isJsActive),e.R7$(13),e.SpI(" ",e.i5U(427,47,"errors.interceptor",_.isJsActive),"\n"),e.R7$(4),e.AVh("hide",_.isJsActive),e.R7$(3),e.AVh("hide",!_.isJsActive),e.R7$(13),e.SpI(" ",e.i5U(447,50,"cache.interceptor",S.isJsActive),"\n"),e.R7$(4),e.AVh("hide",S.isJsActive),e.R7$(3),e.AVh("hide",!S.isJsActive),e.R7$(42),e.SpI(" ",e.i5U(496,53,"timeout.interceptor",x.isJsActive),"\n"),e.R7$(4),e.AVh("hide",x.isJsActive),e.R7$(3),e.AVh("hide",!x.isJsActive)}},dependencies:[yt.Wk,Wn.O,Ln.a,mo._,Qn.z,Zn.M],encapsulation:2,changeDetection:0})}return v})(),data:{title:"Interceptors"}},{path:"custom-decorators",component:Zr,data:{title:"Custom decorators"}},{path:"standalone-applications",component:pn,data:{title:"Standalone applications"}},{path:"application-context",redirectTo:"standalone-applications"},{path:"discover/companies",component:Rs,data:{title:"Discover - Who is using Nest?"}},{path:"migration-guide",component:(()=>{class v extends Xe.y{static \u0275fac=(()=>{let a;return function(h){return(a||(a=e.xGo(v)))(h||v)}})();static \u0275cmp=e.VBU({type:v,selectors:[["app-migration"]],features:[e.Vt3],decls:110,vars:0,consts:[["contentReference",""],[1,"content"],[1,"github-links"],["href","https://github.com/nestjs/docs.nestjs.com/edit/master/content/migration.md","aria-label","Suggest Edits","title","Suggest Edits"],[1,"fas","fa-edit"],["id","migration-guide"],["rel","nofollow","target","_blank","href","https://trilon.io/blog/nestjs-10-is-now-available"],["rel","nofollow","target","_blank","href","https://github.com/nestjs/nest/releases/tag/v10.0.0"],["appAnchor","","id","upgrading-packages"],["rel","nofollow","target","_blank","href","https://npmjs.com/package/npm-check-updates"],["appAnchor","","id","cache-module"],["rel","nofollow","target","_blank","href","https://docs.nestjs.com/techniques/caching"],["appAnchor","","id","log-levels"],["rel","nofollow","target","_blank","href","https://github.com/nestjs/nest/pull/11036/files"],["appAnchor","","id","deprecations"],["appAnchor","","id","cli-plugins-and-typescript--48"],["rel","nofollow","target","_blank","href","https://www.typescriptlang.org/docs/handbook/release-notes/typescript-4-8.html#decorators-are-placed-on-modifiers-on-typescripts-syntax-trees"],["appAnchor","","id","dropping-support-for-nodejs-v12"],["rel","nofollow","target","_blank","href","https://twitter.com/nodejs/status/1524081123579596800"]],template:function(c,h){1&c&&(e.j41(0,"div",1,0)(2,"div",2)(3,"a",3),e.nrm(4,"i",4),e.k0s()(),e.j41(5,"h3",5),e.EFF(6,"Migration guide"),e.k0s(),e.j41(7,"p"),e.EFF(8,"This article provides a set of guidelines for migrating from Nest version 9 to version 10.\nTo learn more about the new features we've added in v10, check out this "),e.j41(9,"a",6),e.EFF(10,"article"),e.k0s(),e.EFF(11,".\nThere were some very minor breaking changes that shouldn't affect most users - you can find the full list of them "),e.j41(12,"a",7),e.EFF(13,"here"),e.k0s(),e.EFF(14,"."),e.k0s(),e.j41(15,"h4",8)(16,"span"),e.EFF(17,"Upgrading packages"),e.k0s()(),e.j41(18,"p"),e.EFF(19,"While you can upgrade your packages manually, we recommend using "),e.j41(20,"a",9),e.EFF(21,"ncu (npm check updates)"),e.k0s(),e.EFF(22,"."),e.k0s(),e.j41(23,"h4",10)(24,"span"),e.EFF(25,"Cache module"),e.k0s()(),e.j41(26,"p"),e.EFF(27,"The "),e.j41(28,"code"),e.EFF(29,"CacheModule"),e.k0s(),e.EFF(30," has been removed from the "),e.j41(31,"code"),e.EFF(32,"@nestjs/common"),e.k0s(),e.EFF(33," package and is now available as a standalone package - "),e.j41(34,"code"),e.EFF(35,"@nestjs/cache-manager"),e.k0s(),e.EFF(36,". This change was made to avoid unnecessary dependencies in the "),e.j41(37,"code"),e.EFF(38,"@nestjs/common"),e.k0s(),e.EFF(39," package. You can learn more about the "),e.j41(40,"code"),e.EFF(41,"@nestjs/cache-manager"),e.k0s(),e.EFF(42," package "),e.j41(43,"a",11),e.EFF(44,"here"),e.k0s(),e.EFF(45,"."),e.k0s(),e.j41(46,"h4",12)(47,"span"),e.EFF(48,"Log levels"),e.k0s()(),e.j41(49,"p"),e.EFF(50,"Swapped the values for the "),e.j41(51,"code"),e.EFF(52,"verbose"),e.k0s(),e.EFF(53," and "),e.j41(54,"code"),e.EFF(55,"debug"),e.k0s(),e.EFF(56," log levels (see "),e.j41(57,"a",13)(58,"a",13),e.EFF(59,"PR"),e.k0s()(),e.EFF(60,"). The "),e.j41(61,"code"),e.EFF(62,"debug"),e.k0s(),e.EFF(63," level is now set to "),e.j41(64,"code"),e.EFF(65,"1"),e.k0s(),e.EFF(66,", while "),e.j41(67,"code"),e.EFF(68,"verbose"),e.k0s(),e.EFF(69," is set to "),e.j41(70,"code"),e.EFF(71,"0"),e.k0s(),e.EFF(72,"."),e.k0s(),e.j41(73,"h4",14)(74,"span"),e.EFF(75,"Deprecations"),e.k0s()(),e.j41(76,"p"),e.EFF(77,"All deprecated methods & modules have been removed."),e.k0s(),e.j41(78,"h4",15)(79,"span"),e.EFF(80,"CLI Plugins and TypeScript >= 4.8"),e.k0s()(),e.j41(81,"p"),e.EFF(82,"NestJS CLI Plugins (available for "),e.j41(83,"code"),e.EFF(84,"@nestjs/swagger"),e.k0s(),e.EFF(85," and "),e.j41(86,"code"),e.EFF(87,"@nestjs/graphql"),e.k0s(),e.EFF(88," packages) will now require TypeScript >= v4.8 and so older versions of TypeScript will no longer be supported. The reason for this change is that in "),e.j41(89,"a",16),e.EFF(90,"TypeScript v4.8 introduced several breaking changes"),e.k0s(),e.EFF(91," in its Abstract Syntax Tree (AST) which we use to auto-generate OpenAPI and GraphQL schemas."),e.k0s(),e.j41(92,"h4",17)(93,"span"),e.EFF(94,"Dropping support for Node.js v12"),e.k0s()(),e.j41(95,"p"),e.EFF(96,"As of NestJS 10, we no longer support Node.js v12, as "),e.j41(97,"a",18),e.EFF(98,"v12 went EOL"),e.k0s(),e.EFF(99," on April 30, 2022. This means that NestJS 10 requires Node.js v16 or higher. This decision was made to allow us to finally set target to "),e.j41(100,"code"),e.EFF(101,"ES2021"),e.k0s(),e.EFF(102," in our TypeScript configuration, instead of shipping polyfills as we did in the past."),e.k0s(),e.j41(103,"p"),e.EFF(104,"From now on, every official NestJS package will be compiled to "),e.j41(105,"code"),e.EFF(106,"ES2021"),e.k0s(),e.EFF(107," by default, which should result in a smaller library size and sometimes even (slightly) better performance."),e.k0s(),e.j41(108,"p"),e.EFF(109,"We also strongly recommend using the latest LTS version."),e.k0s()())},dependencies:[Ln.a],encapsulation:2,changeDetection:0})}return v})(),data:{title:"Migration guide - FAQ"}},{path:"deployment",component:(()=>{class v extends Xe.y{static \u0275fac=(()=>{let a;return function(h){return(a||(a=e.xGo(v)))(h||v)}})();static \u0275cmp=e.VBU({type:v,selectors:[["app-deployment"]],features:[e.Vt3],decls:522,vars:0,consts:[["contentReference",""],[1,"content"],[1,"github-links"],["href","https://github.com/nestjs/docs.nestjs.com/edit/master/content/deployment.md","aria-label","Suggest Edits","title","Suggest Edits"],[1,"fas","fa-edit"],["id","deployment"],["appAnchor","","id","prerequisites"],[1,"info"],["rel","nofollow","target","_blank","href","https://mau.nestjs.com/","title","Deploy Nest"],[1,"language-bash"],["appAnchor","","id","building-your-application"],["appAnchor","","id","production-environment"],["rel","nofollow","target","_blank","href","https://aws.amazon.com/"],["rel","nofollow","target","_blank","href","https://azure.microsoft.com/"],["rel","nofollow","target","_blank","href","https://cloud.google.com/"],["rel","nofollow","target","_blank","href","https://www.hetzner.com/"],["routerLink","todo"],["appAnchor","","id","node_envproduction"],["appAnchor","","id","running-your-application"],["appAnchor","","id","health-checks"],["routerLink","/recipes/terminus"],["appAnchor","","id","logging"],["appAnchor","","id","scaling-up-or-out"],["rel","nofollow","target","_blank","href","https://www.docker.com/"],["rel","nofollow","target","_blank","href","https://kubernetes.io/"],["rel","nofollow","target","_blank","href","https://aws.amazon.com/elasticloadbalancing/"],["rel","nofollow","target","_blank","href","https://azure.microsoft.com/en-us/services/load-balancer/"],["appAnchor","","id","some-other-tips"],["rel","nofollow","target","_blank","href","https://prometheus.io/"],["rel","nofollow","target","_blank","href","https://newrelic.com/"],["rel","nofollow","target","_blank","href","https://aws.amazon.com/cloudwatch/"],["routerLink","/security/rate-limiting"],["rel","nofollow","target","_blank","href","https://aws.amazon.com/waf/"],["appAnchor","","id","dockerizing-your-application"],["rel","nofollow","target","_blank","href","https://www.docker.com/get-started"],["rel","nofollow","target","_blank","href","https://hub.docker.com/_/node"],["rel","nofollow","target","_blank","href","https://hub.docker.com/"],["rel","nofollow","target","_blank","href","https://aws.amazon.com/ecr/"],["rel","nofollow","target","_blank","href","https://cloud.google.com/container-registry"],["appAnchor","","id","easy-deployment-with-mau"],["src","/assets/mau-metrics.png"]],template:function(c,h){1&c&&(e.j41(0,"div",1,0)(2,"div",2)(3,"a",3),e.nrm(4,"i",4),e.k0s()(),e.j41(5,"h3",5),e.EFF(6,"Deployment"),e.k0s(),e.j41(7,"p"),e.EFF(8,"When you're ready to deploy your NestJS application to production, there are key steps you can take to ensure it runs as efficiently as possible. In this guide, we'll explore essential tips and best practices to help you deploy your NestJS application successfully."),e.k0s(),e.j41(9,"h4",6)(10,"span"),e.EFF(11,"Prerequisites"),e.k0s()(),e.j41(12,"p"),e.EFF(13,"Before deploying your NestJS application, ensure you have:"),e.k0s(),e.j41(14,"ul")(15,"li"),e.EFF(16,"A working NestJS application that is ready for deployment."),e.k0s(),e.j41(17,"li"),e.EFF(18,"Access to a deployment platform or server where you can host your application."),e.k0s(),e.j41(19,"li"),e.EFF(20,"All necessary environment variables set up for your application."),e.k0s(),e.j41(21,"li"),e.EFF(22,"Any required services, like a database, set up and ready to go."),e.k0s(),e.j41(23,"li"),e.EFF(24,"At least an LTS version of Node.js installed on your deployment platform."),e.k0s()(),e.j41(25,"blockquote",7)(26,"strong"),e.EFF(27,"Hint"),e.k0s(),e.EFF(28," If you are looking for a cloud-based platform to deploy your NestJS application, check out "),e.j41(29,"a",8),e.EFF(30,"Mau"),e.k0s(),e.EFF(31,", our official platform for deploying NestJS applications on AWS. With Mau, deploying your NestJS application is as simple as clicking a few buttons and running a single command:\n"),e.j41(32,"pre")(33,"code",9),e.EFF(34,"\n$ npm install -g @nestjs/mau\n$ mau deploy\n"),e.k0s()(),e.j41(35,"p"),e.EFF(36,"Once the deployment is complete, you'll have your NestJS application up and running on AWS in seconds!"),e.k0s()(),e.j41(37,"h4",10)(38,"span"),e.EFF(39,"Building your application"),e.k0s()(),e.j41(40,"p"),e.EFF(41,"To build your NestJS application, you need to compile your TypeScript code into JavaScript. This process generates a "),e.j41(42,"code"),e.EFF(43,"dist"),e.k0s(),e.EFF(44," directory containing the compiled files. You can build your application by running the following command:"),e.k0s(),e.j41(45,"pre")(46,"code",9),e.EFF(47,"\n$ npm run build\n"),e.k0s()(),e.j41(48,"p"),e.EFF(49,"This command typically runs the "),e.j41(50,"code"),e.EFF(51,"nest build"),e.k0s(),e.EFF(52," command under the hood, which is basically a wrapper around the TypeScript compiler with some additional features (assets copying, etc.). In case you have a custom build script, you can run it directly. Also, for NestJS CLI mono-repos, make sure to pass the name of the project to build as an argument ("),e.j41(53,"code"),e.EFF(54,"npm run build my-app"),e.k0s(),e.EFF(55,")."),e.k0s(),e.j41(56,"p"),e.EFF(57,"Upon successful compilation, you should see a "),e.j41(58,"code"),e.EFF(59,"dist"),e.k0s(),e.EFF(60," directory in your project root containing the compiled files, with the entry point being "),e.j41(61,"code"),e.EFF(62,"main.js"),e.k0s(),e.EFF(63,". If you have any "),e.j41(64,"code"),e.EFF(65,".ts"),e.k0s(),e.EFF(66," files located in the root directory of your project (and your "),e.j41(67,"code"),e.EFF(68,"tsconfig.json"),e.k0s(),e.EFF(69," configured to compile them), they will be copied to the "),e.j41(70,"code"),e.EFF(71,"dist"),e.k0s(),e.EFF(72," directory as well, modifying the directory structure a bit (instead of "),e.j41(73,"code"),e.EFF(74,"dist/main.js"),e.k0s(),e.EFF(75,", you will have "),e.j41(76,"code"),e.EFF(77,"dist/src/main.js"),e.k0s(),e.EFF(78," so keep that in mind when configuring your server)."),e.k0s(),e.j41(79,"h4",11)(80,"span"),e.EFF(81,"Production environment"),e.k0s()(),e.j41(82,"p"),e.EFF(83,"Your production environment is where your application will be accessible to external users. This could be a cloud-based platform like "),e.j41(84,"a",12),e.EFF(85,"AWS"),e.k0s(),e.EFF(86," (with EC2, ECS, etc.), "),e.j41(87,"a",13),e.EFF(88,"Azure"),e.k0s(),e.EFF(89,", or "),e.j41(90,"a",14),e.EFF(91,"Google Cloud"),e.k0s(),e.EFF(92,", or even a dedicated server you manage, such as "),e.j41(93,"a",15),e.EFF(94,"Hetzner"),e.k0s(),e.EFF(95,"."),e.k0s(),e.j41(96,"p"),e.EFF(97,"To simplify the deployment process and avoid manual setup, you can use a service like "),e.j41(98,"a",8),e.EFF(99,"Mau"),e.k0s(),e.EFF(100,", our official platform for deploying NestJS applications on AWS. For more details, check out "),e.j41(101,"a",16),e.EFF(102,"this section"),e.k0s(),e.EFF(103,"."),e.k0s(),e.j41(104,"p"),e.EFF(105,"Some of the pros of using a "),e.j41(106,"strong"),e.EFF(107,"cloud-based platform"),e.k0s(),e.EFF(108," or service like "),e.j41(109,"a",8),e.EFF(110,"Mau"),e.k0s(),e.EFF(111," include:"),e.k0s(),e.j41(112,"ul")(113,"li"),e.EFF(114,"Scalability: Easily scale your application as your user base grows."),e.k0s(),e.j41(115,"li"),e.EFF(116,"Security: Benefit from built-in security features and compliance certifications."),e.k0s(),e.j41(117,"li"),e.EFF(118,"Monitoring: Monitor your application's performance and health in real-time."),e.k0s(),e.j41(119,"li"),e.EFF(120,"Reliability: Ensure your application is always available with high uptime guarantees."),e.k0s()(),e.j41(121,"p"),e.EFF(122,"On the other hand, cloud-based platforms are typically more expensive than self-hosting, and you may have less control over the underlying infrastructure. Simple VPS can be a good choice if you're looking for a more cost-effective solution and have the technical expertise to manage the server yourself, but keep in mind that you'll need to handle tasks like server maintenance, security, and backups manually."),e.k0s(),e.j41(123,"h4",17)(124,"span"),e.EFF(125,"NODE_ENV=production"),e.k0s()(),e.j41(126,"p"),e.EFF(127,"While there's technically no difference between development and production in Node.js and NestJS, it's a good practice to set the "),e.j41(128,"code"),e.EFF(129,"NODE_ENV"),e.k0s(),e.EFF(130," environment variable to "),e.j41(131,"code"),e.EFF(132,"production"),e.k0s(),e.EFF(133," when running your application in a production environment, as some libraries in the ecosystem may behave differently based on this variable (e.g., enabling or disabling debugging output, etc.)."),e.k0s(),e.j41(134,"p"),e.EFF(135,"You can set the "),e.j41(136,"code"),e.EFF(137,"NODE_ENV"),e.k0s(),e.EFF(138," environment variable when starting your application like so:"),e.k0s(),e.j41(139,"pre")(140,"code",9),e.EFF(141,"\n$ NODE_ENV=production node dist/main.js\n"),e.k0s()(),e.j41(142,"p"),e.EFF(143,"Or just set it in your cloud provider's/Mau dashboard."),e.k0s(),e.j41(144,"h4",18)(145,"span"),e.EFF(146,"Running your application"),e.k0s()(),e.j41(147,"p"),e.EFF(148,"To run your NestJS application in production, just use the following command:"),e.k0s(),e.j41(149,"pre")(150,"code",9),e.EFF(151,"\n$ node dist/main.js # Adjust this based on your entry point location\n"),e.k0s()(),e.j41(152,"p"),e.EFF(153,"This command starts your application, which will listen on the specified port (usually "),e.j41(154,"code"),e.EFF(155,"3000"),e.k0s(),e.EFF(156," by default). Ensure that this matches the port you\u2019ve configured in your application."),e.k0s(),e.j41(157,"p"),e.EFF(158,"Alternatively, you can use the "),e.j41(159,"code"),e.EFF(160,"nest start"),e.k0s(),e.EFF(161," command. This command is a wrapper around "),e.j41(162,"code"),e.EFF(163,"node dist/main.js"),e.k0s(),e.EFF(164,", but it has one key difference: it automatically runs "),e.j41(165,"code"),e.EFF(166,"nest build"),e.k0s(),e.EFF(167," before starting the application, so you don\u2019t need to manually execute "),e.j41(168,"code"),e.EFF(169,"npm run build"),e.k0s(),e.EFF(170,"."),e.k0s(),e.j41(171,"h4",19)(172,"span"),e.EFF(173,"Health checks"),e.k0s()(),e.j41(174,"p"),e.EFF(175,"Health checks are essential for monitoring the health and status of your NestJS application in production. By setting up a health check endpoint, you can regularly verify that your app is running as expected and respond to issues before they become critical."),e.k0s(),e.j41(176,"p"),e.EFF(177,"In NestJS, you can easily implement health checks using the "),e.j41(178,"strong"),e.EFF(179,"@nestjs/terminus"),e.k0s(),e.EFF(180," package, which provides a powerful tool for adding health checks, including database connections, external services, and custom checks."),e.k0s(),e.j41(181,"p"),e.EFF(182,"Check out "),e.j41(183,"a",20),e.EFF(184,"this guide"),e.k0s(),e.EFF(185," to learn how to implement health checks in your NestJS application, and ensure your app is always monitored and responsive."),e.k0s(),e.j41(186,"h4",21)(187,"span"),e.EFF(188,"Logging"),e.k0s()(),e.j41(189,"p"),e.EFF(190,"Logging is essential for any production-ready application. It helps track errors, monitor behavior, and troubleshoot issues. In NestJS, you can easily manage logging with the built-in logger or opt for external libraries if you need more advanced features."),e.k0s(),e.j41(191,"p"),e.EFF(192,"Best practices for logging:"),e.k0s(),e.j41(193,"ul")(194,"li"),e.EFF(195,"Log Errors, Not Exceptions: Focus on logging detailed error messages to speed up debugging and issue resolution."),e.k0s(),e.j41(196,"li"),e.EFF(197,"Avoid Sensitive Data: Never log sensitive information like passwords or tokens to protect security."),e.k0s(),e.j41(198,"li"),e.EFF(199,"Use Correlation IDs: In distributed systems, include unique identifiers (like correlation IDs) in your logs to trace requests across different services."),e.k0s(),e.j41(200,"li"),e.EFF(201,"Use Log Levels: Categorize logs by severity (e.g., "),e.j41(202,"code"),e.EFF(203,"info"),e.k0s(),e.EFF(204,", "),e.j41(205,"code"),e.EFF(206,"warn"),e.k0s(),e.EFF(207,", "),e.j41(208,"code"),e.EFF(209,"error"),e.k0s(),e.EFF(210,") and disable debug or verbose logs in production to reduce noise."),e.k0s()(),e.j41(211,"blockquote",7)(212,"strong"),e.EFF(213,"Hint"),e.k0s(),e.EFF(214," If you're using "),e.j41(215,"a",12),e.EFF(216,"AWS"),e.k0s(),e.EFF(217," (with "),e.j41(218,"a",8),e.EFF(219,"Mau"),e.k0s(),e.EFF(220," or directly), consider JSON logging to make it easier to parse and analyze your logs.\n"),e.k0s(),e.j41(221,"p"),e.EFF(222,"For distributed applications, using a centralized logging service like ElasticSearch, Loggly, or Datadog can be incredibly useful. These tools offer powerful features like log aggregation, search, and visualization, making it easier to monitor and analyze your application's performance and behavior."),e.k0s(),e.j41(223,"h4",22)(224,"span"),e.EFF(225,"Scaling up or out"),e.k0s()(),e.j41(226,"p"),e.EFF(227,"Scaling your NestJS application effectively is crucial for handling increased traffic and ensuring optimal performance. There are two primary strategies for scaling: "),e.j41(228,"strong"),e.EFF(229,"vertical scaling"),e.k0s(),e.EFF(230," and "),e.j41(231,"strong"),e.EFF(232,"horizontal scaling"),e.k0s(),e.EFF(233,". Understanding these approaches will help you design your application to manage load efficiently."),e.k0s(),e.j41(234,"p")(235,"strong"),e.EFF(236,"Vertical scaling"),e.k0s(),e.EFF(237,', often referred to as "scaling up" involves increasing the resources of a single server to enhance its performance. This could mean adding more CPU, RAM, or storage to your existing machine. Here are some key points to consider:'),e.k0s(),e.j41(238,"ul")(239,"li"),e.EFF(240,"Simplicity: Vertical scaling is generally simpler to implement since you only need to upgrade your existing server rather than manage multiple instances."),e.k0s(),e.j41(241,"li"),e.EFF(242,"Limitations: There are physical limits to how much you can scale a single machine. Once you reach the maximum capacity, you may need to consider other options."),e.k0s(),e.j41(243,"li"),e.EFF(244,"Cost-Effectiveness: For applications with moderate traffic, vertical scaling can be cost-effective, as it reduces the need for additional infrastructure."),e.k0s()(),e.j41(245,"p"),e.EFF(246,"Example: If your NestJS app is hosted on a virtual machine and you notice that it\u2019s running slowly during peak hours, you can upgrade your VM to a larger instance with more resources. To upgrade your VM, just navigate to your current provider's dashboard and select a larger instance type."),e.k0s(),e.j41(247,"p")(248,"strong"),e.EFF(249,"Horizontal scaling"),e.k0s(),e.EFF(250,', or "scaling out" involves adding more servers or instances to distribute the load. This strategy is widely used in cloud environments and is essential for applications expecting high traffic. Here are the benefits and considerations:'),e.k0s(),e.j41(251,"ul")(252,"li"),e.EFF(253,"Increased Capacity: By adding more instances of your application, you can handle a larger number of concurrent users without degrading performance."),e.k0s(),e.j41(254,"li"),e.EFF(255,"Redundancy: Horizontal scaling offers redundancy, as the failure of one server won't bring down your entire application. Traffic can be redistributed among the remaining servers."),e.k0s(),e.j41(256,"li"),e.EFF(257,"Load Balancing: To manage multiple instances effectively, use load balancers (like Nginx or AWS Elastic Load Balancing) to distribute incoming traffic evenly across your servers."),e.k0s()(),e.j41(258,"p"),e.EFF(259,"Example: For a NestJS application experiencing high traffic, you can deploy multiple instances of your app in a cloud environment and use a load balancer to route requests, ensuring that no single instance becomes a bottleneck."),e.k0s(),e.j41(260,"p"),e.EFF(261,"This process is straightforward with containerization technologies like "),e.j41(262,"a",23),e.EFF(263,"Docker"),e.k0s(),e.EFF(264," and container orchestration platforms such as "),e.j41(265,"a",24),e.EFF(266,"Kubernetes"),e.k0s(),e.EFF(267,". Additionally, you can leverage cloud-specific load balancers like "),e.j41(268,"a",25),e.EFF(269,"AWS Elastic Load Balancing"),e.k0s(),e.EFF(270," or "),e.j41(271,"a",26),e.EFF(272,"Azure Load Balancer"),e.k0s(),e.EFF(273," to distribute traffic across your application instances."),e.k0s(),e.j41(274,"blockquote",7)(275,"strong"),e.EFF(276,"Hint"),e.k0s(),e.j41(277,"a",8),e.EFF(278,"Mau"),e.k0s(),e.EFF(279," offers built-in support for horizontal scaling on AWS, allowing you to easily deploy multiple instances of your NestJS application and manage them with just a few clicks.\n"),e.k0s(),e.j41(280,"h4",27)(281,"span"),e.EFF(282,"Some other tips"),e.k0s()(),e.j41(283,"p"),e.EFF(284,"There are a few more tips to keep in mind when deploying your NestJS application:"),e.k0s(),e.j41(285,"ul")(286,"li")(287,"strong"),e.EFF(288,"Security"),e.k0s(),e.EFF(289,': Ensure your application is secure and protected from common threats like SQL injection, XSS, etc. See the "Security" category for more details.'),e.k0s(),e.j41(290,"li")(291,"strong"),e.EFF(292,"Monitoring"),e.k0s(),e.EFF(293,": Use monitoring tools like "),e.j41(294,"a",28),e.EFF(295,"Prometheus"),e.k0s(),e.EFF(296," or "),e.j41(297,"a",29),e.EFF(298,"New Relic"),e.k0s(),e.EFF(299," to track your application's performance and health. If you're using a cloud provider/Mau, they may offer built-in monitoring services (like "),e.j41(300,"a",30),e.EFF(301,"AWS CloudWatch"),e.k0s(),e.EFF(302," etc.)"),e.k0s(),e.j41(303,"li")(304,"strong"),e.EFF(305,"Do not hardcode environment variables"),e.k0s(),e.EFF(306,": Avoid hardcoding sensitive information like API keys, passwords, or tokens in your code. Use environment variables or a secrets manager to store and access these values securely."),e.k0s(),e.j41(307,"li")(308,"strong"),e.EFF(309,"Backups"),e.k0s(),e.EFF(310,": Regularly back up your data to prevent data loss in case of an incident."),e.k0s(),e.j41(311,"li")(312,"strong"),e.EFF(313,"Automate deployments"),e.k0s(),e.EFF(314,": Use CI/CD pipelines to automate your deployment process and ensure consistency across environments."),e.k0s(),e.j41(315,"li")(316,"strong"),e.EFF(317,"Rate limiting"),e.k0s(),e.EFF(318,": Implement rate limiting to prevent abuse and protect your application from DDoS attacks. Check out "),e.j41(319,"a",31),e.EFF(320,"Rate limiting chapter"),e.k0s(),e.EFF(321," for more details, or use a service like "),e.j41(322,"a",32),e.EFF(323,"AWS WAF"),e.k0s(),e.EFF(324," for advanced protection."),e.k0s()(),e.j41(325,"h4",33)(326,"span"),e.EFF(327,"Dockerizing your application"),e.k0s()(),e.j41(328,"p")(329,"a",23),e.EFF(330,"Docker"),e.k0s(),e.EFF(331," is a platform that uses containerization to allow developers to package applications along with their dependencies into a standardized unit called a container. Containers are lightweight, portable, and isolated, making them ideal for deploying applications in various environments, from local development to production."),e.k0s(),e.j41(332,"p"),e.EFF(333,"Benefits of Dockerizing your NestJS application:"),e.k0s(),e.j41(334,"ul")(335,"li"),e.EFF(336,'Consistency: Docker ensures that your application runs the same way on any machine, eliminating the "it works on my machine" problem.'),e.k0s(),e.j41(337,"li"),e.EFF(338,"Isolation: Each container runs in its isolated environment, preventing conflicts between dependencies."),e.k0s(),e.j41(339,"li"),e.EFF(340,"Scalability: Docker makes it easy to scale your application by running multiple containers across different machines or cloud instances."),e.k0s(),e.j41(341,"li"),e.EFF(342,"Portability: Containers can be easily moved between environments, making it simple to deploy your application on different platforms."),e.k0s()(),e.j41(343,"p"),e.EFF(344,"To install Docker, follow the instructions on the "),e.j41(345,"a",34),e.EFF(346,"official website"),e.k0s(),e.EFF(347,". Once Docker is installed, you can create a "),e.j41(348,"code"),e.EFF(349,"Dockerfile"),e.k0s(),e.EFF(350," in your NestJS project to define the steps for building your container image."),e.k0s(),e.j41(351,"p"),e.EFF(352,"The "),e.j41(353,"code"),e.EFF(354,"Dockerfile"),e.k0s(),e.EFF(355," is a text file that contains the instructions Docker uses to build your container image."),e.k0s(),e.j41(356,"p"),e.EFF(357,"Here's a sample Dockerfile for a NestJS application:"),e.k0s(),e.j41(358,"pre")(359,"code",9),e.EFF(360,'\n# Use the official Node.js image as the base image\nFROM node:20\n\n# Set the working directory inside the container\nWORKDIR /usr/src/app\n\n# Copy package.json and package-lock.json to the working directory\nCOPY package*.json ./\n\n# Install the application dependencies\nRUN npm install\n\n# Copy the rest of the application files\nCOPY . .\n\n# Build the NestJS application\nRUN npm run build\n\n# Expose the application port\nEXPOSE 3000\n\n# Command to run the application\nCMD ["node", "dist/main"]\n'),e.k0s()(),e.j41(361,"blockquote",7)(362,"strong"),e.EFF(363,"Hint"),e.k0s(),e.EFF(364," Make sure to replace "),e.j41(365,"code"),e.EFF(366,"node:20"),e.k0s(),e.EFF(367," with the appropriate Node.js version you're using in your project. You can find the available Node.js Docker images on the "),e.j41(368,"a",35),e.EFF(369,"official Docker Hub repository"),e.k0s(),e.EFF(370,".\n"),e.k0s(),e.j41(371,"p"),e.EFF(372,"This is a basic Dockerfile that sets up a Node.js environment, installs the application dependencies, builds the NestJS application, and runs it. You can customize this file based on your project requirements (e.g., use different base images, optimize the build process, only install production dependencies, etc.)."),e.k0s(),e.j41(373,"p"),e.EFF(374,"Let's also create a "),e.j41(375,"code"),e.EFF(376,".dockerignore"),e.k0s(),e.EFF(377," file to specify which files and directories Docker should ignore when building the image. Create a "),e.j41(378,"code"),e.EFF(379,".dockerignore"),e.k0s(),e.EFF(380," file in your project root:"),e.k0s(),e.j41(381,"pre")(382,"code",9),e.EFF(383,"\nnode_modules\ndist\n*.log\n*.md\n.git\n"),e.k0s()(),e.j41(384,"p"),e.EFF(385,"This file ensures that unnecessary files are not included in the container image, keeping it lightweight. Now that you have your Dockerfile set up, you can build your Docker image. Open your terminal, navigate to your project directory, and run the following command:"),e.k0s(),e.j41(386,"pre")(387,"code",9),e.EFF(388,"\ndocker build -t my-nestjs-app .\n"),e.k0s()(),e.j41(389,"p"),e.EFF(390,"In this command:"),e.k0s(),e.j41(391,"ul")(392,"li")(393,"code"),e.EFF(394,"-t my-nestjs-app"),e.k0s(),e.EFF(395,": Tags the image with the name "),e.j41(396,"code"),e.EFF(397,"my-nestjs-app"),e.k0s(),e.EFF(398,"."),e.k0s(),e.j41(399,"li")(400,"code"),e.EFF(401,"."),e.k0s(),e.EFF(402,": Indicates the current directory as the build context."),e.k0s()(),e.j41(403,"p"),e.EFF(404,"After building the image, you can run it as a container. Execute the following command:"),e.k0s(),e.j41(405,"pre")(406,"code",9),e.EFF(407,"\ndocker run -p 3000:3000 my-nestjs-app\n"),e.k0s()(),e.j41(408,"p"),e.EFF(409,"In this command:"),e.k0s(),e.j41(410,"ul")(411,"li")(412,"code"),e.EFF(413,"-p 3000:3000"),e.k0s(),e.EFF(414,": Maps port 3000 on your host machine to port 3000 in the container."),e.k0s(),e.j41(415,"li")(416,"code"),e.EFF(417,"my-nestjs-app"),e.k0s(),e.EFF(418,": Specifies the image to run."),e.k0s()(),e.j41(419,"p"),e.EFF(420,"Your NestJS application should now be running inside a Docker container."),e.k0s(),e.j41(421,"p"),e.EFF(422,"If you want to deploy your Docker image to a cloud provider or share it with others, you'll need to push it to a Docker registry (like "),e.j41(423,"a",36),e.EFF(424,"Docker Hub"),e.k0s(),e.EFF(425,", "),e.j41(426,"a",37),e.EFF(427,"AWS ECR"),e.k0s(),e.EFF(428,", or "),e.j41(429,"a",38),e.EFF(430,"Google Container Registry"),e.k0s(),e.EFF(431,")."),e.k0s(),e.j41(432,"p"),e.EFF(433,"Once you decide on a registry, you can push your image by following these steps:"),e.k0s(),e.j41(434,"pre")(435,"code",9),e.EFF(436,"\ndocker login # Log in to your Docker registry\ndocker tag my-nestjs-app your-dockerhub-username/my-nestjs-app # Tag your image\ndocker push your-dockerhub-username/my-nestjs-app # Push your image\n"),e.k0s()(),e.j41(437,"p"),e.EFF(438,"Replace "),e.j41(439,"code"),e.EFF(440,"your-dockerhub-username"),e.k0s(),e.EFF(441," with your Docker Hub username or the appropriate registry URL. After pushing your image, you can pull it on any machine and run it as a container."),e.k0s(),e.j41(442,"p"),e.EFF(443,"Cloud providers like AWS, Azure, and Google Cloud offer managed container services that simplify deploying and managing containers at scale. These services provide features like auto-scaling, load balancing, and monitoring, making it easier to run your NestJS application in production."),e.k0s(),e.j41(444,"h4",39)(445,"span"),e.EFF(446,"Easy deployment with Mau"),e.k0s()(),e.j41(447,"p")(448,"a",8),e.EFF(449,"Mau"),e.k0s(),e.EFF(450," is our official platform for deploying NestJS applications on "),e.j41(451,"a",12),e.EFF(452,"AWS"),e.k0s(),e.EFF(453,". If you're not ready to manage your infrastructure manually (or just want to save time), Mau is the perfect solution for you."),e.k0s(),e.j41(454,"p"),e.EFF(455,"With Mau, provisioning and maintaining your infrastructure is as simple as clicking just a few buttons. Mau is designed to be simple and intuitive, so you can focus on building your applications and not worry about the underlying infrastructure. Under the hood, we use "),e.j41(456,"strong"),e.EFF(457,"Amazon Web Services"),e.k0s(),e.EFF(458," to provide you with a powerful and reliable platform, while abstracting away all the complexity of AWS. We take care of all the heavy lifting for you, so you can focus on building your applications and growing your business."),e.k0s(),e.j41(459,"p")(460,"a",8),e.EFF(461,"Mau"),e.k0s(),e.EFF(462," is perfect for startups, small-to-medium businesses, large enterprises, and developers who want to get up and running quickly without having to spend a lot of time on learning and managing infrastructure. It's incredibly easy to use, and you can have your infrastructure up and running in minutes. It also leverages AWS behind the scenes, giving you all the advantages of AWS without the hassle of managing its complexities."),e.k0s(),e.j41(463,"figure"),e.nrm(464,"img",40),e.k0s(),e.j41(465,"p"),e.EFF(466,"With "),e.j41(467,"a",8),e.EFF(468,"Mau"),e.k0s(),e.EFF(469,", you can:"),e.k0s(),e.j41(470,"ul")(471,"li"),e.EFF(472,"Deploy your NestJS applications with just a few clicks (APIs, microservices, etc.)."),e.k0s(),e.j41(473,"li"),e.EFF(474,"Provision "),e.j41(475,"strong"),e.EFF(476,"databases"),e.k0s(),e.EFF(477," such as:"),e.j41(478,"ul")(479,"li"),e.EFF(480,"PostgreSQL"),e.k0s(),e.j41(481,"li"),e.EFF(482,"MySQL"),e.k0s(),e.j41(483,"li"),e.EFF(484,"MongoDB (DocumentDB)"),e.k0s(),e.j41(485,"li"),e.EFF(486,"Redis"),e.k0s(),e.j41(487,"li"),e.EFF(488,"more"),e.k0s()()(),e.j41(489,"li"),e.EFF(490,"Set up broker services like:"),e.j41(491,"ul")(492,"li"),e.EFF(493,"RabbitMQ"),e.k0s(),e.j41(494,"li"),e.EFF(495,"Kafka"),e.k0s(),e.j41(496,"li"),e.EFF(497,"NATS"),e.k0s()()(),e.j41(498,"li"),e.EFF(499,"Deploy scheduled tasks ("),e.j41(500,"strong"),e.EFF(501,"CRON jobs"),e.k0s(),e.EFF(502,") and background workers."),e.k0s(),e.j41(503,"li"),e.EFF(504,"Deploy lambda functions and serverless applications."),e.k0s(),e.j41(505,"li"),e.EFF(506,"Setup "),e.j41(507,"strong"),e.EFF(508,"CI/CD pipelines"),e.k0s(),e.EFF(509," for automated deployments."),e.k0s(),e.j41(510,"li"),e.EFF(511,"And much more!"),e.k0s()(),e.j41(512,"p"),e.EFF(513,"To deploy your NestJS application with Mau, just run the following command:"),e.k0s(),e.j41(514,"pre")(515,"code",9),e.EFF(516,"\n$ npm install -g @nestjs/mau\n$ mau deploy\n"),e.k0s()(),e.j41(517,"p"),e.EFF(518,"Sign up today and "),e.j41(519,"a",8),e.EFF(520,"Deploy with Mau"),e.k0s(),e.EFF(521," to get your NestJS applications up and running on AWS in minutes!"),e.k0s()())},dependencies:[yt.Wk,Ln.a],encapsulation:2,changeDetection:0})}return v})(),data:{title:"Deployment"}},{path:"support",component:(()=>{class v extends Xe.y{static \u0275fac=(()=>{let a;return function(h){return(a||(a=e.xGo(v)))(h||v)}})();static \u0275cmp=e.VBU({type:v,selectors:[["app-support"]],features:[e.Vt3],decls:42,vars:0,consts:[["contentReference",""],[1,"content"],[1,"github-links"],["href","https://github.com/nestjs/docs.nestjs.com/edit/master/content/support.md","aria-label","Suggest Edits","title","Suggest Edits"],[1,"fas","fa-edit"],["id","support"],["appAnchor","","id","how-can-you-help"],["rel","nofollow","target","_blank","href","https://opencollective.com/nest"],["rel","nofollow","target","_blank","href","https://paypal.me/kamilmysliwiec"],["href","mailto:mail@kamilmysliwiec.com"]],template:function(c,h){1&c&&(e.j41(0,"div",1,0)(2,"div",2)(3,"a",3),e.nrm(4,"i",4),e.k0s()(),e.j41(5,"h3",5),e.EFF(6,"Support"),e.k0s(),e.j41(7,"p"),e.EFF(8,"Nest is an MIT-licensed open source project with its ongoing development made possible thanks to the support by the community. This framework is a result of the long road, full of sleepless nights, working "),e.j41(9,"strong"),e.EFF(10,"after hours"),e.k0s(),e.EFF(11,", and busy weekends."),e.k0s(),e.j41(12,"h4",6)(13,"span"),e.EFF(14,"How can you help?"),e.k0s()(),e.j41(15,"p"),e.EFF(16,"Nest doesn't have a large company that sits behind and is continuously paying for hours spent on the development. I fully rely on the "),e.j41(17,"strong"),e.EFF(18,"goodness"),e.k0s(),e.EFF(19," \u2764\ufe0f of the people. However, I would love to make this framework even more "),e.j41(20,"strong"),e.EFF(21,"powerful"),e.k0s(),e.EFF(22,", to be fully focused on delivering you great solutions that make coding process enjoyable: In order to help me, I run few supporting platforms:"),e.k0s(),e.j41(23,"ul")(24,"li"),e.EFF(25,"become a backer or sponsor on "),e.j41(26,"a",7),e.EFF(27,"OpenCollective"),e.k0s()(),e.j41(28,"li"),e.EFF(29,"use "),e.j41(30,"a",8),e.EFF(31,"PayPal"),e.k0s(),e.EFF(32," to send a one-time donation"),e.k0s(),e.j41(33,"li"),e.EFF(34,"or reach me directly: "),e.j41(35,"a",9),e.EFF(36,"mail@kamilmysliwiec.com"),e.k0s()()(),e.j41(37,"p"),e.EFF(38,"If you fell in love with Nest, or you run a business which is using Nest, consider sponsoring its development to ensure that the project which your product relies on is "),e.j41(39,"strong"),e.EFF(40,"actively maintained"),e.k0s(),e.EFF(41," and improved. Also, your support could help me to work more on content that benefits whole Nest community, writing either educational blog posts or recording videos."),e.k0s()())},dependencies:[Ln.a],encapsulation:2,changeDetection:0})}return v})(),data:{title:"Support"}},{path:"consulting",component:Vn,resolve:{url:"externalUrlRedirectResolver"},canActivate:[v=>(window.location.href=v.data.externalUrl,!0)],data:{externalUrl:"https://enterprise.nestjs.com"}},{path:"enterprise",redirectTo:"consulting"},{path:"enterprise",component:Vn,data:{title:"Official Support"}},{path:"fundamentals",loadChildren:()=>C.e(823).then(C.bind(C,4823)).then(v=>v.FundamentalsModule)},{path:"techniques",loadChildren:()=>C.e(945).then(C.bind(C,6945)).then(v=>v.TechniquesModule)},{path:"security",loadChildren:()=>Promise.all([C.e(76),C.e(2)]).then(C.bind(C,2)).then(v=>v.SecurityModule)},{path:"graphql",loadChildren:()=>C.e(916).then(C.bind(C,8916)).then(v=>v.GraphqlModule)},{path:"websockets",loadChildren:()=>C.e(65).then(C.bind(C,3065)).then(v=>v.WebsocketsModule)},{path:"microservices",loadChildren:()=>C.e(557).then(C.bind(C,4557)).then(v=>v.MicroservicesModule)},{path:"recipes",loadChildren:()=>Promise.all([C.e(76),C.e(377)]).then(C.bind(C,3377)).then(v=>v.RecipesModule)},{path:"faq",loadChildren:()=>C.e(395).then(C.bind(C,395)).then(v=>v.FaqModule)},{path:"cli",loadChildren:()=>C.e(713).then(C.bind(C,4713)).then(v=>v.CliModule)},{path:"openapi",loadChildren:()=>C.e(61).then(C.bind(C,7061)).then(v=>v.OpenApiModule)},{path:"devtools",loadChildren:()=>C.e(410).then(C.bind(C,6410)).then(v=>v.DevtoolsModule)}]},{path:"**",redirectTo:"",pathMatch:"full"}];let Bs=(()=>{class v{static \u0275fac=function(c){return new(c||v)};static \u0275mod=e.$C({type:v});static \u0275inj=e.G2t({imports:[yt.iI.forRoot(Ur,{scrollPositionRestoration:"enabled",anchorScrolling:"enabled",preloadingStrategy:yt.Kp,onSameUrlNavigation:"reload"}),yt.iI]})}return v})(),Ri=(()=>{class v{titleService;metaService;router;activatedRoute;robotsElement;constructor(a,c,h,b){this.titleService=a,this.metaService=c,this.router=h,this.activatedRoute=b}ngOnInit(){var a=this;return(0,He.A)(function*(){a.router.events.pipe((0,Es.p)(c=>c instanceof yt.wF)).subscribe(c=>{a.updateTitle(),a.updateMeta(c)})})()}updateTitle(){const a=this.activatedRoute.snapshot.firstChild;if(!a)return;let c=a.firstChild;c=c.firstChild?c.firstChild:c;const{data:{title:h}}=c;this.titleService.setTitle((h||"Documentation")+" | NestJS - A progressive Node.js framework")}updateMeta(a){a&&a.url&&(a.url.includes("crud-utilities")&&!this.robotsElement?this.robotsElement=this.metaService.addTag({name:"robots",content:"noindex"}):this.robotsElement&&(this.metaService.removeTagElement(this.robotsElement),this.robotsElement=void 0))}static \u0275fac=function(c){return new(c||v)(e.rXU(g.hE),e.rXU(g.W8),e.rXU(yt.Ix),e.rXU(yt.nX))};static \u0275cmp=e.VBU({type:v,selectors:[["app-root"]],decls:1,vars:0,template:function(c,h){1&c&&e.nrm(0,"router-outlet")},dependencies:[yt.n3],encapsulation:2,changeDetection:0})}return v})();var ta=C(445);let na=(()=>{class v{static \u0275fac=function(c){return new(c||v)};static \u0275mod=e.$C({type:v,bootstrap:[Ri]});static \u0275inj=e.G2t({providers:[(0,$.$R)((0,$.Sx)())],imports:[g.Bb,Ft,Bs,ta.G]})}return v})();g.sG().bootstrapModule(na)},981:()=>{!function(je){var ne="\\b(?:BASH|BASHOPTS|BASH_ALIASES|BASH_ARGC|BASH_ARGV|BASH_CMDS|BASH_COMPLETION_COMPAT_DIR|BASH_LINENO|BASH_REMATCH|BASH_SOURCE|BASH_VERSINFO|BASH_VERSION|COLORTERM|COLUMNS|COMP_WORDBREAKS|DBUS_SESSION_BUS_ADDRESS|DEFAULTS_PATH|DESKTOP_SESSION|DIRSTACK|DISPLAY|EUID|GDMSESSION|GDM_LANG|GNOME_KEYRING_CONTROL|GNOME_KEYRING_PID|GPG_AGENT_INFO|GROUPS|HISTCONTROL|HISTFILE|HISTFILESIZE|HISTSIZE|HOME|HOSTNAME|HOSTTYPE|IFS|INSTANCE|JOB|LANG|LANGUAGE|LC_ADDRESS|LC_ALL|LC_IDENTIFICATION|LC_MEASUREMENT|LC_MONETARY|LC_NAME|LC_NUMERIC|LC_PAPER|LC_TELEPHONE|LC_TIME|LESSCLOSE|LESSOPEN|LINES|LOGNAME|LS_COLORS|MACHTYPE|MAILCHECK|MANDATORY_PATH|NO_AT_BRIDGE|OLDPWD|OPTERR|OPTIND|ORBIT_SOCKETDIR|OSTYPE|PAPERSIZE|PATH|PIPESTATUS|PPID|PS1|PS2|PS3|PS4|PWD|RANDOM|REPLY|SECONDS|SELINUX_INIT|SESSION|SESSIONTYPE|SESSION_MANAGER|SHELL|SHELLOPTS|SHLVL|SSH_AUTH_SOCK|TERM|UID|UPSTART_EVENTS|UPSTART_INSTANCE|UPSTART_JOB|UPSTART_SESSION|USER|WINDOWID|XAUTHORITY|XDG_CONFIG_DIRS|XDG_CURRENT_DESKTOP|XDG_DATA_DIRS|XDG_GREETER_DATA_DIR|XDG_MENU_PREFIX|XDG_RUNTIME_DIR|XDG_SEAT|XDG_SEAT_PATH|XDG_SESSION_DESKTOP|XDG_SESSION_ID|XDG_SESSION_PATH|XDG_SESSION_TYPE|XDG_VTNR|XMODIFIERS)\\b",C={pattern:/(^(["']?)\w+\2)[ \t]+\S.*/,lookbehind:!0,alias:"punctuation",inside:null},g={bash:C,environment:{pattern:RegExp("\\$"+ne),alias:"constant"},variable:[{pattern:/\$?\(\([\s\S]+?\)\)/,greedy:!0,inside:{variable:[{pattern:/(^\$\(\([\s\S]+)\)\)/,lookbehind:!0},/^\$\(\(/],number:/\b0x[\dA-Fa-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:[Ee]-?\d+)?/,operator:/--|\+\+|\*\*=?|<<=?|>>=?|&&|\|\||[=!+\-*/%<>^&|]=?|[?~:]/,punctuation:/\(\(?|\)\)?|,|;/}},{pattern:/\$\((?:\([^)]+\)|[^()])+\)|`[^`]+`/,greedy:!0,inside:{variable:/^\$\(|^`|\)$|`$/}},{pattern:/\$\{[^}]+\}/,greedy:!0,inside:{operator:/:[-=?+]?|[!\/]|##?|%%?|\^\^?|,,?/,punctuation:/[\[\]]/,environment:{pattern:RegExp("(\\{)"+ne),lookbehind:!0,alias:"constant"}}},/\$(?:\w+|[#?*!@$])/],entity:/\\(?:[abceEfnrtv\\"]|O?[0-7]{1,3}|U[0-9a-fA-F]{8}|u[0-9a-fA-F]{4}|x[0-9a-fA-F]{1,2})/};je.languages.bash={shebang:{pattern:/^#!\s*\/.*/,alias:"important"},comment:{pattern:/(^|[^"{\\$])#.*/,lookbehind:!0},"function-name":[{pattern:/(\bfunction\s+)[\w-]+(?=(?:\s*\(?:\s*\))?\s*\{)/,lookbehind:!0,alias:"function"},{pattern:/\b[\w-]+(?=\s*\(\s*\)\s*\{)/,alias:"function"}],"for-or-select":{pattern:/(\b(?:for|select)\s+)\w+(?=\s+in\s)/,alias:"variable",lookbehind:!0},"assign-left":{pattern:/(^|[\s;|&]|[<>]\()\w+(?:\.\w+)*(?=\+?=)/,inside:{environment:{pattern:RegExp("(^|[\\s;|&]|[<>]\\()"+ne),lookbehind:!0,alias:"constant"}},alias:"variable",lookbehind:!0},parameter:{pattern:/(^|\s)-{1,2}(?:\w+:[+-]?)?\w+(?:\.\w+)*(?=[=\s]|$)/,alias:"variable",lookbehind:!0},string:[{pattern:/((?:^|[^<])<<-?\s*)(\w+)\s[\s\S]*?(?:\r?\n|\r)\2/,lookbehind:!0,greedy:!0,inside:g},{pattern:/((?:^|[^<])<<-?\s*)(["'])(\w+)\2\s[\s\S]*?(?:\r?\n|\r)\3/,lookbehind:!0,greedy:!0,inside:{bash:C}},{pattern:/(^|[^\\](?:\\\\)*)"(?:\\[\s\S]|\$\([^)]+\)|\$(?!\()|`[^`]+`|[^"\\`$])*"/,lookbehind:!0,greedy:!0,inside:g},{pattern:/(^|[^$\\])'[^']*'/,lookbehind:!0,greedy:!0},{pattern:/\$'(?:[^'\\]|\\[\s\S])*'/,greedy:!0,inside:{entity:g.entity}}],environment:{pattern:RegExp("\\$?"+ne),alias:"constant"},variable:g.variable,function:{pattern:/(^|[\s;|&]|[<>]\()(?:add|apropos|apt|apt-cache|apt-get|aptitude|aspell|automysqlbackup|awk|basename|bash|bc|bconsole|bg|bzip2|cal|cargo|cat|cfdisk|chgrp|chkconfig|chmod|chown|chroot|cksum|clear|cmp|column|comm|composer|cp|cron|crontab|csplit|curl|cut|date|dc|dd|ddrescue|debootstrap|df|diff|diff3|dig|dir|dircolors|dirname|dirs|dmesg|docker|docker-compose|du|egrep|eject|env|ethtool|expand|expect|expr|fdformat|fdisk|fg|fgrep|file|find|fmt|fold|format|free|fsck|ftp|fuser|gawk|git|gparted|grep|groupadd|groupdel|groupmod|groups|grub-mkconfig|gzip|halt|head|hg|history|host|hostname|htop|iconv|id|ifconfig|ifdown|ifup|import|install|ip|java|jobs|join|kill|killall|less|link|ln|locate|logname|logrotate|look|lpc|lpr|lprint|lprintd|lprintq|lprm|ls|lsof|lynx|make|man|mc|mdadm|mkconfig|mkdir|mke2fs|mkfifo|mkfs|mkisofs|mknod|mkswap|mmv|more|most|mount|mtools|mtr|mutt|mv|nano|nc|netstat|nice|nl|node|nohup|notify-send|npm|nslookup|op|open|parted|passwd|paste|pathchk|ping|pkill|pnpm|podman|podman-compose|popd|pr|printcap|printenv|ps|pushd|pv|quota|quotacheck|quotactl|ram|rar|rcp|reboot|remsync|rename|renice|rev|rm|rmdir|rpm|rsync|scp|screen|sdiff|sed|sendmail|seq|service|sftp|sh|shellcheck|shuf|shutdown|sleep|slocate|sort|split|ssh|stat|strace|su|sudo|sum|suspend|swapon|sync|sysctl|tac|tail|tar|tee|time|timeout|top|touch|tr|traceroute|tsort|tty|umount|uname|unexpand|uniq|units|unrar|unshar|unzip|update-grub|uptime|useradd|userdel|usermod|users|uudecode|uuencode|v|vcpkg|vdir|vi|vim|virsh|vmstat|wait|watch|wc|wget|whereis|which|who|whoami|write|xargs|xdg-open|yarn|yes|zenity|zip|zsh|zypper)(?=$|[)\s;|&])/,lookbehind:!0},keyword:{pattern:/(^|[\s;|&]|[<>]\()(?:case|do|done|elif|else|esac|fi|for|function|if|in|select|then|until|while)(?=$|[)\s;|&])/,lookbehind:!0},builtin:{pattern:/(^|[\s;|&]|[<>]\()(?:\.|:|alias|bind|break|builtin|caller|cd|command|continue|declare|echo|enable|eval|exec|exit|export|getopts|hash|help|let|local|logout|mapfile|printf|pwd|read|readarray|readonly|return|set|shift|shopt|source|test|times|trap|type|typeset|ulimit|umask|unalias|unset)(?=$|[)\s;|&])/,lookbehind:!0,alias:"class-name"},boolean:{pattern:/(^|[\s;|&]|[<>]\()(?:false|true)(?=$|[)\s;|&])/,lookbehind:!0},"file-descriptor":{pattern:/\B&\d\b/,alias:"important"},operator:{pattern:/\d?<>|>\||\+=|=[=~]?|!=?|<<[<-]?|[&\d]?>>|\d[<>]&?|[<>][&=]?|&[>&]?|\|[&|]?/,inside:{"file-descriptor":{pattern:/^\d/,alias:"important"}}},punctuation:/\$?\(\(?|\)\)?|\.\.|[{}[\];\\]/,number:{pattern:/(^|\s)(?:[1-9]\d*|0)(?:[.,]\d+)?\b/,lookbehind:!0}},C.inside=je.languages.bash;for(var e=["comment","function-name","for-or-select","assign-left","parameter","string","environment","function","keyword","builtin","boolean","file-descriptor","operator","punctuation","number"],$=g.variable[1].inside,O=0;O<e.length;O++)$[e[O]]=je.languages.bash[e[O]];je.languages.sh=je.languages.bash,je.languages.shell=je.languages.bash}(Prism)},1582:()=>{Prism.languages.graphql={comment:/#.*/,description:{pattern:/(?:"""(?:[^"]|(?!""")")*"""|"(?:\\.|[^\\"\r\n])*")(?=\s*[a-z_])/i,greedy:!0,alias:"string",inside:{"language-markdown":{pattern:/(^"(?:"")?)(?!\1)[\s\S]+(?=\1$)/,lookbehind:!0,inside:Prism.languages.markdown}}},string:{pattern:/"""(?:[^"]|(?!""")")*"""|"(?:\\.|[^\\"\r\n])*"/,greedy:!0},number:/(?:\B-|\b)\d+(?:\.\d+)?(?:e[+-]?\d+)?\b/i,boolean:/\b(?:false|true)\b/,variable:/\$[a-z_]\w*/i,directive:{pattern:/@[a-z_]\w*/i,alias:"function"},"attr-name":{pattern:/\b[a-z_]\w*(?=\s*(?:\((?:[^()"]|"(?:\\.|[^\\"\r\n])*")*\))?:)/i,greedy:!0},"atom-input":{pattern:/\b[A-Z]\w*Input\b/,alias:"class-name"},scalar:/\b(?:Boolean|Float|ID|Int|String)\b/,constant:/\b[A-Z][A-Z_\d]*\b/,"class-name":{pattern:/(\b(?:enum|implements|interface|on|scalar|type|union)\s+|&\s*|:\s*|\[)[A-Z_]\w*/,lookbehind:!0},fragment:{pattern:/(\bfragment\s+|\.{3}\s*(?!on\b))[a-zA-Z_]\w*/,lookbehind:!0,alias:"function"},"definition-mutation":{pattern:/(\bmutation\s+)[a-zA-Z_]\w*/,lookbehind:!0,alias:"function"},"definition-query":{pattern:/(\bquery\s+)[a-zA-Z_]\w*/,lookbehind:!0,alias:"function"},keyword:/\b(?:directive|enum|extend|fragment|implements|input|interface|mutation|on|query|repeatable|scalar|schema|subscription|type|union)\b/,operator:/[!=|&]|\.{3}/,"property-query":/\w+(?=\s*\()/,object:/\w+(?=\s*\{)/,punctuation:/[!(){}\[\]:=,]/,property:/\w+/},Prism.hooks.add("after-tokenize",function(ne){if("graphql"===ne.language)for(var C=ne.tokens.filter(function(Y){return"string"!=typeof Y&&"comment"!==Y.type&&"scalar"!==Y.type}),g=0;g<C.length;){var G=C[g++];if("keyword"===G.type&&"mutation"===G.content){var re=[];if($(["definition-mutation","punctuation"])&&"("===e(1).content){g+=2;var be=O(/^\($/,/^\)$/);if(-1===be)continue;for(;g<be;g++){var fe=e(0);"variable"===fe.type&&(N(fe,"variable-input"),re.push(fe.content))}g=be+1}if($(["punctuation","property-query"])&&"{"===e(0).content&&(g++,N(e(0),"property-mutation"),re.length>0)){var ue=O(/^\{$/,/^\}$/);if(-1===ue)continue;for(var X=g;X<ue;X++){var te=C[X];"variable"===te.type&&re.indexOf(te.content)>=0&&N(te,"variable-input")}}}}function e(Y){return C[g+Y]}function $(Y,q){q=q||0;for(var Fe=0;Fe<Y.length;Fe++){var ee=e(Fe+q);if(!ee||ee.type!==Y[Fe])return!1}return!0}function O(Y,q){for(var Fe=1,ee=g;ee<C.length;ee++){var Q=C[ee],me=Q.content;if("punctuation"===Q.type&&"string"==typeof me)if(Y.test(me))Fe++;else if(q.test(me)&&0==--Fe)return ee}return-1}function N(Y,q){var Fe=Y.alias;Fe?Array.isArray(Fe)||(Y.alias=Fe=[Fe]):Y.alias=Fe=[],Fe.push(q)}})},3809:()=>{Prism.languages.json={property:{pattern:/(^|[^\\])"(?:\\.|[^\\"\r\n])*"(?=\s*:)/,lookbehind:!0,greedy:!0},string:{pattern:/(^|[^\\])"(?:\\.|[^\\"\r\n])*"(?!\s*:)/,lookbehind:!0,greedy:!0},comment:{pattern:/\/\/.*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},number:/-?\b\d+(?:\.\d+)?(?:e[+-]?\d+)?\b/i,punctuation:/[{}[\],]/,operator:/:/,boolean:/\b(?:false|true)\b/,null:{pattern:/\bnull\b/,alias:"keyword"}},Prism.languages.webmanifest=Prism.languages.json},9628:()=>{!function(je){je.languages.typescript=je.languages.extend("javascript",{"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|type)\s+)(?!keyof\b)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?:\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>)?/,lookbehind:!0,greedy:!0,inside:null},builtin:/\b(?:Array|Function|Promise|any|boolean|console|never|number|string|symbol|unknown)\b/}),je.languages.typescript.keyword.push(/\b(?:abstract|declare|is|keyof|readonly|require)\b/,/\b(?:asserts|infer|interface|module|namespace|type)\b(?=\s*(?:[{_$a-zA-Z\xA0-\uFFFF]|$))/,/\btype\b(?=\s*(?:[\{*]|$))/),delete je.languages.typescript.parameter,delete je.languages.typescript["literal-property"];var ne=je.languages.extend("typescript",{});delete ne["class-name"],je.languages.typescript["class-name"].inside=ne,je.languages.insertBefore("typescript","function",{decorator:{pattern:/@[$\w\xA0-\uFFFF]+/,inside:{at:{pattern:/^@/,alias:"operator"},function:/^[\s\S]+/}},"generic-function":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>(?=\s*\()/,greedy:!0,inside:{function:/^#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:ne}}}}),je.languages.ts=je.languages.typescript}(Prism)},7240:()=>{!function(je){var ne=/[*&][^\s[\]{},]+/,C=/!(?:<[\w\-%#;/?:@&=+$,.!~*'()[\]]+>|(?:[a-zA-Z\d-]*!)?[\w\-%#;/?:@&=+$.~*'()]+)?/,g="(?:"+C.source+"(?:[ \t]+"+ne.source+")?|"+ne.source+"(?:[ \t]+"+C.source+")?)",e=/(?:[^\s\x00-\x08\x0e-\x1f!"#%&'*,\-:>?@[\]`{|}\x7f-\x84\x86-\x9f\ud800-\udfff\ufffe\uffff]|[?:-]<PLAIN>)(?:[ \t]*(?:(?![#:])<PLAIN>|:<PLAIN>))*/.source.replace(/<PLAIN>/g,function(){return/[^\s\x00-\x08\x0e-\x1f,[\]{}\x7f-\x84\x86-\x9f\ud800-\udfff\ufffe\uffff]/.source}),$=/"(?:[^"\\\r\n]|\\.)*"|'(?:[^'\\\r\n]|\\.)*'/.source;function O(N,G){G=(G||"").replace(/m/g,"")+"m";var re=/([:\-,[{]\s*(?:\s<<prop>>[ \t]+)?)(?:<<value>>)(?=[ \t]*(?:$|,|\]|\}|(?:[\r\n]\s*)?#))/.source.replace(/<<prop>>/g,function(){return g}).replace(/<<value>>/g,function(){return N});return RegExp(re,G)}je.languages.yaml={scalar:{pattern:RegExp(/([\-:]\s*(?:\s<<prop>>[ \t]+)?[|>])[ \t]*(?:((?:\r?\n|\r)[ \t]+)\S[^\r\n]*(?:\2[^\r\n]+)*)/.source.replace(/<<prop>>/g,function(){return g})),lookbehind:!0,alias:"string"},comment:/#.*/,key:{pattern:RegExp(/((?:^|[:\-,[{\r\n?])[ \t]*(?:<<prop>>[ \t]+)?)<<key>>(?=\s*:\s)/.source.replace(/<<prop>>/g,function(){return g}).replace(/<<key>>/g,function(){return"(?:"+e+"|"+$+")"})),lookbehind:!0,greedy:!0,alias:"atrule"},directive:{pattern:/(^[ \t]*)%.+/m,lookbehind:!0,alias:"important"},datetime:{pattern:O(/\d{4}-\d\d?-\d\d?(?:[tT]|[ \t]+)\d\d?:\d{2}:\d{2}(?:\.\d*)?(?:[ \t]*(?:Z|[-+]\d\d?(?::\d{2})?))?|\d{4}-\d{2}-\d{2}|\d\d?:\d{2}(?::\d{2}(?:\.\d*)?)?/.source),lookbehind:!0,alias:"number"},boolean:{pattern:O(/false|true/.source,"i"),lookbehind:!0,alias:"important"},null:{pattern:O(/null|~/.source,"i"),lookbehind:!0,alias:"important"},string:{pattern:O($),lookbehind:!0,greedy:!0},number:{pattern:O(/[+-]?(?:0x[\da-f]+|0o[0-7]+|(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?|\.inf|\.nan)/.source,"i"),lookbehind:!0},tag:C,important:ne,punctuation:/---|[:[\]{}\-,|>?]|\.\.\./},je.languages.yml=je.languages.yaml}(Prism)},8295:je=>{var C=function(g){var e=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,$=0,O={},N={manual:g.Prism&&g.Prism.manual,disableWorkerMessageHandler:g.Prism&&g.Prism.disableWorkerMessageHandler,util:{encode:function ee(Q){return Q instanceof G?new G(Q.type,ee(Q.content),Q.alias):Array.isArray(Q)?Q.map(ee):Q.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(ee){return Object.prototype.toString.call(ee).slice(8,-1)},objId:function(ee){return ee.__id||Object.defineProperty(ee,"__id",{value:++$}),ee.__id},clone:function ee(Q,me){var Te,Ie;switch(me=me||{},N.util.type(Q)){case"Object":if(Ie=N.util.objId(Q),me[Ie])return me[Ie];for(var de in me[Ie]=Te={},Q)Q.hasOwnProperty(de)&&(Te[de]=ee(Q[de],me));return Te;case"Array":return Ie=N.util.objId(Q),me[Ie]?me[Ie]:(me[Ie]=Te=[],Q.forEach(function(oe,J){Te[J]=ee(oe,me)}),Te);default:return Q}},getLanguage:function(ee){for(;ee;){var Q=e.exec(ee.className);if(Q)return Q[1].toLowerCase();ee=ee.parentElement}return"none"},setLanguage:function(ee,Q){ee.className=ee.className.replace(RegExp(e,"gi"),""),ee.classList.add("language-"+Q)},currentScript:function(){if(typeof document>"u")return null;if("currentScript"in document)return document.currentScript;try{throw new Error}catch(Te){var ee=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(Te.stack)||[])[1];if(ee){var Q=document.getElementsByTagName("script");for(var me in Q)if(Q[me].src==ee)return Q[me]}return null}},isActive:function(ee,Q,me){for(var Te="no-"+Q;ee;){var Ie=ee.classList;if(Ie.contains(Q))return!0;if(Ie.contains(Te))return!1;ee=ee.parentElement}return!!me}},languages:{plain:O,plaintext:O,text:O,txt:O,extend:function(ee,Q){var me=N.util.clone(N.languages[ee]);for(var Te in Q)me[Te]=Q[Te];return me},insertBefore:function(ee,Q,me,Te){var Ie=(Te=Te||N.languages)[ee],de={};for(var oe in Ie)if(Ie.hasOwnProperty(oe)){if(oe==Q)for(var J in me)me.hasOwnProperty(J)&&(de[J]=me[J]);me.hasOwnProperty(oe)||(de[oe]=Ie[oe])}var Oe=Te[ee];return Te[ee]=de,N.languages.DFS(N.languages,function(Ae,Me){Me===Oe&&Ae!=ee&&(this[Ae]=de)}),de},DFS:function ee(Q,me,Te,Ie){Ie=Ie||{};var de=N.util.objId;for(var oe in Q)if(Q.hasOwnProperty(oe)){me.call(Q,oe,Q[oe],Te||oe);var J=Q[oe],Oe=N.util.type(J);"Object"!==Oe||Ie[de(J)]?"Array"===Oe&&!Ie[de(J)]&&(Ie[de(J)]=!0,ee(J,me,oe,Ie)):(Ie[de(J)]=!0,ee(J,me,null,Ie))}}},plugins:{},highlightAll:function(ee,Q){N.highlightAllUnder(document,ee,Q)},highlightAllUnder:function(ee,Q,me){var Te={callback:me,container:ee,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};N.hooks.run("before-highlightall",Te),Te.elements=Array.prototype.slice.apply(Te.container.querySelectorAll(Te.selector)),N.hooks.run("before-all-elements-highlight",Te);for(var de,Ie=0;de=Te.elements[Ie++];)N.highlightElement(de,!0===Q,Te.callback)},highlightElement:function(ee,Q,me){var Te=N.util.getLanguage(ee),Ie=N.languages[Te];N.util.setLanguage(ee,Te);var de=ee.parentElement;de&&"pre"===de.nodeName.toLowerCase()&&N.util.setLanguage(de,Te);var J={element:ee,language:Te,grammar:Ie,code:ee.textContent};function Oe(Me){J.highlightedCode=Me,N.hooks.run("before-insert",J),J.element.innerHTML=J.highlightedCode,N.hooks.run("after-highlight",J),N.hooks.run("complete",J),me&&me.call(J.element)}if(N.hooks.run("before-sanity-check",J),(de=J.element.parentElement)&&"pre"===de.nodeName.toLowerCase()&&!de.hasAttribute("tabindex")&&de.setAttribute("tabindex","0"),!J.code)return N.hooks.run("complete",J),void(me&&me.call(J.element));if(N.hooks.run("before-highlight",J),J.grammar)if(Q&&g.Worker){var Ae=new Worker(N.filename);Ae.onmessage=function(Me){Oe(Me.data)},Ae.postMessage(JSON.stringify({language:J.language,code:J.code,immediateClose:!0}))}else Oe(N.highlight(J.code,J.grammar,J.language));else Oe(N.util.encode(J.code))},highlight:function(ee,Q,me){var Te={code:ee,grammar:Q,language:me};if(N.hooks.run("before-tokenize",Te),!Te.grammar)throw new Error('The language "'+Te.language+'" has no grammar.');return Te.tokens=N.tokenize(Te.code,Te.grammar),N.hooks.run("after-tokenize",Te),G.stringify(N.util.encode(Te.tokens),Te.language)},tokenize:function(ee,Q){var me=Q.rest;if(me){for(var Te in me)Q[Te]=me[Te];delete Q.rest}var Ie=new fe;return ue(Ie,Ie.head,ee),be(ee,Ie,Q,Ie.head,0),function te(ee){for(var Q=[],me=ee.head.next;me!==ee.tail;)Q.push(me.value),me=me.next;return Q}(Ie)},hooks:{all:{},add:function(ee,Q){var me=N.hooks.all;me[ee]=me[ee]||[],me[ee].push(Q)},run:function(ee,Q){var me=N.hooks.all[ee];if(me&&me.length)for(var Ie,Te=0;Ie=me[Te++];)Ie(Q)}},Token:G};function G(ee,Q,me,Te){this.type=ee,this.content=Q,this.alias=me,this.length=0|(Te||"").length}function re(ee,Q,me,Te){ee.lastIndex=Q;var Ie=ee.exec(me);if(Ie&&Te&&Ie[1]){var de=Ie[1].length;Ie.index+=de,Ie[0]=Ie[0].slice(de)}return Ie}function be(ee,Q,me,Te,Ie,de){for(var oe in me)if(me.hasOwnProperty(oe)&&me[oe]){var J=me[oe];J=Array.isArray(J)?J:[J];for(var Oe=0;Oe<J.length;++Oe){if(de&&de.cause==oe+","+Oe)return;var Ae=J[Oe],Me=Ae.inside,Ve=!!Ae.lookbehind,it=!!Ae.greedy,mt=Ae.alias;if(it&&!Ae.pattern.global){var We=Ae.pattern.toString().match(/[imsuy]*$/)[0];Ae.pattern=RegExp(Ae.pattern.source,We+"g")}for(var kt=Ae.pattern||Ae,Ye=Te.next,pt=Ie;Ye!==Q.tail&&!(de&&pt>=de.reach);pt+=Ye.value.length,Ye=Ye.next){var ft=Ye.value;if(Q.length>ee.length)return;if(!(ft instanceof G)){var Kt,Rt=1;if(it){if(!(Kt=re(kt,pt,ee,Ve))||Kt.index>=ee.length)break;var ge=Kt.index,se=Kt.index+Kt[0].length,ae=pt;for(ae+=Ye.value.length;ge>=ae;)ae+=(Ye=Ye.next).value.length;if(pt=ae-=Ye.value.length,Ye.value instanceof G)continue;for(var he=Ye;he!==Q.tail&&(ae<se||"string"==typeof he.value);he=he.next)Rt++,ae+=he.value.length;Rt--,ft=ee.slice(pt,ae),Kt.index-=pt}else if(!(Kt=re(kt,0,ft,Ve)))continue;var De=Kt[0],Se=ft.slice(0,ge=Kt.index),Qe=ft.slice(ge+De.length),Ct=pt+ft.length;de&&Ct>de.reach&&(de.reach=Ct);var qe=Ye.prev;if(Se&&(qe=ue(Q,qe,Se),pt+=Se.length),X(Q,qe,Rt),Ye=ue(Q,qe,new G(oe,Me?N.tokenize(De,Me):De,mt,De)),Qe&&ue(Q,Ye,Qe),Rt>1){var Vt={cause:oe+","+Oe,reach:Ct};be(ee,Q,me,Ye.prev,pt,Vt),de&&Vt.reach>de.reach&&(de.reach=Vt.reach)}}}}}}function fe(){var ee={value:null,prev:null,next:null},Q={value:null,prev:ee,next:null};ee.next=Q,this.head=ee,this.tail=Q,this.length=0}function ue(ee,Q,me){var Te=Q.next,Ie={value:me,prev:Q,next:Te};return Q.next=Ie,Te.prev=Ie,ee.length++,Ie}function X(ee,Q,me){for(var Te=Q.next,Ie=0;Ie<me&&Te!==ee.tail;Ie++)Te=Te.next;Q.next=Te,Te.prev=Q,ee.length-=Ie}if(g.Prism=N,G.stringify=function ee(Q,me){if("string"==typeof Q)return Q;if(Array.isArray(Q)){var Te="";return Q.forEach(function(Oe){Te+=ee(Oe,me)}),Te}var Ie={type:Q.type,content:ee(Q.content,me),tag:"span",classes:["token",Q.type],attributes:{},language:me},de=Q.alias;de&&(Array.isArray(de)?Array.prototype.push.apply(Ie.classes,de):Ie.classes.push(de)),N.hooks.run("wrap",Ie);var oe="";for(var J in Ie.attributes)oe+=" "+J+'="'+(Ie.attributes[J]||"").replace(/"/g,"&quot;")+'"';return"<"+Ie.tag+' class="'+Ie.classes.join(" ")+'"'+oe+">"+Ie.content+"</"+Ie.tag+">"},!g.document)return g.addEventListener&&(N.disableWorkerMessageHandler||g.addEventListener("message",function(ee){var Q=JSON.parse(ee.data),me=Q.language,Ie=Q.immediateClose;g.postMessage(N.highlight(Q.code,N.languages[me],me)),Ie&&g.close()},!1)),N;var Y=N.util.currentScript();function q(){N.manual||N.highlightAll()}if(Y&&(N.filename=Y.src,Y.hasAttribute("data-manual")&&(N.manual=!0)),!N.manual){var Fe=document.readyState;"loading"===Fe||"interactive"===Fe&&Y&&Y.defer?document.addEventListener("DOMContentLoaded",q):window.requestAnimationFrame?window.requestAnimationFrame(q):window.setTimeout(q,16)}return N}(typeof window<"u"?window:typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope?self:{});je.exports&&(je.exports=C),typeof global<"u"&&(global.Prism=C),C.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},C.languages.markup.tag.inside["attr-value"].inside.entity=C.languages.markup.entity,C.languages.markup.doctype.inside["internal-subset"].inside=C.languages.markup,C.hooks.add("wrap",function(g){"entity"===g.type&&(g.attributes.title=g.content.replace(/&amp;/,"&"))}),Object.defineProperty(C.languages.markup.tag,"addInlined",{value:function(e,$){var O={};O["language-"+$]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:C.languages[$]},O.cdata=/^<!\[CDATA\[|\]\]>$/i;var N={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:O}};N["language-"+$]={pattern:/[\s\S]+/,inside:C.languages[$]};var G={};G[e]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return e}),"i"),lookbehind:!0,greedy:!0,inside:N},C.languages.insertBefore("markup","cdata",G)}}),Object.defineProperty(C.languages.markup.tag,"addAttribute",{value:function(g,e){C.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+g+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[e,"language-"+e],inside:C.languages[e]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),C.languages.html=C.languages.markup,C.languages.mathml=C.languages.markup,C.languages.svg=C.languages.markup,C.languages.xml=C.languages.extend("markup",{}),C.languages.ssml=C.languages.xml,C.languages.atom=C.languages.xml,C.languages.rss=C.languages.xml,function(g){var e=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;g.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:"+/[^;{\s"']|\s+(?!\s)/.source+"|"+e.source+")*?"+/(?:;|(?=\s*\{))/.source),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+e.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+e.source+"$"),alias:"url"}}},selector:{pattern:RegExp("(^|[{}\\s])[^{}\\s](?:[^{};\"'\\s]|\\s+(?![\\s{])|"+e.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:e,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},g.languages.css.atrule.inside.rest=g.languages.css;var $=g.languages.markup;$&&($.tag.addInlined("style","css"),$.tag.addAttribute("style","css"))}(C),C.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/},C.languages.javascript=C.languages.extend("clike",{"class-name":[C.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),C.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,C.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:C.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:C.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:C.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:C.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:C.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),C.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:C.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),C.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),C.languages.markup&&(C.languages.markup.tag.addInlined("script","javascript"),C.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),C.languages.js=C.languages.javascript,function(){if(!(typeof C>"u"||typeof document>"u")){Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector);var O={js:"javascript",py:"python",rb:"ruby",ps1:"powershell",psm1:"powershell",sh:"bash",bat:"batch",h:"c",tex:"latex"},N="data-src-status",G="loading",fe="pre[data-src]:not(["+N+'="loaded"]):not(['+N+'="'+G+'"])';C.hooks.add("before-highlightall",function(Y){Y.selector+=", "+fe}),C.hooks.add("before-sanity-check",function(Y){var q=Y.element;if(q.matches(fe)){Y.code="",q.setAttribute(N,G);var Fe=q.appendChild(document.createElement("CODE"));Fe.textContent="Loading\u2026";var ee=q.getAttribute("data-src"),Q=Y.language;if("none"===Q){var me=(/\.(\w+)$/.exec(ee)||[,"none"])[1];Q=O[me]||me}C.util.setLanguage(Fe,Q),C.util.setLanguage(q,Q);var Te=C.plugins.autoloader;Te&&Te.loadLanguages(Q),function ue(Y,q,Fe){var ee=new XMLHttpRequest;ee.open("GET",Y,!0),ee.onreadystatechange=function(){4==ee.readyState&&(ee.status<400&&ee.responseText?q(ee.responseText):Fe(ee.status>=400?function(Y,q){return"\u2716 Error "+Y+" while fetching file: "+q}(ee.status,ee.statusText):"\u2716 Error: File does not exist or is empty"))},ee.send(null)}(ee,function(Ie){q.setAttribute(N,"loaded");var de=function X(Y){var q=/^\s*(\d+)\s*(?:(,)\s*(?:(\d+)\s*)?)?$/.exec(Y||"");if(q){var Fe=Number(q[1]),Q=q[3];return q[2]?Q?[Fe,Number(Q)]:[Fe,void 0]:[Fe,Fe]}}(q.getAttribute("data-range"));if(de){var oe=Ie.split(/\r\n?|\n/g),J=de[0],Oe=null==de[1]?oe.length:de[1];J<0&&(J+=oe.length),J=Math.max(0,Math.min(J-1,oe.length)),Oe<0&&(Oe+=oe.length),Oe=Math.max(0,Math.min(Oe,oe.length)),Ie=oe.slice(J,Oe).join("\n"),q.hasAttribute("data-start")||q.setAttribute("data-start",String(J+1))}Fe.textContent=Ie,C.highlightElement(Fe)},function(Ie){q.setAttribute(N,"failed"),Fe.textContent=Ie})}}),C.plugins.fileHighlight={highlight:function(q){for(var Q,Fe=(q||document).querySelectorAll(fe),ee=0;Q=Fe[ee++];)C.highlightElement(Q)}};var te=!1;C.fileHighlight=function(){te||(console.warn("Prism.fileHighlight is deprecated. Use `Prism.plugins.fileHighlight.highlight` instead."),te=!0),C.plugins.fileHighlight.highlight.apply(this,arguments)}}}()},4412:(je,ne,C)=>{"use strict";C.d(ne,{t:()=>e});var g=C(1413);class e extends g.B{constructor(O){super(),this._value=O}get value(){return this.getValue()}_subscribe(O){const N=super._subscribe(O);return!N.closed&&O.next(this._value),N}getValue(){const{hasError:O,thrownError:N,_value:G}=this;if(O)throw N;return this._throwIfClosed(),G}next(O){super.next(this._value=O)}}},1985:(je,ne,C)=>{"use strict";C.d(ne,{c:()=>be});var g=C(7707),e=C(8359),$=C(3494),O=C(1203),N=C(1026),G=C(8071),re=C(9786);let be=(()=>{class te{constructor(q){q&&(this._subscribe=q)}lift(q){const Fe=new te;return Fe.source=this,Fe.operator=q,Fe}subscribe(q,Fe,ee){const Q=function X(te){return te&&te instanceof g.vU||function ue(te){return te&&(0,G.T)(te.next)&&(0,G.T)(te.error)&&(0,G.T)(te.complete)}(te)&&(0,e.Uv)(te)}(q)?q:new g.Ms(q,Fe,ee);return(0,re.Y)(()=>{const{operator:me,source:Te}=this;Q.add(me?me.call(Q,Te):Te?this._subscribe(Q):this._trySubscribe(Q))}),Q}_trySubscribe(q){try{return this._subscribe(q)}catch(Fe){q.error(Fe)}}forEach(q,Fe){return new(Fe=fe(Fe))((ee,Q)=>{const me=new g.Ms({next:Te=>{try{q(Te)}catch(Ie){Q(Ie),me.unsubscribe()}},error:Q,complete:ee});this.subscribe(me)})}_subscribe(q){var Fe;return null===(Fe=this.source)||void 0===Fe?void 0:Fe.subscribe(q)}[$.s](){return this}pipe(...q){return(0,O.m)(q)(this)}toPromise(q){return new(q=fe(q))((Fe,ee)=>{let Q;this.subscribe(me=>Q=me,me=>ee(me),()=>Fe(Q))})}}return te.create=Y=>new te(Y),te})();function fe(te){var Y;return null!==(Y=te??N.$.Promise)&&void 0!==Y?Y:Promise}},1413:(je,ne,C)=>{"use strict";C.d(ne,{B:()=>re});var g=C(1985),e=C(8359);const O=(0,C(1853).L)(fe=>function(){fe(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var N=C(7908),G=C(9786);let re=(()=>{class fe extends g.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(X){const te=new be(this,this);return te.operator=X,te}_throwIfClosed(){if(this.closed)throw new O}next(X){(0,G.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const te of this.currentObservers)te.next(X)}})}error(X){(0,G.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=X;const{observers:te}=this;for(;te.length;)te.shift().error(X)}})}complete(){(0,G.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:X}=this;for(;X.length;)X.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var X;return(null===(X=this.observers)||void 0===X?void 0:X.length)>0}_trySubscribe(X){return this._throwIfClosed(),super._trySubscribe(X)}_subscribe(X){return this._throwIfClosed(),this._checkFinalizedStatuses(X),this._innerSubscribe(X)}_innerSubscribe(X){const{hasError:te,isStopped:Y,observers:q}=this;return te||Y?e.Kn:(this.currentObservers=null,q.push(X),new e.yU(()=>{this.currentObservers=null,(0,N.o)(q,X)}))}_checkFinalizedStatuses(X){const{hasError:te,thrownError:Y,isStopped:q}=this;te?X.error(Y):q&&X.complete()}asObservable(){const X=new g.c;return X.source=this,X}}return fe.create=(ue,X)=>new be(ue,X),fe})();class be extends re{constructor(ue,X){super(),this.destination=ue,this.source=X}next(ue){var X,te;null===(te=null===(X=this.destination)||void 0===X?void 0:X.next)||void 0===te||te.call(X,ue)}error(ue){var X,te;null===(te=null===(X=this.destination)||void 0===X?void 0:X.error)||void 0===te||te.call(X,ue)}complete(){var ue,X;null===(X=null===(ue=this.destination)||void 0===ue?void 0:ue.complete)||void 0===X||X.call(ue)}_subscribe(ue){var X,te;return null!==(te=null===(X=this.source)||void 0===X?void 0:X.subscribe(ue))&&void 0!==te?te:e.Kn}}},7707:(je,ne,C)=>{"use strict";C.d(ne,{Ms:()=>ee,vU:()=>te});var g=C(8071),e=C(8359),$=C(1026),O=C(5334),N=C(5343);const G=fe("C",void 0,void 0);function fe(de,oe,J){return{kind:de,value:oe,error:J}}var ue=C(9270),X=C(9786);class te extends e.yU{constructor(oe){super(),this.isStopped=!1,oe?(this.destination=oe,(0,e.Uv)(oe)&&oe.add(this)):this.destination=Ie}static create(oe,J,Oe){return new ee(oe,J,Oe)}next(oe){this.isStopped?Te(function be(de){return fe("N",de,void 0)}(oe),this):this._next(oe)}error(oe){this.isStopped?Te(function re(de){return fe("E",void 0,de)}(oe),this):(this.isStopped=!0,this._error(oe))}complete(){this.isStopped?Te(G,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(oe){this.destination.next(oe)}_error(oe){try{this.destination.error(oe)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Y=Function.prototype.bind;function q(de,oe){return Y.call(de,oe)}class Fe{constructor(oe){this.partialObserver=oe}next(oe){const{partialObserver:J}=this;if(J.next)try{J.next(oe)}catch(Oe){Q(Oe)}}error(oe){const{partialObserver:J}=this;if(J.error)try{J.error(oe)}catch(Oe){Q(Oe)}else Q(oe)}complete(){const{partialObserver:oe}=this;if(oe.complete)try{oe.complete()}catch(J){Q(J)}}}class ee extends te{constructor(oe,J,Oe){let Ae;if(super(),(0,g.T)(oe)||!oe)Ae={next:oe??void 0,error:J??void 0,complete:Oe??void 0};else{let Me;this&&$.$.useDeprecatedNextContext?(Me=Object.create(oe),Me.unsubscribe=()=>this.unsubscribe(),Ae={next:oe.next&&q(oe.next,Me),error:oe.error&&q(oe.error,Me),complete:oe.complete&&q(oe.complete,Me)}):Ae=oe}this.destination=new Fe(Ae)}}function Q(de){$.$.useDeprecatedSynchronousErrorHandling?(0,X.l)(de):(0,O.m)(de)}function Te(de,oe){const{onStoppedNotification:J}=$.$;J&&ue.f.setTimeout(()=>J(de,oe))}const Ie={closed:!0,next:N.l,error:function me(de){throw de},complete:N.l}},8359:(je,ne,C)=>{"use strict";C.d(ne,{Kn:()=>G,yU:()=>N,Uv:()=>re});var g=C(8071);const $=(0,C(1853).L)(fe=>function(X){fe(this),this.message=X?`${X.length} errors occurred during unsubscription:\n${X.map((te,Y)=>`${Y+1}) ${te.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=X});var O=C(7908);class N{constructor(ue){this.initialTeardown=ue,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let ue;if(!this.closed){this.closed=!0;const{_parentage:X}=this;if(X)if(this._parentage=null,Array.isArray(X))for(const q of X)q.remove(this);else X.remove(this);const{initialTeardown:te}=this;if((0,g.T)(te))try{te()}catch(q){ue=q instanceof $?q.errors:[q]}const{_finalizers:Y}=this;if(Y){this._finalizers=null;for(const q of Y)try{be(q)}catch(Fe){ue=ue??[],Fe instanceof $?ue=[...ue,...Fe.errors]:ue.push(Fe)}}if(ue)throw new $(ue)}}add(ue){var X;if(ue&&ue!==this)if(this.closed)be(ue);else{if(ue instanceof N){if(ue.closed||ue._hasParent(this))return;ue._addParent(this)}(this._finalizers=null!==(X=this._finalizers)&&void 0!==X?X:[]).push(ue)}}_hasParent(ue){const{_parentage:X}=this;return X===ue||Array.isArray(X)&&X.includes(ue)}_addParent(ue){const{_parentage:X}=this;this._parentage=Array.isArray(X)?(X.push(ue),X):X?[X,ue]:ue}_removeParent(ue){const{_parentage:X}=this;X===ue?this._parentage=null:Array.isArray(X)&&(0,O.o)(X,ue)}remove(ue){const{_finalizers:X}=this;X&&(0,O.o)(X,ue),ue instanceof N&&ue._removeParent(this)}}N.EMPTY=(()=>{const fe=new N;return fe.closed=!0,fe})();const G=N.EMPTY;function re(fe){return fe instanceof N||fe&&"closed"in fe&&(0,g.T)(fe.remove)&&(0,g.T)(fe.add)&&(0,g.T)(fe.unsubscribe)}function be(fe){(0,g.T)(fe)?fe():fe.unsubscribe()}},1026:(je,ne,C)=>{"use strict";C.d(ne,{$:()=>g});const g={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},4572:(je,ne,C)=>{"use strict";C.d(ne,{z:()=>ue});var g=C(1985),e=C(3073),$=C(6648),O=C(3669),N=C(6450),G=C(9326),re=C(8496),be=C(4360),fe=C(5225);function ue(...Y){const q=(0,G.lI)(Y),Fe=(0,G.ms)(Y),{args:ee,keys:Q}=(0,e.D)(Y);if(0===ee.length)return(0,$.H)([],q);const me=new g.c(function X(Y,q,Fe=O.D){return ee=>{te(q,()=>{const{length:Q}=Y,me=new Array(Q);let Te=Q,Ie=Q;for(let de=0;de<Q;de++)te(q,()=>{const oe=(0,$.H)(Y[de],q);let J=!1;oe.subscribe((0,be._)(ee,Oe=>{me[de]=Oe,J||(J=!0,Ie--),Ie||ee.next(Fe(me.slice()))},()=>{--Te||ee.complete()}))},ee)},ee)}}(ee,q,Q?Te=>(0,re.e)(Q,Te):O.D));return Fe?me.pipe((0,N.I)(Fe)):me}function te(Y,q,Fe){Y?(0,fe.N)(Fe,Y,q):q()}},8793:(je,ne,C)=>{"use strict";C.d(ne,{x:()=>N});var g=C(6365),$=C(9326),O=C(6648);function N(...G){return function e(){return(0,g.U)(1)}()((0,O.H)(G,(0,$.lI)(G)))}},983:(je,ne,C)=>{"use strict";C.d(ne,{w:()=>e});const e=new(C(1985).c)(N=>N.complete())},6648:(je,ne,C)=>{"use strict";C.d(ne,{H:()=>Oe});var g=C(8750),e=C(5225),$=C(9974),O=C(4360);function N(Ae,Me=0){return(0,$.N)((Ve,it)=>{Ve.subscribe((0,O._)(it,mt=>(0,e.N)(it,Ae,()=>it.next(mt),Me),()=>(0,e.N)(it,Ae,()=>it.complete(),Me),mt=>(0,e.N)(it,Ae,()=>it.error(mt),Me)))})}function G(Ae,Me=0){return(0,$.N)((Ve,it)=>{it.add(Ae.schedule(()=>Ve.subscribe(it),Me))})}var fe=C(1985),X=C(4761),te=C(8071);function q(Ae,Me){if(!Ae)throw new Error("Iterable cannot be null");return new fe.c(Ve=>{(0,e.N)(Ve,Me,()=>{const it=Ae[Symbol.asyncIterator]();(0,e.N)(Ve,Me,()=>{it.next().then(mt=>{mt.done?Ve.complete():Ve.next(mt.value)})},0,!0)})})}var Fe=C(5055),ee=C(9858),Q=C(7441),me=C(5397),Te=C(7953),Ie=C(591),de=C(5196);function Oe(Ae,Me){return Me?function J(Ae,Me){if(null!=Ae){if((0,Fe.l)(Ae))return function re(Ae,Me){return(0,g.Tg)(Ae).pipe(G(Me),N(Me))}(Ae,Me);if((0,Q.X)(Ae))return function ue(Ae,Me){return new fe.c(Ve=>{let it=0;return Me.schedule(function(){it===Ae.length?Ve.complete():(Ve.next(Ae[it++]),Ve.closed||this.schedule())})})}(Ae,Me);if((0,ee.y)(Ae))return function be(Ae,Me){return(0,g.Tg)(Ae).pipe(G(Me),N(Me))}(Ae,Me);if((0,Te.T)(Ae))return q(Ae,Me);if((0,me.x)(Ae))return function Y(Ae,Me){return new fe.c(Ve=>{let it;return(0,e.N)(Ve,Me,()=>{it=Ae[X.l](),(0,e.N)(Ve,Me,()=>{let mt,We;try{({value:mt,done:We}=it.next())}catch(kt){return void Ve.error(kt)}We?Ve.complete():Ve.next(mt)},0,!0)}),()=>(0,te.T)(it?.return)&&it.return()})}(Ae,Me);if((0,de.U)(Ae))return function oe(Ae,Me){return q((0,de.C)(Ae),Me)}(Ae,Me)}throw(0,Ie.L)(Ae)}(Ae,Me):(0,g.Tg)(Ae)}},8750:(je,ne,C)=>{"use strict";C.d(ne,{Tg:()=>Y});var g=C(1635),e=C(7441),$=C(9858),O=C(1985),N=C(5055),G=C(7953),re=C(591),be=C(5397),fe=C(5196),ue=C(8071),X=C(5334),te=C(3494);function Y(de){if(de instanceof O.c)return de;if(null!=de){if((0,N.l)(de))return function q(de){return new O.c(oe=>{const J=de[te.s]();if((0,ue.T)(J.subscribe))return J.subscribe(oe);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(de);if((0,e.X)(de))return function Fe(de){return new O.c(oe=>{for(let J=0;J<de.length&&!oe.closed;J++)oe.next(de[J]);oe.complete()})}(de);if((0,$.y)(de))return function ee(de){return new O.c(oe=>{de.then(J=>{oe.closed||(oe.next(J),oe.complete())},J=>oe.error(J)).then(null,X.m)})}(de);if((0,G.T)(de))return me(de);if((0,be.x)(de))return function Q(de){return new O.c(oe=>{for(const J of de)if(oe.next(J),oe.closed)return;oe.complete()})}(de);if((0,fe.U)(de))return function Te(de){return me((0,fe.C)(de))}(de)}throw(0,re.L)(de)}function me(de){return new O.c(oe=>{(function Ie(de,oe){var J,Oe,Ae,Me;return(0,g.sH)(this,void 0,void 0,function*(){try{for(J=(0,g.xN)(de);!(Oe=yield J.next()).done;)if(oe.next(Oe.value),oe.closed)return}catch(Ve){Ae={error:Ve}}finally{try{Oe&&!Oe.done&&(Me=J.return)&&(yield Me.call(J))}finally{if(Ae)throw Ae.error}}oe.complete()})})(de,oe).catch(J=>oe.error(J))})}},7673:(je,ne,C)=>{"use strict";C.d(ne,{of:()=>$});var g=C(9326),e=C(6648);function $(...O){const N=(0,g.lI)(O);return(0,e.H)(O,N)}},8810:(je,ne,C)=>{"use strict";C.d(ne,{$:()=>$});var g=C(1985),e=C(8071);function $(O,N){const G=(0,e.T)(O)?O:()=>O,re=be=>be.error(G());return new g.c(N?be=>N.schedule(re,0,be):re)}},4360:(je,ne,C)=>{"use strict";C.d(ne,{_:()=>e});var g=C(7707);function e(O,N,G,re,be){return new $(O,N,G,re,be)}class $ extends g.vU{constructor(N,G,re,be,fe,ue){super(N),this.onFinalize=fe,this.shouldUnsubscribe=ue,this._next=G?function(X){try{G(X)}catch(te){N.error(te)}}:super._next,this._error=be?function(X){try{be(X)}catch(te){N.error(te)}finally{this.unsubscribe()}}:super._error,this._complete=re?function(){try{re()}catch(X){N.error(X)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var N;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:G}=this;super.unsubscribe(),!G&&(null===(N=this.onFinalize)||void 0===N||N.call(this))}}}},9437:(je,ne,C)=>{"use strict";C.d(ne,{W:()=>O});var g=C(8750),e=C(4360),$=C(9974);function O(N){return(0,$.N)((G,re)=>{let ue,be=null,fe=!1;be=G.subscribe((0,e._)(re,void 0,void 0,X=>{ue=(0,g.Tg)(N(X,O(N)(G))),be?(be.unsubscribe(),be=null,ue.subscribe(re)):fe=!0})),fe&&(be.unsubscribe(),be=null,ue.subscribe(re))})}},274:(je,ne,C)=>{"use strict";C.d(ne,{H:()=>$});var g=C(1397),e=C(8071);function $(O,N){return(0,e.T)(N)?(0,g.Z)(O,N,1):(0,g.Z)(O,1)}},152:(je,ne,C)=>{"use strict";C.d(ne,{B:()=>O});var g=C(3888),e=C(9974),$=C(4360);function O(N,G=g.E){return(0,e.N)((re,be)=>{let fe=null,ue=null,X=null;const te=()=>{if(fe){fe.unsubscribe(),fe=null;const q=ue;ue=null,be.next(q)}};function Y(){const q=X+N,Fe=G.now();if(Fe<q)return fe=this.schedule(void 0,q-Fe),void be.add(fe);te()}re.subscribe((0,$._)(be,q=>{ue=q,X=G.now(),fe||(fe=G.schedule(Y,N),be.add(fe))},()=>{te(),be.complete()},void 0,()=>{ue=fe=null}))})}},5964:(je,ne,C)=>{"use strict";C.d(ne,{p:()=>$});var g=C(9974),e=C(4360);function $(O,N){return(0,g.N)((G,re)=>{let be=0;G.subscribe((0,e._)(re,fe=>O.call(N,fe,be++)&&re.next(fe)))})}},980:(je,ne,C)=>{"use strict";C.d(ne,{j:()=>e});var g=C(9974);function e($){return(0,g.N)((O,N)=>{try{O.subscribe(N)}finally{N.add($)}})}},6354:(je,ne,C)=>{"use strict";C.d(ne,{T:()=>$});var g=C(9974),e=C(4360);function $(O,N){return(0,g.N)((G,re)=>{let be=0;G.subscribe((0,e._)(re,fe=>{re.next(O.call(N,fe,be++))}))})}},6365:(je,ne,C)=>{"use strict";C.d(ne,{U:()=>$});var g=C(1397),e=C(3669);function $(O=1/0){return(0,g.Z)(e.D,O)}},1397:(je,ne,C)=>{"use strict";C.d(ne,{Z:()=>be});var g=C(6354),e=C(8750),$=C(9974),O=C(5225),N=C(4360),re=C(8071);function be(fe,ue,X=1/0){return(0,re.T)(ue)?be((te,Y)=>(0,g.T)((q,Fe)=>ue(te,q,Y,Fe))((0,e.Tg)(fe(te,Y))),X):("number"==typeof ue&&(X=ue),(0,$.N)((te,Y)=>function G(fe,ue,X,te,Y,q,Fe,ee){const Q=[];let me=0,Te=0,Ie=!1;const de=()=>{Ie&&!Q.length&&!me&&ue.complete()},oe=Oe=>me<te?J(Oe):Q.push(Oe),J=Oe=>{q&&ue.next(Oe),me++;let Ae=!1;(0,e.Tg)(X(Oe,Te++)).subscribe((0,N._)(ue,Me=>{Y?.(Me),q?oe(Me):ue.next(Me)},()=>{Ae=!0},void 0,()=>{if(Ae)try{for(me--;Q.length&&me<te;){const Me=Q.shift();Fe?(0,O.N)(ue,Fe,()=>J(Me)):J(Me)}de()}catch(Me){ue.error(Me)}}))};return fe.subscribe((0,N._)(ue,oe,()=>{Ie=!0,de()})),()=>{ee?.()}}(te,Y,fe,X)))}},9172:(je,ne,C)=>{"use strict";C.d(ne,{Z:()=>O});var g=C(8793),e=C(9326),$=C(9974);function O(...N){const G=(0,e.lI)(N);return(0,$.N)((re,be)=>{(G?(0,g.x)(N,re,G):(0,g.x)(N,re)).subscribe(be)})}},5558:(je,ne,C)=>{"use strict";C.d(ne,{n:()=>O});var g=C(8750),e=C(9974),$=C(4360);function O(N,G){return(0,e.N)((re,be)=>{let fe=null,ue=0,X=!1;const te=()=>X&&!fe&&be.complete();re.subscribe((0,$._)(be,Y=>{fe?.unsubscribe();let q=0;const Fe=ue++;(0,g.Tg)(N(Y,Fe)).subscribe(fe=(0,$._)(be,ee=>be.next(G?G(Y,ee,Fe,q++):ee),()=>{fe=null,te()}))},()=>{X=!0,te()}))})}},6697:(je,ne,C)=>{"use strict";C.d(ne,{s:()=>O});var g=C(983),e=C(9974),$=C(4360);function O(N){return N<=0?()=>g.w:(0,e.N)((G,re)=>{let be=0;G.subscribe((0,$._)(re,fe=>{++be<=N&&(re.next(fe),N<=be&&re.complete())}))})}},6977:(je,ne,C)=>{"use strict";C.d(ne,{Q:()=>N});var g=C(9974),e=C(4360),$=C(8750),O=C(5343);function N(G){return(0,g.N)((re,be)=>{(0,$.Tg)(G).subscribe((0,e._)(be,()=>be.complete(),O.l)),!be.closed&&re.subscribe(be)})}},8141:(je,ne,C)=>{"use strict";C.d(ne,{M:()=>N});var g=C(8071),e=C(9974),$=C(4360),O=C(3669);function N(G,re,be){const fe=(0,g.T)(G)||re||be?{next:G,error:re,complete:be}:G;return fe?(0,e.N)((ue,X)=>{var te;null===(te=fe.subscribe)||void 0===te||te.call(fe);let Y=!0;ue.subscribe((0,$._)(X,q=>{var Fe;null===(Fe=fe.next)||void 0===Fe||Fe.call(fe,q),X.next(q)},()=>{var q;Y=!1,null===(q=fe.complete)||void 0===q||q.call(fe),X.complete()},q=>{var Fe;Y=!1,null===(Fe=fe.error)||void 0===Fe||Fe.call(fe,q),X.error(q)},()=>{var q,Fe;Y&&(null===(q=fe.unsubscribe)||void 0===q||q.call(fe)),null===(Fe=fe.finalize)||void 0===Fe||Fe.call(fe)}))}):O.D}},3888:(je,ne,C)=>{"use strict";C.d(ne,{b:()=>ue,E:()=>fe});var g=C(8359);class e extends g.yU{constructor(te,Y){super()}schedule(te,Y=0){return this}}const $={setInterval(X,te,...Y){const{delegate:q}=$;return q?.setInterval?q.setInterval(X,te,...Y):setInterval(X,te,...Y)},clearInterval(X){const{delegate:te}=$;return(te?.clearInterval||clearInterval)(X)},delegate:void 0};var O=C(7908);const G={now:()=>(G.delegate||Date).now(),delegate:void 0};class re{constructor(te,Y=re.now){this.schedulerActionCtor=te,this.now=Y}schedule(te,Y=0,q){return new this.schedulerActionCtor(this,te).schedule(q,Y)}}re.now=G.now;const fe=new class be extends re{constructor(te,Y=re.now){super(te,Y),this.actions=[],this._active=!1}flush(te){const{actions:Y}=this;if(this._active)return void Y.push(te);let q;this._active=!0;do{if(q=te.execute(te.state,te.delay))break}while(te=Y.shift());if(this._active=!1,q){for(;te=Y.shift();)te.unsubscribe();throw q}}}(class N extends e{constructor(te,Y){super(te,Y),this.scheduler=te,this.work=Y,this.pending=!1}schedule(te,Y=0){var q;if(this.closed)return this;this.state=te;const Fe=this.id,ee=this.scheduler;return null!=Fe&&(this.id=this.recycleAsyncId(ee,Fe,Y)),this.pending=!0,this.delay=Y,this.id=null!==(q=this.id)&&void 0!==q?q:this.requestAsyncId(ee,this.id,Y),this}requestAsyncId(te,Y,q=0){return $.setInterval(te.flush.bind(te,this),q)}recycleAsyncId(te,Y,q=0){if(null!=q&&this.delay===q&&!1===this.pending)return Y;null!=Y&&$.clearInterval(Y)}execute(te,Y){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const q=this._execute(te,Y);if(q)return q;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(te,Y){let Fe,q=!1;try{this.work(te)}catch(ee){q=!0,Fe=ee||new Error("Scheduled action threw falsy error")}if(q)return this.unsubscribe(),Fe}unsubscribe(){if(!this.closed){const{id:te,scheduler:Y}=this,{actions:q}=Y;this.work=this.state=this.scheduler=null,this.pending=!1,(0,O.o)(q,this),null!=te&&(this.id=this.recycleAsyncId(Y,te,null)),this.delay=null,super.unsubscribe()}}}),ue=fe},9270:(je,ne,C)=>{"use strict";C.d(ne,{f:()=>g});const g={setTimeout(e,$,...O){const{delegate:N}=g;return N?.setTimeout?N.setTimeout(e,$,...O):setTimeout(e,$,...O)},clearTimeout(e){const{delegate:$}=g;return($?.clearTimeout||clearTimeout)(e)},delegate:void 0}},4761:(je,ne,C)=>{"use strict";C.d(ne,{l:()=>e});const e=function g(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3494:(je,ne,C)=>{"use strict";C.d(ne,{s:()=>g});const g="function"==typeof Symbol&&Symbol.observable||"@@observable"},9350:(je,ne,C)=>{"use strict";C.d(ne,{G:()=>e});const e=(0,C(1853).L)($=>function(){$(this),this.name="EmptyError",this.message="no elements in sequence"})},9326:(je,ne,C)=>{"use strict";C.d(ne,{lI:()=>N,ms:()=>O});var g=C(8071),e=C(9470);function $(re){return re[re.length-1]}function O(re){return(0,g.T)($(re))?re.pop():void 0}function N(re){return(0,e.m)($(re))?re.pop():void 0}},3073:(je,ne,C)=>{"use strict";C.d(ne,{D:()=>N});const{isArray:g}=Array,{getPrototypeOf:e,prototype:$,keys:O}=Object;function N(re){if(1===re.length){const be=re[0];if(g(be))return{args:be,keys:null};if(function G(re){return re&&"object"==typeof re&&e(re)===$}(be)){const fe=O(be);return{args:fe.map(ue=>be[ue]),keys:fe}}}return{args:re,keys:null}}},7908:(je,ne,C)=>{"use strict";function g(e,$){if(e){const O=e.indexOf($);0<=O&&e.splice(O,1)}}C.d(ne,{o:()=>g})},1853:(je,ne,C)=>{"use strict";function g(e){const O=e(N=>{Error.call(N),N.stack=(new Error).stack});return O.prototype=Object.create(Error.prototype),O.prototype.constructor=O,O}C.d(ne,{L:()=>g})},8496:(je,ne,C)=>{"use strict";function g(e,$){return e.reduce((O,N,G)=>(O[N]=$[G],O),{})}C.d(ne,{e:()=>g})},9786:(je,ne,C)=>{"use strict";C.d(ne,{Y:()=>$,l:()=>O});var g=C(1026);let e=null;function $(N){if(g.$.useDeprecatedSynchronousErrorHandling){const G=!e;if(G&&(e={errorThrown:!1,error:null}),N(),G){const{errorThrown:re,error:be}=e;if(e=null,re)throw be}}else N()}function O(N){g.$.useDeprecatedSynchronousErrorHandling&&e&&(e.errorThrown=!0,e.error=N)}},5225:(je,ne,C)=>{"use strict";function g(e,$,O,N=0,G=!1){const re=$.schedule(function(){O(),G?e.add(this.schedule(null,N)):this.unsubscribe()},N);if(e.add(re),!G)return re}C.d(ne,{N:()=>g})},3669:(je,ne,C)=>{"use strict";function g(e){return e}C.d(ne,{D:()=>g})},7441:(je,ne,C)=>{"use strict";C.d(ne,{X:()=>g});const g=e=>e&&"number"==typeof e.length&&"function"!=typeof e},7953:(je,ne,C)=>{"use strict";C.d(ne,{T:()=>e});var g=C(8071);function e($){return Symbol.asyncIterator&&(0,g.T)($?.[Symbol.asyncIterator])}},8071:(je,ne,C)=>{"use strict";function g(e){return"function"==typeof e}C.d(ne,{T:()=>g})},5055:(je,ne,C)=>{"use strict";C.d(ne,{l:()=>$});var g=C(3494),e=C(8071);function $(O){return(0,e.T)(O[g.s])}},5397:(je,ne,C)=>{"use strict";C.d(ne,{x:()=>$});var g=C(4761),e=C(8071);function $(O){return(0,e.T)(O?.[g.l])}},4402:(je,ne,C)=>{"use strict";C.d(ne,{A:()=>$});var g=C(1985),e=C(8071);function $(O){return!!O&&(O instanceof g.c||(0,e.T)(O.lift)&&(0,e.T)(O.subscribe))}},9858:(je,ne,C)=>{"use strict";C.d(ne,{y:()=>e});var g=C(8071);function e($){return(0,g.T)($?.then)}},5196:(je,ne,C)=>{"use strict";C.d(ne,{C:()=>$,U:()=>O});var g=C(1635),e=C(8071);function $(N){return(0,g.AQ)(this,arguments,function*(){const re=N.getReader();try{for(;;){const{value:be,done:fe}=yield(0,g.N3)(re.read());if(fe)return yield(0,g.N3)(void 0);yield yield(0,g.N3)(be)}}finally{re.releaseLock()}})}function O(N){return(0,e.T)(N?.getReader)}},9470:(je,ne,C)=>{"use strict";C.d(ne,{m:()=>e});var g=C(8071);function e($){return $&&(0,g.T)($.schedule)}},9974:(je,ne,C)=>{"use strict";C.d(ne,{N:()=>$,S:()=>e});var g=C(8071);function e(O){return(0,g.T)(O?.lift)}function $(O){return N=>{if(e(N))return N.lift(function(G){try{return O(G,this)}catch(re){this.error(re)}});throw new TypeError("Unable to lift unknown Observable type")}}},6450:(je,ne,C)=>{"use strict";C.d(ne,{I:()=>O});var g=C(6354);const{isArray:e}=Array;function O(N){return(0,g.T)(G=>function $(N,G){return e(G)?N(...G):N(G)}(N,G))}},5343:(je,ne,C)=>{"use strict";function g(){}C.d(ne,{l:()=>g})},1203:(je,ne,C)=>{"use strict";C.d(ne,{F:()=>e,m:()=>$});var g=C(3669);function e(...O){return $(O)}function $(O){return 0===O.length?g.D:1===O.length?O[0]:function(G){return O.reduce((re,be)=>be(re),G)}}},5334:(je,ne,C)=>{"use strict";C.d(ne,{m:()=>$});var g=C(1026),e=C(9270);function $(O){e.f.setTimeout(()=>{const{onUnhandledError:N}=g.$;if(!N)throw O;N(O)})}},591:(je,ne,C)=>{"use strict";function g(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}C.d(ne,{L:()=>g})},1844:(je,ne,C)=>{"use strict";C.d(ne,{QP:()=>Ve,DY:()=>Oe});var g=C(4438);function N(We){return Array.isArray(We)?We:[We]}var fe=C(1413),ue=C(4572),X=C(8793),te=C(1985),Y=C(6697),q=C(5964),ee=C(152),Q=C(6354),me=C(9172),Te=C(6977),Ie=C(6860);const oe=new Set;let J,Oe=(()=>{class We{constructor(Ye,pt){this._platform=Ye,this._nonce=pt,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Me}matchMedia(Ye){return(this._platform.WEBKIT||this._platform.BLINK)&&function Ae(We,kt){if(!oe.has(We))try{J||(J=document.createElement("style"),kt&&J.setAttribute("nonce",kt),J.setAttribute("type","text/css"),document.head.appendChild(J)),J.sheet&&(J.sheet.insertRule(`@media ${We} {body{ }}`,0),oe.add(We))}catch(Ye){console.error(Ye)}}(Ye,this._nonce),this._matchMedia(Ye)}static#e=this.\u0275fac=function(pt){return new(pt||We)(g.KVO(Ie.OD),g.KVO(g.BIS,8))};static#t=this.\u0275prov=g.jDH({token:We,factory:We.\u0275fac,providedIn:"root"})}return We})();function Me(We){return{matches:"all"===We||""===We,media:We,addListener:()=>{},removeListener:()=>{}}}let Ve=(()=>{class We{constructor(Ye,pt){this._mediaMatcher=Ye,this._zone=pt,this._queries=new Map,this._destroySubject=new fe.B}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(Ye){return it(N(Ye)).some(ft=>this._registerQuery(ft).mql.matches)}observe(Ye){const ft=it(N(Ye)).map(Kt=>this._registerQuery(Kt).observable);let Rt=(0,ue.z)(ft);return Rt=(0,X.x)(Rt.pipe((0,Y.s)(1)),Rt.pipe(function Fe(We){return(0,q.p)((kt,Ye)=>We<=Ye)}(1),(0,ee.B)(0))),Rt.pipe((0,Q.T)(Kt=>{const se={matches:!1,breakpoints:{}};return Kt.forEach(({matches:ae,query:he})=>{se.matches=se.matches||ae,se.breakpoints[he]=ae}),se}))}_registerQuery(Ye){if(this._queries.has(Ye))return this._queries.get(Ye);const pt=this._mediaMatcher.matchMedia(Ye),Rt={observable:new te.c(Kt=>{const se=ae=>this._zone.run(()=>Kt.next(ae));return pt.addListener(se),()=>{pt.removeListener(se)}}).pipe((0,me.Z)(pt),(0,Q.T)(({matches:Kt})=>({query:Ye,matches:Kt})),(0,Te.Q)(this._destroySubject)),mql:pt};return this._queries.set(Ye,Rt),Rt}static#e=this.\u0275fac=function(pt){return new(pt||We)(g.KVO(Oe),g.KVO(g.SKi))};static#t=this.\u0275prov=g.jDH({token:We,factory:We.\u0275fac,providedIn:"root"})}return We})();function it(We){return We.map(kt=>kt.split(",")).reduce((kt,Ye)=>kt.concat(Ye)).map(kt=>kt.trim())}},6860:(je,ne,C)=>{"use strict";C.d(ne,{BQ:()=>X,OD:()=>O,v8:()=>oe});var g=C(4438),e=C(177);let $;try{$=typeof Intl<"u"&&Intl.v8BreakIterator}catch{$=!1}let fe,O=(()=>{class J{constructor(Ae){this._platformId=Ae,this.isBrowser=this._platformId?(0,e.UE)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!$)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function(Me){return new(Me||J)(g.KVO(g.Agw))};static#t=this.\u0275prov=g.jDH({token:J,factory:J.\u0275fac,providedIn:"root"})}return J})();function X(J){return function ue(){if(null==fe&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>fe=!0}))}finally{fe=fe||!1}return fe}()?J:!!J.capture}function oe(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}},177:(je,ne,C)=>{"use strict";C.d(ne,{AJ:()=>Io,MD:()=>ao,N0:()=>Ts,QT:()=>$,Sm:()=>ee,Sq:()=>B,UE:()=>Wr,VF:()=>N,Vy:()=>Ko,Xr:()=>wi,ZD:()=>O,_b:()=>ko,aZ:()=>me,bT:()=>xe,fw:()=>Q,hb:()=>q,hj:()=>fe,qQ:()=>re,vh:()=>ls});var g=C(4438);let e=null;function $(){return e}function O(y){e??=y}class N{}const re=new g.nKC("");let be=(()=>{class y{historyGo(w){throw new Error("")}static#e=this.\u0275fac=function(I){return new(I||y)};static#t=this.\u0275prov=g.jDH({token:y,factory:()=>(0,g.WQX)(ue),providedIn:"platform"})}return y})();const fe=new g.nKC("");let ue=(()=>{class y extends be{constructor(){super(),this._doc=(0,g.WQX)(re),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return $().getBaseHref(this._doc)}onPopState(w){const I=$().getGlobalEventTarget(this._doc,"window");return I.addEventListener("popstate",w,!1),()=>I.removeEventListener("popstate",w)}onHashChange(w){const I=$().getGlobalEventTarget(this._doc,"window");return I.addEventListener("hashchange",w,!1),()=>I.removeEventListener("hashchange",w)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(w){this._location.pathname=w}pushState(w,I,P){this._history.pushState(w,I,P)}replaceState(w,I,P){this._history.replaceState(w,I,P)}forward(){this._history.forward()}back(){this._history.back()}historyGo(w=0){this._history.go(w)}getState(){return this._history.state}static#e=this.\u0275fac=function(I){return new(I||y)};static#t=this.\u0275prov=g.jDH({token:y,factory:()=>new y,providedIn:"platform"})}return y})();function X(y,T){if(0==y.length)return T;if(0==T.length)return y;let w=0;return y.endsWith("/")&&w++,T.startsWith("/")&&w++,2==w?y+T.substring(1):1==w?y+T:y+"/"+T}function te(y){const T=y.match(/#|\?|$/),w=T&&T.index||y.length;return y.slice(0,w-("/"===y[w-1]?1:0))+y.slice(w)}function Y(y){return y&&"?"!==y[0]?"?"+y:y}let q=(()=>{class y{historyGo(w){throw new Error("")}static#e=this.\u0275fac=function(I){return new(I||y)};static#t=this.\u0275prov=g.jDH({token:y,factory:()=>(0,g.WQX)(ee),providedIn:"root"})}return y})();const Fe=new g.nKC("");let ee=(()=>{class y extends q{constructor(w,I){super(),this._platformLocation=w,this._removeListenerFns=[],this._baseHref=I??this._platformLocation.getBaseHrefFromDOM()??(0,g.WQX)(re).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(w){this._removeListenerFns.push(this._platformLocation.onPopState(w),this._platformLocation.onHashChange(w))}getBaseHref(){return this._baseHref}prepareExternalUrl(w){return X(this._baseHref,w)}path(w=!1){const I=this._platformLocation.pathname+Y(this._platformLocation.search),P=this._platformLocation.hash;return P&&w?`${I}${P}`:I}pushState(w,I,P,le){const ke=this.prepareExternalUrl(P+Y(le));this._platformLocation.pushState(w,I,ke)}replaceState(w,I,P,le){const ke=this.prepareExternalUrl(P+Y(le));this._platformLocation.replaceState(w,I,ke)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(w=0){this._platformLocation.historyGo?.(w)}static#e=this.\u0275fac=function(I){return new(I||y)(g.KVO(be),g.KVO(Fe,8))};static#t=this.\u0275prov=g.jDH({token:y,factory:y.\u0275fac,providedIn:"root"})}return y})(),Q=(()=>{class y extends q{constructor(w,I){super(),this._platformLocation=w,this._baseHref="",this._removeListenerFns=[],null!=I&&(this._baseHref=I)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(w){this._removeListenerFns.push(this._platformLocation.onPopState(w),this._platformLocation.onHashChange(w))}getBaseHref(){return this._baseHref}path(w=!1){const I=this._platformLocation.hash??"#";return I.length>0?I.substring(1):I}prepareExternalUrl(w){const I=X(this._baseHref,w);return I.length>0?"#"+I:I}pushState(w,I,P,le){let ke=this.prepareExternalUrl(P+Y(le));0==ke.length&&(ke=this._platformLocation.pathname),this._platformLocation.pushState(w,I,ke)}replaceState(w,I,P,le){let ke=this.prepareExternalUrl(P+Y(le));0==ke.length&&(ke=this._platformLocation.pathname),this._platformLocation.replaceState(w,I,ke)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(w=0){this._platformLocation.historyGo?.(w)}static#e=this.\u0275fac=function(I){return new(I||y)(g.KVO(be),g.KVO(Fe,8))};static#t=this.\u0275prov=g.jDH({token:y,factory:y.\u0275fac})}return y})(),me=(()=>{class y{constructor(w){this._subject=new g.bkB,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=w;const I=this._locationStrategy.getBaseHref();this._basePath=function oe(y){if(new RegExp("^(https?:)?//").test(y)){const[,w]=y.split(/\/\/[^\/]+/);return w}return y}(te(de(I))),this._locationStrategy.onPopState(P=>{this._subject.emit({url:this.path(!0),pop:!0,state:P.state,type:P.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(w=!1){return this.normalize(this._locationStrategy.path(w))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(w,I=""){return this.path()==this.normalize(w+Y(I))}normalize(w){return y.stripTrailingSlash(function Ie(y,T){if(!y||!T.startsWith(y))return T;const w=T.substring(y.length);return""===w||["/",";","?","#"].includes(w[0])?w:T}(this._basePath,de(w)))}prepareExternalUrl(w){return w&&"/"!==w[0]&&(w="/"+w),this._locationStrategy.prepareExternalUrl(w)}go(w,I="",P=null){this._locationStrategy.pushState(P,"",w,I),this._notifyUrlChangeListeners(this.prepareExternalUrl(w+Y(I)),P)}replaceState(w,I="",P=null){this._locationStrategy.replaceState(P,"",w,I),this._notifyUrlChangeListeners(this.prepareExternalUrl(w+Y(I)),P)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(w=0){this._locationStrategy.historyGo?.(w)}onUrlChange(w){return this._urlChangeListeners.push(w),this._urlChangeSubscription??=this.subscribe(I=>{this._notifyUrlChangeListeners(I.url,I.state)}),()=>{const I=this._urlChangeListeners.indexOf(w);this._urlChangeListeners.splice(I,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(w="",I){this._urlChangeListeners.forEach(P=>P(w,I))}subscribe(w,I,P){return this._subject.subscribe({next:w,error:I,complete:P})}static#e=this.normalizeQueryParams=Y;static#t=this.joinWithSlash=X;static#n=this.stripTrailingSlash=te;static#r=this.\u0275fac=function(I){return new(I||y)(g.KVO(q))};static#o=this.\u0275prov=g.jDH({token:y,factory:()=>function Te(){return new me((0,g.KVO)(q))}(),providedIn:"root"})}return y})();function de(y){return y.replace(/\/index.html$/,"")}var Me=function(y){return y[y.Format=0]="Format",y[y.Standalone=1]="Standalone",y}(Me||{}),Ve=function(y){return y[y.Narrow=0]="Narrow",y[y.Abbreviated=1]="Abbreviated",y[y.Wide=2]="Wide",y[y.Short=3]="Short",y}(Ve||{}),it=function(y){return y[y.Short=0]="Short",y[y.Medium=1]="Medium",y[y.Long=2]="Long",y[y.Full=3]="Full",y}(it||{});const mt={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function ae(y,T){return At((0,g.H5H)(y)[g.KH2.DateFormat],T)}function he(y,T){return At((0,g.H5H)(y)[g.KH2.TimeFormat],T)}function ge(y,T){return At((0,g.H5H)(y)[g.KH2.DateTimeFormat],T)}function De(y,T){const w=(0,g.H5H)(y),I=w[g.KH2.NumberSymbols][T];if(typeof I>"u"){if(T===mt.CurrencyDecimal)return w[g.KH2.NumberSymbols][mt.Decimal];if(T===mt.CurrencyGroup)return w[g.KH2.NumberSymbols][mt.Group]}return I}function Jt(y){if(!y[g.KH2.ExtraData])throw new Error(`Missing extra locale data for the locale "${y[g.KH2.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function At(y,T){for(let w=T;w>-1;w--)if(typeof y[w]<"u")return y[w];throw new Error("Locale data API: locale data undefined")}function jn(y){const[T,w]=y.split(":");return{hours:+T,minutes:+w}}const Hr=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,jr={},yi=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var _r=function(y){return y[y.Short=0]="Short",y[y.ShortGMT=1]="ShortGMT",y[y.Long=2]="Long",y[y.Extended=3]="Extended",y}(_r||{}),xt=function(y){return y[y.FullYear=0]="FullYear",y[y.Month=1]="Month",y[y.Date=2]="Date",y[y.Hours=3]="Hours",y[y.Minutes=4]="Minutes",y[y.Seconds=5]="Seconds",y[y.FractionalSeconds=6]="FractionalSeconds",y[y.Day=7]="Day",y}(xt||{}),gt=function(y){return y[y.DayPeriods=0]="DayPeriods",y[y.Days=1]="Days",y[y.Months=2]="Months",y[y.Eras=3]="Eras",y}(gt||{});function $r(y,T,w,I){let P=function Et(y){if(sn(y))return y;if("number"==typeof y&&!isNaN(y))return new Date(y);if("string"==typeof y){if(y=y.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(y)){const[P,le=1,ke=1]=y.split("-").map(Ge=>+Ge);return Kn(P,le-1,ke)}const w=parseFloat(y);if(!isNaN(y-w))return new Date(w);let I;if(I=y.match(Hr))return function ht(y){const T=new Date(0);let w=0,I=0;const P=y[8]?T.setUTCFullYear:T.setFullYear,le=y[8]?T.setUTCHours:T.setHours;y[9]&&(w=Number(y[9]+y[10]),I=Number(y[9]+y[11])),P.call(T,Number(y[1]),Number(y[2])-1,Number(y[3]));const ke=Number(y[4]||0)-w,Ge=Number(y[5]||0)-I,Bt=Number(y[6]||0),ln=Math.floor(1e3*parseFloat("0."+(y[7]||0)));return le.call(T,ke,Ge,Bt,ln),T}(I)}const T=new Date(y);if(!sn(T))throw new Error(`Unable to convert "${y}" into a date`);return T}(y);T=mn(w,T)||T;let Ge,ke=[];for(;T;){if(Ge=yi.exec(T),!Ge){ke.push(T);break}{ke=ke.concat(Ge.slice(1));const zt=ke.pop();if(!zt)break;T=zt}}let Bt=P.getTimezoneOffset();I&&(Bt=V(I,Bt),P=function $e(y,T,w){const I=w?-1:1,P=y.getTimezoneOffset();return function ye(y,T){return(y=new Date(y.getTime())).setMinutes(y.getMinutes()+T),y}(y,I*(V(T,P)-P))}(P,I,!0));let ln="";return ke.forEach(zt=>{const It=function R(y){if(K[y])return K[y];let T;switch(y){case"G":case"GG":case"GGG":T=_t(gt.Eras,Ve.Abbreviated);break;case"GGGG":T=_t(gt.Eras,Ve.Wide);break;case"GGGGG":T=_t(gt.Eras,Ve.Narrow);break;case"y":T=Zt(xt.FullYear,1,0,!1,!0);break;case"yy":T=Zt(xt.FullYear,2,0,!0,!0);break;case"yyy":T=Zt(xt.FullYear,3,0,!1,!0);break;case"yyyy":T=Zt(xt.FullYear,4,0,!1,!0);break;case"Y":T=ie(1);break;case"YY":T=ie(2,!0);break;case"YYY":T=ie(3);break;case"YYYY":T=ie(4);break;case"M":case"L":T=Zt(xt.Month,1,1);break;case"MM":case"LL":T=Zt(xt.Month,2,1);break;case"MMM":T=_t(gt.Months,Ve.Abbreviated);break;case"MMMM":T=_t(gt.Months,Ve.Wide);break;case"MMMMM":T=_t(gt.Months,Ve.Narrow);break;case"LLL":T=_t(gt.Months,Ve.Abbreviated,Me.Standalone);break;case"LLLL":T=_t(gt.Months,Ve.Wide,Me.Standalone);break;case"LLLLL":T=_t(gt.Months,Ve.Narrow,Me.Standalone);break;case"w":T=nr(1);break;case"ww":T=nr(2);break;case"W":T=nr(1,!0);break;case"d":T=Zt(xt.Date,1);break;case"dd":T=Zt(xt.Date,2);break;case"c":case"cc":T=Zt(xt.Day,1);break;case"ccc":T=_t(gt.Days,Ve.Abbreviated,Me.Standalone);break;case"cccc":T=_t(gt.Days,Ve.Wide,Me.Standalone);break;case"ccccc":T=_t(gt.Days,Ve.Narrow,Me.Standalone);break;case"cccccc":T=_t(gt.Days,Ve.Short,Me.Standalone);break;case"E":case"EE":case"EEE":T=_t(gt.Days,Ve.Abbreviated);break;case"EEEE":T=_t(gt.Days,Ve.Wide);break;case"EEEEE":T=_t(gt.Days,Ve.Narrow);break;case"EEEEEE":T=_t(gt.Days,Ve.Short);break;case"a":case"aa":case"aaa":T=_t(gt.DayPeriods,Ve.Abbreviated);break;case"aaaa":T=_t(gt.DayPeriods,Ve.Wide);break;case"aaaaa":T=_t(gt.DayPeriods,Ve.Narrow);break;case"b":case"bb":case"bbb":T=_t(gt.DayPeriods,Ve.Abbreviated,Me.Standalone,!0);break;case"bbbb":T=_t(gt.DayPeriods,Ve.Wide,Me.Standalone,!0);break;case"bbbbb":T=_t(gt.DayPeriods,Ve.Narrow,Me.Standalone,!0);break;case"B":case"BB":case"BBB":T=_t(gt.DayPeriods,Ve.Abbreviated,Me.Format,!0);break;case"BBBB":T=_t(gt.DayPeriods,Ve.Wide,Me.Format,!0);break;case"BBBBB":T=_t(gt.DayPeriods,Ve.Narrow,Me.Format,!0);break;case"h":T=Zt(xt.Hours,1,-12);break;case"hh":T=Zt(xt.Hours,2,-12);break;case"H":T=Zt(xt.Hours,1);break;case"HH":T=Zt(xt.Hours,2);break;case"m":T=Zt(xt.Minutes,1);break;case"mm":T=Zt(xt.Minutes,2);break;case"s":T=Zt(xt.Seconds,1);break;case"ss":T=Zt(xt.Seconds,2);break;case"S":T=Zt(xt.FractionalSeconds,1);break;case"SS":T=Zt(xt.FractionalSeconds,2);break;case"SSS":T=Zt(xt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":T=ct(_r.Short);break;case"ZZZZZ":T=ct(_r.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":T=ct(_r.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":T=ct(_r.Long);break;default:return null}return K[y]=T,T}(zt);ln+=It?It(P,w,Bt):"''"===zt?"'":zt.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),ln}function Kn(y,T,w){const I=new Date(0);return I.setFullYear(y,T,w),I.setHours(0,0,0),I}function mn(y,T){const w=function kt(y){return(0,g.H5H)(y)[g.KH2.LocaleId]}(y);if(jr[w]??={},jr[w][T])return jr[w][T];let I="";switch(T){case"shortDate":I=ae(y,it.Short);break;case"mediumDate":I=ae(y,it.Medium);break;case"longDate":I=ae(y,it.Long);break;case"fullDate":I=ae(y,it.Full);break;case"shortTime":I=he(y,it.Short);break;case"mediumTime":I=he(y,it.Medium);break;case"longTime":I=he(y,it.Long);break;case"fullTime":I=he(y,it.Full);break;case"short":const P=mn(y,"shortTime"),le=mn(y,"shortDate");I=jt(ge(y,it.Short),[P,le]);break;case"medium":const ke=mn(y,"mediumTime"),Ge=mn(y,"mediumDate");I=jt(ge(y,it.Medium),[ke,Ge]);break;case"long":const Bt=mn(y,"longTime"),ln=mn(y,"longDate");I=jt(ge(y,it.Long),[Bt,ln]);break;case"full":const zt=mn(y,"fullTime"),It=mn(y,"fullDate");I=jt(ge(y,it.Full),[zt,It])}return I&&(jr[w][T]=I),I}function jt(y,T){return T&&(y=y.replace(/\{([^}]+)}/g,function(w,I){return null!=T&&I in T?T[I]:w})),y}function yn(y,T,w="-",I,P){let le="";(y<0||P&&y<=0)&&(P?y=1-y:(y=-y,le=w));let ke=String(y);for(;ke.length<T;)ke="0"+ke;return I&&(ke=ke.slice(ke.length-T)),le+ke}function Zt(y,T,w=0,I=!1,P=!1){return function(le,ke){let Ge=function Ht(y,T){switch(y){case xt.FullYear:return T.getFullYear();case xt.Month:return T.getMonth();case xt.Date:return T.getDate();case xt.Hours:return T.getHours();case xt.Minutes:return T.getMinutes();case xt.Seconds:return T.getSeconds();case xt.FractionalSeconds:return T.getMilliseconds();case xt.Day:return T.getDay();default:throw new Error(`Unknown DateType value "${y}".`)}}(y,le);if((w>0||Ge>-w)&&(Ge+=w),y===xt.Hours)0===Ge&&-12===w&&(Ge=12);else if(y===xt.FractionalSeconds)return function On(y,T){return yn(y,3).substring(0,T)}(Ge,T);const Bt=De(ke,mt.MinusSign);return yn(Ge,T,Bt,I,P)}}function _t(y,T,w=Me.Format,I=!1){return function(P,le){return function Ar(y,T,w,I,P,le){switch(w){case gt.Months:return function ft(y,T,w){const I=(0,g.H5H)(y),le=At([I[g.KH2.MonthsFormat],I[g.KH2.MonthsStandalone]],T);return At(le,w)}(T,P,I)[y.getMonth()];case gt.Days:return function pt(y,T,w){const I=(0,g.H5H)(y),le=At([I[g.KH2.DaysFormat],I[g.KH2.DaysStandalone]],T);return At(le,w)}(T,P,I)[y.getDay()];case gt.DayPeriods:const ke=y.getHours(),Ge=y.getMinutes();if(le){const ln=function ar(y){const T=(0,g.H5H)(y);return Jt(T),(T[g.KH2.ExtraData][2]||[]).map(I=>"string"==typeof I?jn(I):[jn(I[0]),jn(I[1])])}(T),zt=function Pt(y,T,w){const I=(0,g.H5H)(y);Jt(I);const le=At([I[g.KH2.ExtraData][0],I[g.KH2.ExtraData][1]],T)||[];return At(le,w)||[]}(T,P,I),It=ln.findIndex(un=>{if(Array.isArray(un)){const[st,Ce]=un,He=ke>=st.hours&&Ge>=st.minutes,Xt=ke<Ce.hours||ke===Ce.hours&&Ge<Ce.minutes;if(st.hours<Ce.hours){if(He&&Xt)return!0}else if(He||Xt)return!0}else if(un.hours===ke&&un.minutes===Ge)return!0;return!1});if(-1!==It)return zt[It]}return function Ye(y,T,w){const I=(0,g.H5H)(y),le=At([I[g.KH2.DayPeriodsFormat],I[g.KH2.DayPeriodsStandalone]],T);return At(le,w)}(T,P,I)[ke<12?0:1];case gt.Eras:return function Rt(y,T){return At((0,g.H5H)(y)[g.KH2.Eras],T)}(T,I)[y.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${w}`)}}(P,le,y,T,w,I)}}function ct(y){return function(T,w,I){const P=-1*I,le=De(w,mt.MinusSign),ke=P>0?Math.floor(P/60):Math.ceil(P/60);switch(y){case _r.Short:return(P>=0?"+":"")+yn(ke,2,le)+yn(Math.abs(P%60),2,le);case _r.ShortGMT:return"GMT"+(P>=0?"+":"")+yn(ke,1,le);case _r.Long:return"GMT"+(P>=0?"+":"")+yn(ke,2,le)+":"+yn(Math.abs(P%60),2,le);case _r.Extended:return 0===I?"Z":(P>=0?"+":"")+yn(ke,2,le)+":"+yn(Math.abs(P%60),2,le);default:throw new Error(`Unknown zone width "${y}"`)}}}const no=0,Wt=4;function ro(y){const T=y.getDay(),w=0===T?-3:Wt-T;return Kn(y.getFullYear(),y.getMonth(),y.getDate()+w)}function nr(y,T=!1){return function(w,I){let P;if(T){const le=new Date(w.getFullYear(),w.getMonth(),1).getDay()-1,ke=w.getDate();P=1+Math.floor((ke+le)/7)}else{const le=ro(w),ke=function zr(y){const T=Kn(y,no,1).getDay();return Kn(y,0,1+(T<=Wt?Wt:Wt+7)-T)}(le.getFullYear()),Ge=le.getTime()-ke.getTime();P=1+Math.round(Ge/6048e5)}return yn(P,y,De(I,mt.MinusSign))}}function ie(y,T=!1){return function(w,I){return yn(ro(w).getFullYear(),y,De(I,mt.MinusSign),T)}}const K={};function V(y,T){y=y.replace(/:/g,"");const w=Date.parse("Jan 01, 1970 00:00:00 "+y)/6e4;return isNaN(w)?T:w}function sn(y){return y instanceof Date&&!isNaN(y.valueOf())}function ko(y,T){T=encodeURIComponent(T);for(const w of y.split(";")){const I=w.indexOf("="),[P,le]=-1==I?[w,""]:[w.slice(0,I),w.slice(I+1)];if(P.trim()===T)return decodeURIComponent(le)}return null}class H{constructor(T,w,I,P){this.$implicit=T,this.ngForOf=w,this.index=I,this.count=P}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let B=(()=>{class y{set ngForOf(w){this._ngForOf=w,this._ngForOfDirty=!0}set ngForTrackBy(w){this._trackByFn=w}get ngForTrackBy(){return this._trackByFn}constructor(w,I,P){this._viewContainer=w,this._template=I,this._differs=P,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(w){w&&(this._template=w)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const w=this._ngForOf;!this._differ&&w&&(this._differ=this._differs.find(w).create(this.ngForTrackBy))}if(this._differ){const w=this._differ.diff(this._ngForOf);w&&this._applyChanges(w)}}_applyChanges(w){const I=this._viewContainer;w.forEachOperation((P,le,ke)=>{if(null==P.previousIndex)I.createEmbeddedView(this._template,new H(P.item,this._ngForOf,-1,-1),null===ke?void 0:ke);else if(null==ke)I.remove(null===le?void 0:le);else if(null!==le){const Ge=I.get(le);I.move(Ge,ke),ce(Ge,P)}});for(let P=0,le=I.length;P<le;P++){const Ge=I.get(P).context;Ge.index=P,Ge.count=le,Ge.ngForOf=this._ngForOf}w.forEachIdentityChange(P=>{ce(I.get(P.currentIndex),P)})}static ngTemplateContextGuard(w,I){return!0}static#e=this.\u0275fac=function(I){return new(I||y)(g.rXU(g.c1b),g.rXU(g.C4Q),g.rXU(g._q3))};static#t=this.\u0275dir=g.FsC({type:y,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return y})();function ce(y,T){y.context.$implicit=T.item}let xe=(()=>{class y{constructor(w,I){this._viewContainer=w,this._context=new Pe,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=I}set ngIf(w){this._context.$implicit=this._context.ngIf=w,this._updateView()}set ngIfThen(w){at("ngIfThen",w),this._thenTemplateRef=w,this._thenViewRef=null,this._updateView()}set ngIfElse(w){at("ngIfElse",w),this._elseTemplateRef=w,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(w,I){return!0}static#e=this.\u0275fac=function(I){return new(I||y)(g.rXU(g.c1b),g.rXU(g.C4Q))};static#t=this.\u0275dir=g.FsC({type:y,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return y})();class Pe{constructor(){this.$implicit=null,this.ngIf=null}}function at(y,T){if(T&&!T.createEmbeddedView)throw new Error(`${y} must be a TemplateRef, but received '${(0,g.Tbb)(T)}'.`)}const Gs=new g.nKC(""),vi=new g.nKC("");let ls=(()=>{class y{constructor(w,I,P){this.locale=w,this.defaultTimezone=I,this.defaultOptions=P}transform(w,I,P,le){if(null==w||""===w||w!=w)return null;try{return $r(w,I??this.defaultOptions?.dateFormat??"mediumDate",le||this.locale,P??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(ke){throw function Ke(y,T){return new g.wOt(2100,!1)}()}}static#e=this.\u0275fac=function(I){return new(I||y)(g.rXU(g.xe9,16),g.rXU(Gs,24),g.rXU(vi,24))};static#t=this.\u0275pipe=g.EJ8({name:"date",type:y,pure:!0,standalone:!0})}return y})(),ao=(()=>{class y{static#e=this.\u0275fac=function(I){return new(I||y)};static#t=this.\u0275mod=g.$C({type:y});static#n=this.\u0275inj=g.G2t({})}return y})();const Io="browser",ps="server";function Wr(y){return y===Io}function Ko(y){return y===ps}let wi=(()=>{class y{static#e=this.\u0275prov=(0,g.jDH)({token:y,providedIn:"root",factory:()=>Wr((0,g.WQX)(g.Agw))?new Jo((0,g.WQX)(re),window):new To})}return y})();class Jo{constructor(T,w){this.document=T,this.window=w,this.offset=()=>[0,0]}setOffset(T){this.offset=Array.isArray(T)?()=>T:T}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(T){this.window.scrollTo(T[0],T[1])}scrollToAnchor(T){const w=function ki(y,T){const w=y.getElementById(T)||y.getElementsByName(T)[0];if(w)return w;if("function"==typeof y.createTreeWalker&&y.body&&"function"==typeof y.body.attachShadow){const I=y.createTreeWalker(y.body,NodeFilter.SHOW_ELEMENT);let P=I.currentNode;for(;P;){const le=P.shadowRoot;if(le){const ke=le.getElementById(T)||le.querySelector(`[name="${T}"]`);if(ke)return ke}P=I.nextNode()}}return null}(this.document,T);w&&(this.scrollToElement(w),w.focus())}setHistoryScrollRestoration(T){this.window.history.scrollRestoration=T}scrollToElement(T){const w=T.getBoundingClientRect(),I=w.left+this.window.pageXOffset,P=w.top+this.window.pageYOffset,le=this.offset();this.window.scrollTo(I-le[0],P-le[1])}}class To{setOffset(T){}getScrollPosition(){return[0,0]}scrollToPosition(T){}scrollToAnchor(T){}setHistoryScrollRestoration(T){}}class Ts{}},1626:(je,ne,C)=>{"use strict";C.d(ne,{$R:()=>$e,Qq:()=>ge,Sx:()=>sn});var g=C(467),e=C(4438),$=C(7673),O=C(1985),N=C(6648),G=C(274),re=C(5964),be=C(6354),fe=C(980),ue=C(5558),X=C(177);class te{}class Y{}class q{constructor(H){this.normalizedNames=new Map,this.lazyUpdate=null,H?"string"==typeof H?this.lazyInit=()=>{this.headers=new Map,H.split("\n").forEach(B=>{const ce=B.indexOf(":");if(ce>0){const pe=B.slice(0,ce),xe=pe.toLowerCase(),Pe=B.slice(ce+1).trim();this.maybeSetNormalizedName(pe,xe),this.headers.has(xe)?this.headers.get(xe).push(Pe):this.headers.set(xe,[Pe])}})}:typeof Headers<"u"&&H instanceof Headers?(this.headers=new Map,H.forEach((B,ce)=>{this.setHeaderEntries(ce,B)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(H).forEach(([B,ce])=>{this.setHeaderEntries(B,ce)})}:this.headers=new Map}has(H){return this.init(),this.headers.has(H.toLowerCase())}get(H){this.init();const B=this.headers.get(H.toLowerCase());return B&&B.length>0?B[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(H){return this.init(),this.headers.get(H.toLowerCase())||null}append(H,B){return this.clone({name:H,value:B,op:"a"})}set(H,B){return this.clone({name:H,value:B,op:"s"})}delete(H,B){return this.clone({name:H,value:B,op:"d"})}maybeSetNormalizedName(H,B){this.normalizedNames.has(B)||this.normalizedNames.set(B,H)}init(){this.lazyInit&&(this.lazyInit instanceof q?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(H=>this.applyUpdate(H)),this.lazyUpdate=null))}copyFrom(H){H.init(),Array.from(H.headers.keys()).forEach(B=>{this.headers.set(B,H.headers.get(B)),this.normalizedNames.set(B,H.normalizedNames.get(B))})}clone(H){const B=new q;return B.lazyInit=this.lazyInit&&this.lazyInit instanceof q?this.lazyInit:this,B.lazyUpdate=(this.lazyUpdate||[]).concat([H]),B}applyUpdate(H){const B=H.name.toLowerCase();switch(H.op){case"a":case"s":let ce=H.value;if("string"==typeof ce&&(ce=[ce]),0===ce.length)return;this.maybeSetNormalizedName(H.name,B);const pe=("a"===H.op?this.headers.get(B):void 0)||[];pe.push(...ce),this.headers.set(B,pe);break;case"d":const xe=H.value;if(xe){let Pe=this.headers.get(B);if(!Pe)return;Pe=Pe.filter(at=>-1===xe.indexOf(at)),0===Pe.length?(this.headers.delete(B),this.normalizedNames.delete(B)):this.headers.set(B,Pe)}else this.headers.delete(B),this.normalizedNames.delete(B)}}setHeaderEntries(H,B){const ce=(Array.isArray(B)?B:[B]).map(xe=>xe.toString()),pe=H.toLowerCase();this.headers.set(pe,ce),this.maybeSetNormalizedName(H,pe)}forEach(H){this.init(),Array.from(this.normalizedNames.keys()).forEach(B=>H(this.normalizedNames.get(B),this.headers.get(B)))}}class ee{encodeKey(H){return Ie(H)}encodeValue(H){return Ie(H)}decodeKey(H){return decodeURIComponent(H)}decodeValue(H){return decodeURIComponent(H)}}const me=/%(\d[a-f0-9])/gi,Te={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Ie(A){return encodeURIComponent(A).replace(me,(H,B)=>Te[B]??H)}function de(A){return`${A}`}class oe{constructor(H={}){if(this.updates=null,this.cloneFrom=null,this.encoder=H.encoder||new ee,H.fromString){if(H.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Q(A,H){const B=new Map;return A.length>0&&A.replace(/^\?/,"").split("&").forEach(pe=>{const xe=pe.indexOf("="),[Pe,at]=-1==xe?[H.decodeKey(pe),""]:[H.decodeKey(pe.slice(0,xe)),H.decodeValue(pe.slice(xe+1))],Je=B.get(Pe)||[];Je.push(at),B.set(Pe,Je)}),B}(H.fromString,this.encoder)}else H.fromObject?(this.map=new Map,Object.keys(H.fromObject).forEach(B=>{const ce=H.fromObject[B],pe=Array.isArray(ce)?ce.map(de):[de(ce)];this.map.set(B,pe)})):this.map=null}has(H){return this.init(),this.map.has(H)}get(H){this.init();const B=this.map.get(H);return B?B[0]:null}getAll(H){return this.init(),this.map.get(H)||null}keys(){return this.init(),Array.from(this.map.keys())}append(H,B){return this.clone({param:H,value:B,op:"a"})}appendAll(H){const B=[];return Object.keys(H).forEach(ce=>{const pe=H[ce];Array.isArray(pe)?pe.forEach(xe=>{B.push({param:ce,value:xe,op:"a"})}):B.push({param:ce,value:pe,op:"a"})}),this.clone(B)}set(H,B){return this.clone({param:H,value:B,op:"s"})}delete(H,B){return this.clone({param:H,value:B,op:"d"})}toString(){return this.init(),this.keys().map(H=>{const B=this.encoder.encodeKey(H);return this.map.get(H).map(ce=>B+"="+this.encoder.encodeValue(ce)).join("&")}).filter(H=>""!==H).join("&")}clone(H){const B=new oe({encoder:this.encoder});return B.cloneFrom=this.cloneFrom||this,B.updates=(this.updates||[]).concat(H),B}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(H=>this.map.set(H,this.cloneFrom.map.get(H))),this.updates.forEach(H=>{switch(H.op){case"a":case"s":const B=("a"===H.op?this.map.get(H.param):void 0)||[];B.push(de(H.value)),this.map.set(H.param,B);break;case"d":if(void 0===H.value){this.map.delete(H.param);break}{let ce=this.map.get(H.param)||[];const pe=ce.indexOf(de(H.value));-1!==pe&&ce.splice(pe,1),ce.length>0?this.map.set(H.param,ce):this.map.delete(H.param)}}}),this.cloneFrom=this.updates=null)}}class Oe{constructor(){this.map=new Map}set(H,B){return this.map.set(H,B),this}get(H){return this.map.has(H)||this.map.set(H,H.defaultValue()),this.map.get(H)}delete(H){return this.map.delete(H),this}has(H){return this.map.has(H)}keys(){return this.map.keys()}}function Me(A){return typeof ArrayBuffer<"u"&&A instanceof ArrayBuffer}function Ve(A){return typeof Blob<"u"&&A instanceof Blob}function it(A){return typeof FormData<"u"&&A instanceof FormData}class We{constructor(H,B,ce,pe){let xe;if(this.url=B,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=H.toUpperCase(),function Ae(A){switch(A){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||pe?(this.body=void 0!==ce?ce:null,xe=pe):xe=ce,xe&&(this.reportProgress=!!xe.reportProgress,this.withCredentials=!!xe.withCredentials,xe.responseType&&(this.responseType=xe.responseType),xe.headers&&(this.headers=xe.headers),xe.context&&(this.context=xe.context),xe.params&&(this.params=xe.params),this.transferCache=xe.transferCache),this.headers??=new q,this.context??=new Oe,this.params){const Pe=this.params.toString();if(0===Pe.length)this.urlWithParams=B;else{const at=B.indexOf("?");this.urlWithParams=B+(-1===at?"?":at<B.length-1?"&":"")+Pe}}else this.params=new oe,this.urlWithParams=B}serializeBody(){return null===this.body?null:"string"==typeof this.body||Me(this.body)||Ve(this.body)||it(this.body)||function mt(A){return typeof URLSearchParams<"u"&&A instanceof URLSearchParams}(this.body)?this.body:this.body instanceof oe?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||it(this.body)?null:Ve(this.body)?this.body.type||null:Me(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof oe?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(H={}){const B=H.method||this.method,ce=H.url||this.url,pe=H.responseType||this.responseType,xe=H.transferCache??this.transferCache,Pe=void 0!==H.body?H.body:this.body,at=H.withCredentials??this.withCredentials,Je=H.reportProgress??this.reportProgress;let tn=H.headers||this.headers,cn=H.params||this.params;const $t=H.context??this.context;return void 0!==H.setHeaders&&(tn=Object.keys(H.setHeaders).reduce((an,nn)=>an.set(nn,H.setHeaders[nn]),tn)),H.setParams&&(cn=Object.keys(H.setParams).reduce((an,nn)=>an.set(nn,H.setParams[nn]),cn)),new We(B,ce,Pe,{params:cn,headers:tn,context:$t,reportProgress:Je,responseType:pe,withCredentials:at,transferCache:xe})}}var kt=function(A){return A[A.Sent=0]="Sent",A[A.UploadProgress=1]="UploadProgress",A[A.ResponseHeader=2]="ResponseHeader",A[A.DownloadProgress=3]="DownloadProgress",A[A.Response=4]="Response",A[A.User=5]="User",A}(kt||{});class Ye{constructor(H,B=200,ce="OK"){this.headers=H.headers||new q,this.status=void 0!==H.status?H.status:B,this.statusText=H.statusText||ce,this.url=H.url||null,this.ok=this.status>=200&&this.status<300}}class pt extends Ye{constructor(H={}){super(H),this.type=kt.ResponseHeader}clone(H={}){return new pt({headers:H.headers||this.headers,status:void 0!==H.status?H.status:this.status,statusText:H.statusText||this.statusText,url:H.url||this.url||void 0})}}class ft extends Ye{constructor(H={}){super(H),this.type=kt.Response,this.body=void 0!==H.body?H.body:null}clone(H={}){return new ft({body:void 0!==H.body?H.body:this.body,headers:H.headers||this.headers,status:void 0!==H.status?H.status:this.status,statusText:H.statusText||this.statusText,url:H.url||this.url||void 0})}}class Rt extends Ye{constructor(H){super(H,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${H.url||"(unknown url)"}`:`Http failure response for ${H.url||"(unknown url)"}: ${H.status} ${H.statusText}`,this.error=H.error||null}}function he(A,H){return{body:H,headers:A.headers,context:A.context,observe:A.observe,params:A.params,reportProgress:A.reportProgress,responseType:A.responseType,withCredentials:A.withCredentials,transferCache:A.transferCache}}let ge=(()=>{class A{constructor(B){this.handler=B}request(B,ce,pe={}){let xe;if(B instanceof We)xe=B;else{let Je,tn;Je=pe.headers instanceof q?pe.headers:new q(pe.headers),pe.params&&(tn=pe.params instanceof oe?pe.params:new oe({fromObject:pe.params})),xe=new We(B,ce,void 0!==pe.body?pe.body:null,{headers:Je,context:pe.context,params:tn,reportProgress:pe.reportProgress,responseType:pe.responseType||"json",withCredentials:pe.withCredentials,transferCache:pe.transferCache})}const Pe=(0,$.of)(xe).pipe((0,G.H)(Je=>this.handler.handle(Je)));if(B instanceof We||"events"===pe.observe)return Pe;const at=Pe.pipe((0,re.p)(Je=>Je instanceof ft));switch(pe.observe||"body"){case"body":switch(xe.responseType){case"arraybuffer":return at.pipe((0,be.T)(Je=>{if(null!==Je.body&&!(Je.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return Je.body}));case"blob":return at.pipe((0,be.T)(Je=>{if(null!==Je.body&&!(Je.body instanceof Blob))throw new Error("Response is not a Blob.");return Je.body}));case"text":return at.pipe((0,be.T)(Je=>{if(null!==Je.body&&"string"!=typeof Je.body)throw new Error("Response is not a string.");return Je.body}));default:return at.pipe((0,be.T)(Je=>Je.body))}case"response":return at;default:throw new Error(`Unreachable: unhandled observe type ${pe.observe}}`)}}delete(B,ce={}){return this.request("DELETE",B,ce)}get(B,ce={}){return this.request("GET",B,ce)}head(B,ce={}){return this.request("HEAD",B,ce)}jsonp(B,ce){return this.request("JSONP",B,{params:(new oe).append(ce,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(B,ce={}){return this.request("OPTIONS",B,ce)}patch(B,ce,pe={}){return this.request("PATCH",B,he(pe,ce))}post(B,ce,pe={}){return this.request("POST",B,he(pe,ce))}put(B,ce,pe={}){return this.request("PUT",B,he(pe,ce))}static#e=this.\u0275fac=function(ce){return new(ce||A)(e.KVO(te))};static#t=this.\u0275prov=e.jDH({token:A,factory:A.\u0275fac})}return A})();const De=/^\)\]\}',?\n/;function Qe(A){if(A.url)return A.url;const H="X-Request-URL".toLocaleLowerCase();return A.headers.get(H)}let Ct=(()=>{class A{constructor(){this.fetchImpl=(0,e.WQX)(qe,{optional:!0})?.fetch??((...B)=>globalThis.fetch(...B)),this.ngZone=(0,e.WQX)(e.SKi)}handle(B){return new O.c(ce=>{const pe=new AbortController;return this.doRequest(B,pe.signal,ce).then(tt,xe=>ce.error(new Rt({error:xe}))),()=>pe.abort()})}doRequest(B,ce,pe){var xe=this;return(0,g.A)(function*(){const Pe=xe.createRequestInit(B);let at;try{const bn=xe.ngZone.runOutsideAngular(()=>xe.fetchImpl(B.urlWithParams,{signal:ce,...Pe}));(function Vt(A){A.then(tt,tt)})(bn),pe.next({type:kt.Sent}),at=yield bn}catch(bn){return void pe.error(new Rt({error:bn,status:bn.status??0,statusText:bn.statusText,url:B.urlWithParams,headers:bn.headers}))}const Je=new q(at.headers),tn=at.statusText,cn=Qe(at)??B.urlWithParams;let $t=at.status,an=null;if(B.reportProgress&&pe.next(new pt({headers:Je,status:$t,statusText:tn,url:cn})),at.body){const bn=at.headers.get("content-length"),Mt=[],Dt=at.body.getReader();let ot,Ke,_n=0;const Dr=typeof Zone<"u"&&Zone.current;yield xe.ngZone.runOutsideAngular((0,g.A)(function*(){for(;;){const{done:Rr,value:Wo}=yield Dt.read();if(Rr)break;if(Mt.push(Wo),_n+=Wo.length,B.reportProgress){Ke="text"===B.responseType?(Ke??"")+(ot??=new TextDecoder).decode(Wo,{stream:!0}):void 0;const cs=()=>pe.next({type:kt.DownloadProgress,total:bn?+bn:void 0,loaded:_n,partialText:Ke});Dr?Dr.run(cs):cs()}}}));const Co=xe.concatChunks(Mt,_n);try{const Rr=at.headers.get("Content-Type")??"";an=xe.parseBody(B,Co,Rr)}catch(Rr){return void pe.error(new Rt({error:Rr,headers:new q(at.headers),status:at.status,statusText:at.statusText,url:Qe(at)??B.urlWithParams}))}}0===$t&&($t=an?200:0),$t>=200&&$t<300?(pe.next(new ft({body:an,headers:Je,status:$t,statusText:tn,url:cn})),pe.complete()):pe.error(new Rt({error:an,headers:Je,status:$t,statusText:tn,url:cn}))})()}parseBody(B,ce,pe){switch(B.responseType){case"json":const xe=(new TextDecoder).decode(ce).replace(De,"");return""===xe?null:JSON.parse(xe);case"text":return(new TextDecoder).decode(ce);case"blob":return new Blob([ce],{type:pe});case"arraybuffer":return ce.buffer}}createRequestInit(B){const ce={},pe=B.withCredentials?"include":void 0;if(B.headers.forEach((xe,Pe)=>ce[xe]=Pe.join(",")),B.headers.has("Accept")||(ce.Accept="application/json, text/plain, */*"),!B.headers.has("Content-Type")){const xe=B.detectContentTypeHeader();null!==xe&&(ce["Content-Type"]=xe)}return{body:B.serializeBody(),method:B.method,headers:ce,credentials:pe}}concatChunks(B,ce){const pe=new Uint8Array(ce);let xe=0;for(const Pe of B)pe.set(Pe,xe),xe+=Pe.length;return pe}static#e=this.\u0275fac=function(ce){return new(ce||A)};static#t=this.\u0275prov=e.jDH({token:A,factory:A.\u0275fac})}return A})();class qe{}function tt(){}function Jt(A,H){return H(A)}function ar(A,H){return(B,ce)=>H.intercept(B,{handle:pe=>A(pe,ce)})}const Qt=new e.nKC(""),At=new e.nKC(""),jn=new e.nKC(""),An=new e.nKC("",{providedIn:"root",factory:()=>!0});function Ne(){let A=null;return(H,B)=>{null===A&&(A=((0,e.WQX)(Qt,{optional:!0})??[]).reduceRight(ar,Jt));const ce=(0,e.WQX)(e.TgB);if((0,e.WQX)(An)){const xe=ce.add();return A(H,B).pipe((0,fe.j)(()=>ce.remove(xe)))}return A(H,B)}}let jr=(()=>{class A extends te{constructor(B,ce){super(),this.backend=B,this.injector=ce,this.chain=null,this.pendingTasks=(0,e.WQX)(e.TgB),this.contributeToStability=(0,e.WQX)(An)}handle(B){if(null===this.chain){const ce=Array.from(new Set([...this.injector.get(At),...this.injector.get(jn,[])]));this.chain=ce.reduceRight((pe,xe)=>function Pt(A,H,B){return(ce,pe)=>(0,e.N4e)(B,()=>H(ce,xe=>A(xe,pe)))}(pe,xe,this.injector),Jt)}if(this.contributeToStability){const ce=this.pendingTasks.add();return this.chain(B,pe=>this.backend.handle(pe)).pipe((0,fe.j)(()=>this.pendingTasks.remove(ce)))}return this.chain(B,ce=>this.backend.handle(ce))}static#e=this.\u0275fac=function(ce){return new(ce||A)(e.KVO(Y),e.KVO(e.uvJ))};static#t=this.\u0275prov=e.jDH({token:A,factory:A.\u0275fac})}return A})();const Ht=/^\)\]\}',?\n/;let Ar=(()=>{class A{constructor(B){this.xhrFactory=B}handle(B){if("JSONP"===B.method)throw new e.wOt(-2800,!1);const ce=this.xhrFactory;return(ce.\u0275loadImpl?(0,N.H)(ce.\u0275loadImpl()):(0,$.of)(null)).pipe((0,ue.n)(()=>new O.c(xe=>{const Pe=ce.build();if(Pe.open(B.method,B.urlWithParams),B.withCredentials&&(Pe.withCredentials=!0),B.headers.forEach((Mt,Dt)=>Pe.setRequestHeader(Mt,Dt.join(","))),B.headers.has("Accept")||Pe.setRequestHeader("Accept","application/json, text/plain, */*"),!B.headers.has("Content-Type")){const Mt=B.detectContentTypeHeader();null!==Mt&&Pe.setRequestHeader("Content-Type",Mt)}if(B.responseType){const Mt=B.responseType.toLowerCase();Pe.responseType="json"!==Mt?Mt:"text"}const at=B.serializeBody();let Je=null;const tn=()=>{if(null!==Je)return Je;const Mt=Pe.statusText||"OK",Dt=new q(Pe.getAllResponseHeaders()),_n=function _t(A){return"responseURL"in A&&A.responseURL?A.responseURL:/^X-Request-URL:/m.test(A.getAllResponseHeaders())?A.getResponseHeader("X-Request-URL"):null}(Pe)||B.url;return Je=new pt({headers:Dt,status:Pe.status,statusText:Mt,url:_n}),Je},cn=()=>{let{headers:Mt,status:Dt,statusText:_n,url:ot}=tn(),Ke=null;204!==Dt&&(Ke=typeof Pe.response>"u"?Pe.responseText:Pe.response),0===Dt&&(Dt=Ke?200:0);let Dr=Dt>=200&&Dt<300;if("json"===B.responseType&&"string"==typeof Ke){const Co=Ke;Ke=Ke.replace(Ht,"");try{Ke=""!==Ke?JSON.parse(Ke):null}catch(Rr){Ke=Co,Dr&&(Dr=!1,Ke={error:Rr,text:Ke})}}Dr?(xe.next(new ft({body:Ke,headers:Mt,status:Dt,statusText:_n,url:ot||void 0})),xe.complete()):xe.error(new Rt({error:Ke,headers:Mt,status:Dt,statusText:_n,url:ot||void 0}))},$t=Mt=>{const{url:Dt}=tn(),_n=new Rt({error:Mt,status:Pe.status||0,statusText:Pe.statusText||"Unknown Error",url:Dt||void 0});xe.error(_n)};let an=!1;const nn=Mt=>{an||(xe.next(tn()),an=!0);let Dt={type:kt.DownloadProgress,loaded:Mt.loaded};Mt.lengthComputable&&(Dt.total=Mt.total),"text"===B.responseType&&Pe.responseText&&(Dt.partialText=Pe.responseText),xe.next(Dt)},bn=Mt=>{let Dt={type:kt.UploadProgress,loaded:Mt.loaded};Mt.lengthComputable&&(Dt.total=Mt.total),xe.next(Dt)};return Pe.addEventListener("load",cn),Pe.addEventListener("error",$t),Pe.addEventListener("timeout",$t),Pe.addEventListener("abort",$t),B.reportProgress&&(Pe.addEventListener("progress",nn),null!==at&&Pe.upload&&Pe.upload.addEventListener("progress",bn)),Pe.send(at),xe.next({type:kt.Sent}),()=>{Pe.removeEventListener("error",$t),Pe.removeEventListener("abort",$t),Pe.removeEventListener("load",cn),Pe.removeEventListener("timeout",$t),B.reportProgress&&(Pe.removeEventListener("progress",nn),null!==at&&Pe.upload&&Pe.upload.removeEventListener("progress",bn)),Pe.readyState!==Pe.DONE&&Pe.abort()}})))}static#e=this.\u0275fac=function(ce){return new(ce||A)(e.KVO(X.N0))};static#t=this.\u0275prov=e.jDH({token:A,factory:A.\u0275fac})}return A})();const ct=new e.nKC(""),Wt=new e.nKC("",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),ro=new e.nKC("",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class nr{}let ie=(()=>{class A{constructor(B,ce,pe){this.doc=B,this.platform=ce,this.cookieName=pe,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const B=this.doc.cookie||"";return B!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,X._b)(B,this.cookieName),this.lastCookieString=B),this.lastToken}static#e=this.\u0275fac=function(ce){return new(ce||A)(e.KVO(X.qQ),e.KVO(e.Agw),e.KVO(Wt))};static#t=this.\u0275prov=e.jDH({token:A,factory:A.\u0275fac})}return A})();function K(A,H){const B=A.url.toLowerCase();if(!(0,e.WQX)(ct)||"GET"===A.method||"HEAD"===A.method||B.startsWith("http://")||B.startsWith("https://"))return H(A);const ce=(0,e.WQX)(nr).getToken(),pe=(0,e.WQX)(ro);return null!=ce&&!A.headers.has(pe)&&(A=A.clone({headers:A.headers.set(pe,ce)})),H(A)}var V=function(A){return A[A.Interceptors=0]="Interceptors",A[A.LegacyInterceptors=1]="LegacyInterceptors",A[A.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",A[A.NoXsrfProtection=3]="NoXsrfProtection",A[A.JsonpSupport=4]="JsonpSupport",A[A.RequestsMadeViaParent=5]="RequestsMadeViaParent",A[A.Fetch=6]="Fetch",A}(V||{});function $e(...A){const H=[ge,Ar,jr,{provide:te,useExisting:jr},{provide:Y,useFactory:()=>(0,e.WQX)(Ct,{optional:!0})??(0,e.WQX)(Ar)},{provide:At,useValue:K,multi:!0},{provide:ct,useValue:!0},{provide:nr,useClass:ie}];for(const B of A)H.push(...B.\u0275providers);return(0,e.EmA)(H)}const ht=new e.nKC("");function sn(){return function ye(A,H){return{\u0275kind:A,\u0275providers:H}}(V.LegacyInterceptors,[{provide:ht,useFactory:Ne},{provide:At,useExisting:ht,multi:!0}])}},4438:(je,ne,C)=>{"use strict";C.d(ne,{bc$:()=>mb,iLQ:()=>Yu,sZ2:()=>Ql,hnV:()=>tE,Hbi:()=>KI,o8S:()=>Fi,BIS:()=>gb,gRc:()=>FE,Ql9:()=>FI,Ocv:()=>kI,Z63:()=>Lr,aKT:()=>Ac,uvJ:()=>fn,zcH:()=>Bi,bkB:()=>pi,$GK:()=>wt,nKC:()=>ut,zZn:()=>eo,_q3:()=>pf,MKu:()=>hf,xe9:()=>sf,Co$:()=>rF,Vns:()=>Sa,SKi:()=>$n,Xx1:()=>Jo,Agw:()=>Zl,PLl:()=>Sm,rOR:()=>ql,sFG:()=>l4,_9s:()=>Vp,czy:()=>uu,WPN:()=>wa,kdw:()=>To,C4Q:()=>Qc,NYb:()=>uI,giA:()=>Yy,RxE:()=>Wy,c1b:()=>Tu,gXe:()=>fr,mal:()=>Nu,L39:()=>CT,Ol2:()=>oh,w6W:()=>tk,oH4:()=>hE,QZP:()=>JE,SmG:()=>AI,WQX:()=>Ze,Hps:()=>Yp,QuC:()=>Xo,EmA:()=>Br,fpN:()=>qI,HJs:()=>jT,N4e:()=>fa,O8t:()=>IT,H3F:()=>Gy,H8p:()=>ri,KH2:()=>vc,TgB:()=>va,wOt:()=>Ne,WHO:()=>Zy,e01:()=>Xy,lNU:()=>An,h9k:()=>Ym,$MX:()=>iu,ZF7:()=>Ga,Kcf:()=>Nb,e5t:()=>Ub,UyX:()=>Lb,cWb:()=>Pb,osQ:()=>Bb,H5H:()=>xh,Zy3:()=>br,mq5:()=>d0,JZv:()=>Ht,LfX:()=>kr,plB:()=>oa,jNT:()=>ef,zjR:()=>eE,TL$:()=>hb,Tbb:()=>Wt,rcV:()=>Ui,Vt3:()=>th,GFd:()=>nF,OA$:()=>Sn,aNF:()=>yy,R7$:()=>Ig,BMQ:()=>Fh,HbH:()=>KF,AVh:()=>wh,wni:()=>G0,VBU:()=>Sr,FsC:()=>Xs,jDH:()=>Ot,G2t:()=>oo,$C:()=>uo,EJ8:()=>Ys,rXU:()=>Ja,nrm:()=>Th,k0s:()=>$u,j41:()=>Hu,RV6:()=>c0,xGo:()=>Kf,KVO:()=>En,kS0:()=>$l,QTQ:()=>Mg,bIt:()=>Oh,lsd:()=>J0,joV:()=>Af,qSk:()=>jf,XpG:()=>N0,nI1:()=>Iy,i5U:()=>Ty,SdG:()=>L0,NAR:()=>P0,Y8G:()=>bh,FS9:()=>Nh,FCK:()=>Lh,lJ4:()=>by,mGM:()=>K0,sdS:()=>Q0,Njj:()=>Ef,tSv:()=>ag,eBV:()=>yf,B4B:()=>rp,n$t:()=>ng,DNE:()=>ih,C5r:()=>My,EFF:()=>iy,JRh:()=>Uh,SpI:()=>Ku,Lme:()=>Vh,LHq:()=>Hh,xRd:()=>$h,wXG:()=>tg,GBs:()=>q0});let e=null,$=!1,O=1;const N=Symbol("SIGNAL");function G(t){const n=e;return e=t,n}const ue={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Y(t){if((!J(t)||t.dirty)&&(t.dirty||t.lastCleanEpoch!==O)){if(!t.producerMustRecompute(t)&&!Te(t))return t.dirty=!1,void(t.lastCleanEpoch=O);t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=O}}function ee(t){t.dirty=!0,function q(t){if(void 0===t.liveConsumerNode)return;const n=$;$=!0;try{for(const r of t.liveConsumerNode)r.dirty||ee(r)}finally{$=n}}(t),t.consumerMarkedDirty?.(t)}function Q(t){return t&&(t.nextProducerIndex=0),G(t)}function me(t,n){if(G(n),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(J(t))for(let r=t.nextProducerIndex;r<t.producerNode.length;r++)oe(t.producerNode[r],t.producerIndexOfThis[r]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Te(t){Oe(t);for(let n=0;n<t.producerNode.length;n++){const r=t.producerNode[n],o=t.producerLastReadVersion[n];if(o!==r.version||(Y(r),o!==r.version))return!0}return!1}function Ie(t){if(Oe(t),J(t))for(let n=0;n<t.producerNode.length;n++)oe(t.producerNode[n],t.producerIndexOfThis[n]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function oe(t,n){if(function Ae(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),1===t.liveConsumerNode.length&&function Me(t){return void 0!==t.producerNode}(t))for(let o=0;o<t.producerNode.length;o++)oe(t.producerNode[o],t.producerIndexOfThis[o]);const r=t.liveConsumerNode.length-1;if(t.liveConsumerNode[n]=t.liveConsumerNode[r],t.liveConsumerIndexOfThis[n]=t.liveConsumerIndexOfThis[r],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,n<t.liveConsumerNode.length){const o=t.liveConsumerIndexOfThis[n],s=t.liveConsumerNode[n];Oe(s),s.producerIndexOfThis[o]=n}}function J(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Oe(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let pt=null;const tt=()=>{},Vt={...ue,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{null!==t.schedule&&t.schedule(t.ref)},hasRun:!1,cleanupFn:tt};var ar=C(4412),Pt=C(1413),Qt=C(8359),At=C(6354);const An="https://g.co/ng/security#xss";class Ne extends Error{constructor(n,r){super(br(n,r)),this.code=n}}function br(t,n){return`NG0${Math.abs(t)}${n?": "+n:""}`}function gt(t){return{toString:t}.toString()}const Kn="__parameters__";function On(t,n,r){return gt(()=>{const o=function yn(t){return function(...r){if(t){const o=t(...r);for(const s in o)this[s]=o[s]}}}(n);function s(...i){if(this instanceof s)return o.apply(this,i),this;const d=new s(...i);return f.annotation=d,f;function f(E,k,D){const j=E.hasOwnProperty(Kn)?E[Kn]:Object.defineProperty(E,Kn,{value:[]})[Kn];for(;j.length<=D;)j.push(null);return(j[D]=j[D]||[]).push(d),E}}return r&&(s.prototype=Object.create(r.prototype)),s.prototype.ngMetadataName=t,s.annotationCls=s,s})}const Ht=globalThis;function ct(t){for(let n in t)if(t[n]===ct)return n;throw Error("Could not find renamed property on target object.")}function no(t,n){for(const r in n)n.hasOwnProperty(r)&&!t.hasOwnProperty(r)&&(t[r]=n[r])}function Wt(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Wt).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const n=t.toString();if(null==n)return""+n;const r=n.indexOf("\n");return-1===r?n:n.substring(0,r)}function zr(t,n){return null==t||""===t?null===n?"":n:null==n||""===n?t:t+" "+n}const nr=ct({__forward_ref__:ct});function ie(t){return t.__forward_ref__=ie,t.toString=function(){return Wt(this())},t}function K(t){return R(t)?t():t}function R(t){return"function"==typeof t&&t.hasOwnProperty(nr)&&t.__forward_ref__===ie}function Ot(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function oo(t){return{providers:t.providers||[],imports:t.imports||[]}}function Nn(t){return dr(t,ko)||dr(t,so)}function kr(t){return null!==Nn(t)}function dr(t,n){return t.hasOwnProperty(n)?t[n]:null}function wo(t){return t&&(t.hasOwnProperty(Cr)||t.hasOwnProperty(as))?t[Cr]:null}const ko=ct({\u0275prov:ct}),Cr=ct({\u0275inj:ct}),so=ct({ngInjectableDef:ct}),as=ct({ngInjectorDef:ct});class ut{constructor(n,r){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof r?this.__NG_ELEMENT_ID__=r:void 0!==r&&(this.\u0275prov=Ot({token:this,providedIn:r.providedIn||"root",factory:r.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function cn(t){return t&&!!t.\u0275providers}const $t=ct({\u0275cmp:ct}),an=ct({\u0275dir:ct}),nn=ct({\u0275pipe:ct}),bn=ct({\u0275mod:ct}),Mt=ct({\u0275fac:ct}),Dt=ct({__NG_ELEMENT_ID__:ct}),_n=ct({__NG_ENV_ID__:ct});function ot(t){return"string"==typeof t?t:null==t?"":String(t)}function Go(t,n){throw new Ne(-201,!1)}var wt=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(wt||{});let Ws;function Ei(){return Ws}function Cn(t){const n=Ws;return Ws=t,n}function Gs(t,n,r){const o=Nn(t);return o&&"root"==o.providedIn?void 0===o.value?o.value=o.factory():o.value:r&wt.Optional?null:void 0!==n?n:void Go()}const qo={},bi="__NG_DI_FLAG__",Is="ngTempTokenPath",rr=/\n/gm,Do="__source";let Nr;function pr(t){const n=Nr;return Nr=t,n}function ds(t,n=wt.Default){if(void 0===Nr)throw new Ne(-203,!1);return null===Nr?Gs(t,void 0,n):Nr.get(t,n&wt.Optional?null:void 0,n)}function En(t,n=wt.Default){return(Ei()||ds)(K(t),n)}function Ze(t,n=wt.Default){return En(t,ao(n))}function ao(t){return typeof t>"u"||"number"==typeof t?t:(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Io(t){const n=[];for(let r=0;r<t.length;r++){const o=K(t[r]);if(Array.isArray(o)){if(0===o.length)throw new Ne(900,!1);let s,i=wt.Default;for(let d=0;d<o.length;d++){const f=o[d],E=Wr(f);"number"==typeof E?-1===E?s=f.token:i|=E:s=f}n.push(En(s,i))}else n.push(En(o))}return n}function ps(t,n){return t[bi]=n,t.prototype[bi]=n,t}function Wr(t){return t[bi]}const Jo=ps(On("Optional"),8),To=ps(On("SkipSelf"),4);function Tr(t,n){return t.hasOwnProperty(Mt)?t[Mt]:null}function Pr(t,n){t.forEach(r=>Array.isArray(r)?Pr(r,n):n(r))}function Ms(t,n,r){n>=t.length?t.push(r):t.splice(n,0,r)}function Ss(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function Pn(t,n,r){let o=xo(t,n);return o>=0?t[1|o]=r:(o=~o,function Ks(t,n,r,o){let s=t.length;if(s==n)t.push(r,o);else if(1===s)t.push(o,t[0]),t[0]=r;else{for(s--,t.push(t[s-1],t[s]);s>n;)t[s]=t[s-2],s--;t[n]=r,t[n+1]=o}}(t,o,n,r)),o}function So(t,n){const r=xo(t,n);if(r>=0)return t[1|r]}function xo(t,n){return function Di(t,n,r){let o=0,s=t.length>>r;for(;s!==o;){const i=o+(s-o>>1),d=t[i<<r];if(n===d)return i<<r;d>n?s=i:o=i+1}return~(s<<r)}(t,n,1)}const hr={},Lt=[],Lr=new ut(""),lo=new ut("",-1),xs=new ut("");class fs{get(n,r=qo){if(r===qo){const o=new Error(`NullInjectorError: No provider for ${Wt(n)}!`);throw o.name="NullInjectorError",o}return r}}var Gr=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Gr||{}),fr=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(fr||{}),In=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(In||{});function or(t,n,r){let o=t.length;for(;;){const s=t.indexOf(n,r);if(-1===s)return s;if(0===s||t.charCodeAt(s-1)<=32){const i=n.length;if(s+i===o||t.charCodeAt(s+i)<=32)return s}r=s+1}}function qr(t,n,r){let o=0;for(;o<r.length;){const s=r[o];if("number"==typeof s){if(0!==s)break;o++;const i=r[o++],d=r[o++],f=r[o++];t.setAttribute(n,d,f,i)}else{const i=s,d=r[++o];ms(i)?t.setProperty(n,i,d):t.setAttribute(n,i,d),o++}}return o}function jo(t){return 3===t||4===t||6===t}function ms(t){return 64===t.charCodeAt(0)}function Qo(t,n){if(null!==n&&0!==n.length)if(null===t||0===t.length)t=n.slice();else{let r=-1;for(let o=0;o<n.length;o++){const s=n[o];"number"==typeof s?r=s:0===r||Js(t,r,s,null,-1===r||2===r?n[++o]:null)}}return t}function Js(t,n,r,o,s){let i=0,d=t.length;if(-1===n)d=-1;else for(;i<t.length;){const f=t[i++];if("number"==typeof f){if(f===n){d=-1;break}if(f>n){d=i-1;break}}}for(;i<t.length;){const f=t[i];if("number"==typeof f)break;if(f===r){if(null===o)return void(null!==s&&(t[i+1]=s));if(o===t[i+1])return void(t[i+2]=s)}i++,null!==o&&i++,null!==s&&i++}-1!==d&&(t.splice(d,0,n),i=d+1),t.splice(i++,0,r),null!==o&&t.splice(i++,0,o),null!==s&&t.splice(i++,0,s)}const Zo="ng-template";function Wi(t,n,r,o){let s=0;if(o){for(;s<n.length&&"string"==typeof n[s];s+=2)if("class"===n[s]&&-1!==or(n[s+1].toLowerCase(),r,0))return!0}else if(Kr(t))return!1;if(s=n.indexOf(1,s),s>-1){let i;for(;++s<n.length&&"string"==typeof(i=n[s]);)if(i.toLowerCase()===r)return!0}return!1}function Kr(t){return 4===t.type&&t.value!==Zo}function js(t,n,r){return n===(4!==t.type||r?t.value:Zo)}function Gt(t,n,r){let o=4;const s=t.attrs,i=null!==s?function Zs(t){for(let n=0;n<t.length;n++)if(jo(t[n]))return n;return t.length}(s):0;let d=!1;for(let f=0;f<n.length;f++){const E=n[f];if("number"!=typeof E){if(!d)if(4&o){if(o=2|1&o,""!==E&&!js(t,E,r)||""===E&&1===n.length){if(zn(o))return!1;d=!0}}else if(8&o){if(null===s||!Wi(t,s,E,r)){if(zn(o))return!1;d=!0}}else{const k=n[++f],D=Qs(E,s,Kr(t),r);if(-1===D){if(zn(o))return!1;d=!0;continue}if(""!==k){let j;if(j=D>i?"":s[D+1].toLowerCase(),2&o&&k!==j){if(zn(o))return!1;d=!0}}}}else{if(!d&&!zn(o)&&!zn(E))return!1;if(d&&zn(E))continue;d=!1,o=E|1&o}}return zn(o)||d}function zn(t){return!(1&t)}function Qs(t,n,r,o){if(null===n)return-1;let s=0;if(o||!r){let i=!1;for(;s<n.length;){const d=n[s];if(d===t)return s;if(3===d||6===d)i=!0;else{if(1===d||2===d){let f=n[++s];for(;"string"==typeof f;)f=n[++s];continue}if(4===d)break;if(0===d){s+=4;continue}}s+=i?1:2}return-1}return function Gi(t,n){let r=t.indexOf(4);if(r>-1)for(r++;r<t.length;){const o=t[r];if("number"==typeof o)return-1;if(o===n)return r;r++}return-1}(n,t)}function Ii(t,n,r=!1){for(let o=0;o<n.length;o++)if(Gt(t,n[o],r))return!0;return!1}function qi(t,n){e:for(let r=0;r<n.length;r++){const o=n[r];if(t.length===o.length){for(let s=0;s<t.length;s++)if(t[s]!==o[s])continue e;return!0}}return!1}function Ti(t,n){return t?":not("+n.trim()+")":n}function la(t){let n=t[0],r=1,o=2,s="",i=!1;for(;r<t.length;){let d=t[r];if("string"==typeof d)if(2&o){const f=t[++r];s+="["+d+(f.length>0?'="'+f+'"':"")+"]"}else 8&o?s+="."+d:4&o&&(s+=" "+d);else""!==s&&!zn(d)&&(n+=Ti(i,s),s=""),o=d,i=i||!zn(o);r++}return""!==s&&(n+=Ti(i,s)),n}function Sr(t){return gt(()=>{const n=As(t),r={...n,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Gr.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||fr.Emulated,styles:t.styles||Lt,_:null,schemas:t.schemas||null,tView:null,id:""};Fs(r);const o=t.dependencies;return r.directiveDefs=ys(o,!1),r.pipeDefs=ys(o,!0),r.id=function po(t){let n=0;const r=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const s of r)n=Math.imul(31,n)+s.charCodeAt(0)|0;return n+=2147483648,"c"+n}(r),r})}function Ki(t){return Ft(t)||Tn(t)}function gs(t){return null!==t}function uo(t){return gt(()=>({type:t.type,bootstrap:t.bootstrap||Lt,declarations:t.declarations||Lt,imports:t.imports||Lt,exports:t.exports||Lt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function mr(t,n){if(null==t)return hr;const r={};for(const o in t)if(t.hasOwnProperty(o)){const s=t[o];let i,d,f=In.None;Array.isArray(s)?(f=s[0],i=s[1],d=s[2]??i):(i=s,d=s),n?(r[i]=f!==In.None?[o,f]:o,n[i]=d):r[i]=o}return r}function Xs(t){return gt(()=>{const n=As(t);return Fs(n),n})}function Ys(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function Ft(t){return t[$t]||null}function Tn(t){return t[an]||null}function Bn(t){return t[nn]||null}function Xo(t){const n=Ft(t)||Tn(t)||Bn(t);return null!==n&&n.standalone}function yt(t,n){const r=t[bn]||null;if(!r&&!0===n)throw new Error(`Type ${Wt(t)} does not have '\u0275mod' property.`);return r}function As(t){const n={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:t.inputs||hr,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||Lt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:mr(t.inputs,n),outputs:mr(t.outputs),debugInfo:null}}function Fs(t){t.features?.forEach(n=>n(t))}function ys(t,n){if(!t)return null;const r=n?Bn:Ki;return()=>("function"==typeof t?t():t).map(o=>r(o)).filter(gs)}function Br(t){return{\u0275providers:t}}function ei(...t){return{\u0275providers:ti(0,t),\u0275fromNgModule:!0}}function ti(t,...n){const r=[],o=new Set;let s;const i=d=>{r.push(d)};return Pr(n,d=>{const f=d;Ao(f,i,[],o)&&(s||=[],s.push(f))}),void 0!==s&&Si(s,i),r}function Si(t,n){for(let r=0;r<t.length;r++){const{ngModule:o,providers:s}=t[r];xi(s,i=>{n(i,o)})}}function Ao(t,n,r,o){if(!(t=K(t)))return!1;let s=null,i=wo(t);const d=!i&&Ft(t);if(i||d){if(d&&!d.standalone)return!1;s=t}else{const E=t.ngModule;if(i=wo(E),!i)return!1;s=E}const f=o.has(s);if(d){if(f)return!1;if(o.add(s),d.dependencies){const E="function"==typeof d.dependencies?d.dependencies():d.dependencies;for(const k of E)Ao(k,n,r,o)}}else{if(!i)return!1;{if(null!=i.imports&&!f){let k;o.add(s);try{Pr(i.imports,D=>{Ao(D,n,r,o)&&(k||=[],k.push(D))})}finally{}void 0!==k&&Si(k,n)}if(!f){const k=Tr(s)||(()=>new s);n({provide:s,useFactory:k,deps:Lt},s),n({provide:xs,useValue:s,multi:!0},s),n({provide:Lr,useValue:()=>En(s),multi:!0},s)}const E=i.providers;if(null!=E&&!f){const k=t;xi(E,D=>{n(D,k)})}}}return s!==t&&void 0!==t.providers}function xi(t,n){for(let r of t)cn(r)&&(r=r.\u0275providers),Array.isArray(r)?xi(r,n):n(r)}const Ji=ct({provide:String,useValue:ct});function ni(t){return null!==t&&"object"==typeof t&&Ji in t}function Jr(t){return"function"==typeof t}const ri=new ut(""),oi={},Ai={};let ho;function si(){return void 0===ho&&(ho=new fs),ho}class fn{}class fo extends fn{get destroyed(){return this._destroyed}constructor(n,r,o,s){super(),this.parent=r,this.source=o,this.scopes=s,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Yo(n,d=>this.processProvider(d)),this.records.set(lo,Qr(void 0,this)),s.has("environment")&&this.records.set(fn,Qr(void 0,this));const i=this.records.get(ri);null!=i&&"string"==typeof i.value&&this.scopes.add(i.value),this.injectorDefTypes=new Set(this.get(xs,Lt,wt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const n=G(null);try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();const r=this._onDestroyHooks;this._onDestroyHooks=[];for(const o of r)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),G(n)}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();const r=pr(this),o=Cn(void 0);try{return n()}finally{pr(r),Cn(o)}}get(n,r=qo,o=wt.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(_n))return n[_n](this);o=ao(o);const i=pr(this),d=Cn(void 0);try{if(!(o&wt.SkipSelf)){let E=this.records.get(n);if(void 0===E){const k=function ai(t){return"function"==typeof t||"object"==typeof t&&t instanceof ut}(n)&&Nn(n);E=k&&this.injectableDefInScope(k)?Qr(vs(n),oi):null,this.records.set(n,E)}if(null!=E)return this.hydrate(n,E)}return(o&wt.Self?si():this.parent).get(n,r=o&wt.Optional&&r===qo?null:r)}catch(f){if("NullInjectorError"===f.name){if((f[Is]=f[Is]||[]).unshift(Wt(n)),i)throw f;return function Ko(t,n,r,o){const s=t[Is];throw n[Do]&&s.unshift(n[Do]),t.message=function hs(t,n,r,o=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let s=Wt(n);if(Array.isArray(n))s=n.map(Wt).join(" -> ");else if("object"==typeof n){let i=[];for(let d in n)if(n.hasOwnProperty(d)){let f=n[d];i.push(d+":"+("string"==typeof f?JSON.stringify(f):Wt(f)))}s=`{${i.join(", ")}}`}return`${r}${o?"("+o+")":""}[${s}]: ${t.replace(rr,"\n  ")}`}("\n"+t.message,s,r,o),t.ngTokenPath=s,t[Is]=null,t}(f,n,"R3InjectorError",this.source)}throw f}finally{Cn(d),pr(i)}}resolveInjectorInitializers(){const n=G(null),r=pr(this),o=Cn(void 0);try{const i=this.get(Lr,Lt,wt.Self);for(const d of i)d()}finally{pr(r),Cn(o),G(n)}}toString(){const n=[],r=this.records;for(const o of r.keys())n.push(Wt(o));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ne(205,!1)}processProvider(n){let r=Jr(n=K(n))?n:K(n&&n.provide);const o=function Oo(t){return ni(t)?Qr(void 0,t.useValue):Qr(function ii(t,n,r){let o;if(Jr(t)){const s=K(t);return Tr(s)||vs(s)}if(ni(t))o=()=>K(t.useValue);else if(function ji(t){return!(!t||!t.useFactory)}(t))o=()=>t.useFactory(...Io(t.deps||[]));else if(function Es(t){return!(!t||!t.useExisting)}(t))o=()=>En(K(t.useExisting));else{const s=K(t&&(t.useClass||t.provide));if(!function Ro(t){return!!t.deps}(t))return Tr(s)||vs(s);o=()=>new s(...Io(t.deps))}return o}(t),oi)}(n);if(!Jr(n)&&!0===n.multi){let s=this.records.get(r);s||(s=Qr(void 0,oi,!0),s.factory=()=>Io(s.multi),this.records.set(r,s)),r=n,s.multi.push(n)}this.records.set(r,o)}hydrate(n,r){const o=G(null);try{return r.value===oi&&(r.value=Ai,r.value=r.factory()),"object"==typeof r.value&&r.value&&function Os(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(r.value)&&this._ngOnDestroyHooks.add(r.value),r.value}finally{G(o)}}injectableDefInScope(n){if(!n.providedIn)return!1;const r=K(n.providedIn);return"string"==typeof r?"any"===r||this.scopes.has(r):this.injectorDefTypes.has(r)}removeOnDestroy(n){const r=this._onDestroyHooks.indexOf(n);-1!==r&&this._onDestroyHooks.splice(r,1)}}function vs(t){const n=Nn(t),r=null!==n?n.factory:Tr(t);if(null!==r)return r;if(t instanceof ut)throw new Ne(204,!1);if(t instanceof Function)return function ha(t){if(t.length>0)throw new Ne(204,!1);const r=function Ds(t){return t&&(t[ko]||t[so])||null}(t);return null!==r?()=>r.factory(t):()=>new t}(t);throw new Ne(204,!1)}function Qr(t,n,r=!1){return{factory:t,value:n,multi:r?[]:void 0}}function Yo(t,n){for(const r of t)Array.isArray(r)?Yo(r,n):r&&cn(r)?Yo(r.\u0275providers,n):n(r)}function fa(t,n){t instanceof fo&&t.assertNotDestroyed();const o=pr(t),s=Cn(void 0);try{return n()}finally{pr(o),Cn(s)}}function bs(){return void 0!==Ei()||null!=function io(){return Nr}()}function No(t){if(!bs())throw new Ne(-203,!1)}const st=0,Ce=1,He=2,Xt=3,Un=4,en=5,wn=6,Jn=7,St=8,dn=9,gr=10,Xe=11,Wn=12,Ln=13,Qn=14,pn=15,Mn=16,Zn=17,Po=18,mo=19,Xi=20,Zr=21,Rs=22,Vn=23,et=25,ts=1,Xr=7,Ps=9,hn=10;var Ls=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Ls||{});function Hn(t){return Array.isArray(t)&&"object"==typeof t[ts]}function sr(t){return Array.isArray(t)&&!0===t[ts]}function li(t){return!!(4&t.flags)}function Lo(t){return t.componentOffset>-1}function Oi(t){return!(1&~t.flags)}function Ur(t){return!!t.template}function Bs(t){return!!(512&t[He])}class dt{constructor(n,r,o){this.previousValue=n,this.currentValue=r,this.firstChange=o}isFirstChange(){return this.firstChange}}function rn(t,n,r,o){null!==n?n.applyValueToInputSignal(n,o):t[r]=o}function Sn(){return Gn}function Gn(t){return t.type.prototype.ngOnChanges&&(t.setInput=qn),gn}function gn(){const t=Bo(this),n=t?.current;if(n){const r=t.previous;if(r===hr)t.previous=n;else for(let o in n)r[o]=n[o];t.current=null,this.ngOnChanges(n)}}function qn(t,n,r,o,s){const i=this.declaredInputs[o],d=Bo(t)||function Ml(t,n){return t[_s]=n}(t,{previous:hr,current:null}),f=d.current||(d.current={}),E=d.previous,k=E[i];f[i]=new dt(k&&k.currentValue,r,E===hr),rn(t,n,s,r)}Sn.ngInherit=!0;const _s="__ngSimpleChanges__";function Bo(t){return t[_s]||null}const ns=function(t,n,r){},Cc="svg";function Be(t){for(;Array.isArray(t);)t=t[st];return t}function Ut(t,n){return Be(n[t])}function on(t,n){return Be(n[t.index])}function Fr(t,n){return t.data[n]}function Yr(t,n){return t[n]}function qt(t,n){const r=n[t];return Hn(r)?r:r[st]}function Dc(t){return!(128&~t[He])}function ir(t,n){return null==n?null:t[n]}function go(t){t[Zn]=0}function ma(t){1024&t[He]||(t[He]|=1024,Dc(t)&&jl(t))}function xl(t){return!!(9216&t[He]||t[Vn]?.dirty)}function pd(t){t[gr].changeDetectionScheduler?.notify(8),64&t[He]&&(t[He]|=1024),xl(t)&&jl(t)}function jl(t){t[gr].changeDetectionScheduler?.notify(0);let n=Ni(t);for(;null!==n&&!(8192&n[He])&&(n[He]|=8192,Dc(n));)n=Ni(n)}function Al(t,n){if(!(256&~t[He]))throw new Ne(911,!1);null===t[Zr]&&(t[Zr]=[]),t[Zr].push(n)}function Ni(t){const n=t[Xt];return sr(n)?n[Xt]:n}const vt={lFrame:Mf(null),bindingsEnabled:!0,skipHydrationRootTNode:null};let gf=!1;function Ff(){return vt.bindingsEnabled}function ga(){return null!==vt.skipHydrationRootTNode}function ve(){return vt.lFrame.lView}function Nt(){return vt.lFrame.tView}function yf(t){return vt.lFrame.contextLView=t,t[St]}function Ef(t){return vt.lFrame.contextLView=null,t}function Fn(){let t=vf();for(;null!==t&&64===t.type;)t=t.parent;return t}function vf(){return vt.lFrame.currentTNode}function Vs(t,n){const r=vt.lFrame;r.currentTNode=t,r.isParent=n}function md(){return vt.lFrame.isParent}function gd(){vt.lFrame.isParent=!1}function wf(){return gf}function kf(t){gf=t}function Fo(){const t=vt.lFrame;let n=t.bindingRootIndex;return-1===n&&(n=t.bindingRootIndex=t.tView.bindingStartIndex),n}function Pi(){return vt.lFrame.bindingIndex}function Cf(t){return vt.lFrame.bindingIndex=t}function Hs(){return vt.lFrame.bindingIndex++}function Li(t){const n=vt.lFrame,r=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,r}function iv(t,n){const r=vt.lFrame;r.bindingIndex=r.bindingRootIndex=t,Fd(n)}function Fd(t){vt.lFrame.currentDirectiveIndex=t}function Ed(){return vt.lFrame.currentQueryIndex}function Rl(t){vt.lFrame.currentQueryIndex=t}function cv(t){const n=t[Ce];return 2===n.type?n.declTNode:1===n.type?t[en]:null}function If(t,n,r){if(r&wt.SkipSelf){let s=n,i=t;for(;!(s=s.parent,null!==s||r&wt.Host||(s=cv(i),null===s||(i=i[Qn],10&s.type))););if(null===s)return!1;n=s,t=i}const o=vt.lFrame=Tf();return o.currentTNode=n,o.lView=t,!0}function vd(t){const n=Tf(),r=t[Ce];vt.lFrame=n,n.currentTNode=r.firstChild,n.lView=t,n.tView=r,n.contextLView=t,n.bindingIndex=r.bindingStartIndex,n.inI18n=!1}function Tf(){const t=vt.lFrame,n=null===t?null:t.child;return null===n?Mf(t):n}function Mf(t){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=n),n}function Sf(){const t=vt.lFrame;return vt.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const xf=Sf;function bd(){const t=Sf();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Vr(){return vt.lFrame.selectedIndex}function Fa(t){vt.lFrame.selectedIndex=t}function xn(){const t=vt.lFrame;return Fr(t.tView,t.selectedIndex)}function jf(){vt.lFrame.currentNamespace=Cc}function Af(){!function dv(){vt.lFrame.currentNamespace=null}()}let Rf=!0;function Tc(){return Rf}function ui(t){Rf=t}function Nl(t,n){for(let r=n.directiveStart,o=n.directiveEnd;r<o;r++){const i=t.data[r].type.prototype,{ngAfterContentInit:d,ngAfterContentChecked:f,ngAfterViewInit:E,ngAfterViewChecked:k,ngOnDestroy:D}=i;d&&(t.contentHooks??=[]).push(-r,d),f&&((t.contentHooks??=[]).push(r,f),(t.contentCheckHooks??=[]).push(r,f)),E&&(t.viewHooks??=[]).push(-r,E),k&&((t.viewHooks??=[]).push(r,k),(t.viewCheckHooks??=[]).push(r,k)),null!=D&&(t.destroyHooks??=[]).push(r,D)}}function Pl(t,n,r){Nf(t,n,3,r)}function Ll(t,n,r,o){(3&t[He])===r&&Nf(t,n,r,o)}function _d(t,n){let r=t[He];(3&r)===n&&(r&=16383,r+=1,t[He]=r)}function Nf(t,n,r,o){const i=o??-1,d=n.length-1;let f=0;for(let E=void 0!==o?65535&t[Zn]:0;E<d;E++)if("number"==typeof n[E+1]){if(f=n[E],null!=o&&f>=o)break}else n[E]<0&&(t[Zn]+=65536),(f<i||-1==i)&&(hv(t,r,n,E),t[Zn]=(4294901760&t[Zn])+E+2),E++}function Pf(t,n){ns(4,t,n);const r=G(null);try{n.call(t)}finally{G(r),ns(5,t,n)}}function hv(t,n,r,o){const s=r[o]<0,i=r[o+1],f=t[s?-r[o]:r[o]];s?t[He]>>14<t[Zn]>>16&&(3&t[He])===n&&(t[He]+=16384,Pf(f,i)):Pf(f,i)}const La=-1;class Mc{constructor(n,r,o){this.factory=n,this.resolving=!1,this.canSeeViewProviders=r,this.injectImpl=o}}const kd={};class ya{constructor(n,r){this.injector=n,this.parentInjector=r}get(n,r,o){o=ao(o);const s=this.injector.get(n,kd,o);return s!==kd||r===kd?s:this.parentInjector.get(n,r,o)}}function Cd(t){return t!==La}function Sc(t){return 32767&t}function xc(t,n){let r=function yv(t){return t>>16}(t),o=n;for(;r>0;)o=o[Qn],r--;return o}let Dd=!0;function Bl(t){const n=Dd;return Dd=t,n}const Bf=255,Uf=5;let vv=0;const di={};function Ul(t,n){const r=Vf(t,n);if(-1!==r)return r;const o=n[Ce];o.firstCreatePass&&(t.injectorIndex=n.length,Id(o.data,t),Id(n,null),Id(o.blueprint,null));const s=Vl(t,n),i=t.injectorIndex;if(Cd(s)){const d=Sc(s),f=xc(s,n),E=f[Ce].data;for(let k=0;k<8;k++)n[i+k]=f[d+k]|E[d+k]}return n[i+8]=s,i}function Id(t,n){t.push(0,0,0,0,0,0,0,0,n)}function Vf(t,n){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===n[t.injectorIndex+8]?-1:t.injectorIndex}function Vl(t,n){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let r=0,o=null,s=n;for(;null!==s;){if(o=Jf(s),null===o)return La;if(r++,s=s[Qn],-1!==o.injectorIndex)return o.injectorIndex|r<<16}return La}function Td(t,n,r){!function bv(t,n,r){let o;"string"==typeof r?o=r.charCodeAt(0)||0:r.hasOwnProperty(Dt)&&(o=r[Dt]),null==o&&(o=r[Dt]=vv++);const s=o&Bf;n.data[t+(s>>Uf)]|=1<<s}(t,n,r)}function Hf(t,n,r){if(r&wt.Optional||void 0!==t)return t;Go()}function $f(t,n,r,o){if(r&wt.Optional&&void 0===o&&(o=null),!(r&(wt.Self|wt.Host))){const s=t[dn],i=Cn(void 0);try{return s?s.get(n,o,r&wt.Optional):Gs(n,o,r&wt.Optional)}finally{Cn(i)}}return Hf(o,0,r)}function zf(t,n,r,o=wt.Default,s){if(null!==t){if(2048&n[He]&&!(o&wt.Self)){const d=function Dv(t,n,r,o,s){let i=t,d=n;for(;null!==i&&null!==d&&2048&d[He]&&!(512&d[He]);){const f=Wf(i,d,r,o|wt.Self,di);if(f!==di)return f;let E=i.parent;if(!E){const k=d[Xi];if(k){const D=k.get(r,di,o);if(D!==di)return D}E=Jf(d),d=d[Qn]}i=E}return s}(t,n,r,o,di);if(d!==di)return d}const i=Wf(t,n,r,o,di);if(i!==di)return i}return $f(n,r,o,s)}function Wf(t,n,r,o,s){const i=function kv(t){if("string"==typeof t)return t.charCodeAt(0)||0;const n=t.hasOwnProperty(Dt)?t[Dt]:void 0;return"number"==typeof n?n>=0?n&Bf:Cv:n}(r);if("function"==typeof i){if(!If(n,t,o))return o&wt.Host?Hf(s,0,o):$f(n,r,o,s);try{let d;if(d=i(o),null!=d||o&wt.Optional)return d;Go()}finally{xf()}}else if("number"==typeof i){let d=null,f=Vf(t,n),E=La,k=o&wt.Host?n[pn][en]:null;for((-1===f||o&wt.SkipSelf)&&(E=-1===f?Vl(t,n):n[f+8],E!==La&&qf(o,!1)?(d=n[Ce],f=Sc(E),n=xc(E,n)):f=-1);-1!==f;){const D=n[Ce];if(Gf(i,f,D.data)){const j=wv(f,n,r,d,o,k);if(j!==di)return j}E=n[f+8],E!==La&&qf(o,n[Ce].data[f+8]===k)&&Gf(i,f,n)?(d=D,f=Sc(E),n=xc(E,n)):f=-1}}return s}function wv(t,n,r,o,s,i){const d=n[Ce],f=d.data[t+8],D=Hl(f,d,r,null==o?Lo(f)&&Dd:o!=d&&!!(3&f.type),s&wt.Host&&i===f);return null!==D?Ea(n,d,D,f):di}function Hl(t,n,r,o,s){const i=t.providerIndexes,d=n.data,f=1048575&i,E=t.directiveStart,D=i>>20,L=s?f+D:t.directiveEnd;for(let W=o?f:f+D;W<L;W++){const Z=d[W];if(W<E&&r===Z||W>=E&&Z.type===r)return W}if(s){const W=d[E];if(W&&Ur(W)&&W.type===r)return E}return null}function Ea(t,n,r,o){let s=t[r];const i=n.data;if(function fv(t){return t instanceof Mc}(s)){const d=s;d.resolving&&function Rr(t,n){throw n&&n.join(" > "),new Ne(-200,t)}(function Ke(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():ot(t)}(i[r]));const f=Bl(d.canSeeViewProviders);d.resolving=!0;const k=d.injectImpl?Cn(d.injectImpl):null;If(t,o,wt.Default);try{s=t[r]=d.factory(void 0,i,t,o),n.firstCreatePass&&r>=o.directiveStart&&function pv(t,n,r){const{ngOnChanges:o,ngOnInit:s,ngDoCheck:i}=n.type.prototype;if(o){const d=Gn(n);(r.preOrderHooks??=[]).push(t,d),(r.preOrderCheckHooks??=[]).push(t,d)}s&&(r.preOrderHooks??=[]).push(0-t,s),i&&((r.preOrderHooks??=[]).push(t,i),(r.preOrderCheckHooks??=[]).push(t,i))}(r,i[r],n)}finally{null!==k&&Cn(k),Bl(f),d.resolving=!1,xf()}}return s}function Gf(t,n,r){return!!(r[n+(t>>Uf)]&1<<t)}function qf(t,n){return!(t&wt.Self||t&wt.Host&&n)}class yr{constructor(n,r){this._tNode=n,this._lView=r}get(n,r,o){return zf(this._tNode,this._lView,n,ao(o),r)}}function Cv(){return new yr(Fn(),ve())}function Kf(t){return gt(()=>{const n=t.prototype.constructor,r=n[Mt]||Md(n),o=Object.prototype;let s=Object.getPrototypeOf(t.prototype).constructor;for(;s&&s!==o;){const i=s[Mt]||Md(s);if(i&&i!==r)return i;s=Object.getPrototypeOf(s)}return i=>new i})}function Md(t){return R(t)?()=>{const n=Md(K(t));return n&&n()}:Tr(t)}function Jf(t){const n=t[Ce],r=n.type;return 2===r?n.declTNode:1===r?t[en]:null}function $l(t){return function _v(t,n){if("class"===n)return t.classes;if("style"===n)return t.styles;const r=t.attrs;if(r){const o=r.length;let s=0;for(;s<o;){const i=r[s];if(jo(i))break;if(0===i)s+=2;else if("number"==typeof i)for(s++;s<o&&"string"==typeof r[s];)s++;else{if(i===n)return r[s+1];s+=2}}}return null}(Fn(),t)}function em(t,n=null,r=null,o){const s=tm(t,n,r,o);return s.resolveInjectorInitializers(),s}function tm(t,n=null,r=null,o,s=new Set){const i=[r||Lt,ei(t)];return o=o||("object"==typeof t?void 0:Wt(t)),new fo(i,n||si(),o||null,s)}class eo{static#e=this.THROW_IF_NOT_FOUND=qo;static#t=this.NULL=new fs;static create(n,r){if(Array.isArray(n))return em({name:""},r,n,"");{const o=n.name??"";return em({name:o},n.parent,n.providers,o)}}static#n=this.\u0275prov=Ot({token:eo,providedIn:"any",factory:()=>En(lo)});static#r=this.__NG_ELEMENT_ID__=-1}new ut("").__NG_ELEMENT_ID__=t=>{const n=Fn();if(null===n)throw new Ne(204,!1);if(2&n.type)return n.value;if(t&wt.Optional)return null;throw new Ne(204,!1)};function xd(t){return t.ngOriginalError}const rm=!0;let jc=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=Nv;static#t=this.__NG_ENV_ID__=r=>r}return t})();class Rv extends jc{constructor(n){super(),this._lView=n}onDestroy(n){return Al(this._lView,n),()=>function hd(t,n){if(null===t[Zr])return;const r=t[Zr].indexOf(n);-1!==r&&t[Zr].splice(r,1)}(this._lView,n)}}function Nv(){return new Rv(ve())}let va=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new ar.t(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static#e=this.\u0275prov=Ot({token:t,providedIn:"root",factory:()=>new t})}return t})();const pi=class Pv extends Pt.B{constructor(n=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=n,bs()&&(this.destroyRef=Ze(jc,{optional:!0})??void 0,this.pendingTasks=Ze(va,{optional:!0})??void 0)}emit(n){const r=G(null);try{super.next(n)}finally{G(r)}}subscribe(n,r,o){let s=n,i=r||(()=>null),d=o;if(n&&"object"==typeof n){const E=n;s=E.next?.bind(E),i=E.error?.bind(E),d=E.complete?.bind(E)}this.__isAsync&&(i=this.wrapInTimeout(i),s&&(s=this.wrapInTimeout(s)),d&&(d=this.wrapInTimeout(d)));const f=super.subscribe({next:s,error:i,complete:d});return n instanceof Qt.yU&&n.add(f),f}wrapInTimeout(n){return r=>{const o=this.pendingTasks?.add();setTimeout(()=>{n(r),void 0!==o&&this.pendingTasks?.remove(o)})}}};function Wl(...t){}function om(t){let n,r;function o(){t=Wl;try{void 0!==r&&"function"==typeof cancelAnimationFrame&&cancelAnimationFrame(r),void 0!==n&&clearTimeout(n)}catch{}}return n=setTimeout(()=>{t(),o()}),"function"==typeof requestAnimationFrame&&(r=requestAnimationFrame(()=>{t(),o()})),()=>o()}function sm(t){return queueMicrotask(()=>t()),()=>{t=Wl}}const jd="isAngularZone",Gl=jd+"_ID";let Lv=0;class $n{constructor(n){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new pi(!1),this.onMicrotaskEmpty=new pi(!1),this.onStable=new pi(!1),this.onError=new pi(!1);const{enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:s=!1,scheduleInRootZone:i=rm}=n;if(typeof Zone>"u")throw new Ne(908,!1);Zone.assertZonePatched();const d=this;d._nesting=0,d._outer=d._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!s&&o,d.shouldCoalesceRunChangeDetection=s,d.callbackScheduled=!1,d.scheduleInRootZone=i,function Vv(t){const n=()=>{!function Uv(t){function n(){om(()=>{t.callbackScheduled=!1,Od(t),t.isCheckStableRunning=!0,Ad(t),t.isCheckStableRunning=!1})}t.isCheckStableRunning||t.callbackScheduled||(t.callbackScheduled=!0,t.scheduleInRootZone?Zone.root.run(()=>{n()}):t._outer.run(()=>{n()}),Od(t))}(t)},r=Lv++;t._inner=t._inner.fork({name:"angular",properties:{[jd]:!0,[Gl]:r,[Gl+r]:!0},onInvokeTask:(o,s,i,d,f,E)=>{if(function Hv(t){return cm(t,"__ignore_ng_zone__")}(E))return o.invokeTask(i,d,f,E);try{return im(t),o.invokeTask(i,d,f,E)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===d.type||t.shouldCoalesceRunChangeDetection)&&n(),am(t)}},onInvoke:(o,s,i,d,f,E,k)=>{try{return im(t),o.invoke(i,d,f,E,k)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!function $v(t){return cm(t,"__scheduler_tick__")}(E)&&n(),am(t)}},onHasTask:(o,s,i,d)=>{o.hasTask(i,d),s===i&&("microTask"==d.change?(t._hasPendingMicrotasks=d.microTask,Od(t),Ad(t)):"macroTask"==d.change&&(t.hasPendingMacrotasks=d.macroTask))},onHandleError:(o,s,i,d)=>(o.handleError(i,d),t.runOutsideAngular(()=>t.onError.emit(d)),!1)})}(d)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get(jd)}static assertInAngularZone(){if(!$n.isInAngularZone())throw new Ne(909,!1)}static assertNotInAngularZone(){if($n.isInAngularZone())throw new Ne(909,!1)}run(n,r,o){return this._inner.run(n,r,o)}runTask(n,r,o,s){const i=this._inner,d=i.scheduleEventTask("NgZoneEvent: "+s,n,Bv,Wl,Wl);try{return i.runTask(d,r,o)}finally{i.cancelTask(d)}}runGuarded(n,r,o){return this._inner.runGuarded(n,r,o)}runOutsideAngular(n){return this._outer.run(n)}}const Bv={};function Ad(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Od(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&!0===t.callbackScheduled)}function im(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function am(t){t._nesting--,Ad(t)}class Rd{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new pi,this.onMicrotaskEmpty=new pi,this.onStable=new pi,this.onError=new pi}run(n,r,o){return n.apply(r,o)}runGuarded(n,r,o){return n.apply(r,o)}runOutsideAngular(n){return n()}runTask(n,r,o,s){return n.apply(r,o)}}function cm(t,n){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0]?.data?.[n]}class Bi{constructor(){this._console=console}handleError(n){const r=this._findOriginalError(n);this._console.error("ERROR",n),r&&this._console.error("ORIGINAL ERROR",r)}_findOriginalError(n){let r=n&&xd(n);for(;r&&xd(r);)r=xd(r);return r||null}}const Wv=new ut("",{providedIn:"root",factory:()=>{const t=Ze($n),n=Ze(Bi);return r=>t.runOutsideAngular(()=>n.handleError(r))}});function Gv(){return Va(Fn(),ve())}function Va(t,n){return new Ac(on(t,n))}let Ac=(()=>{class t{constructor(r){this.nativeElement=r}static#e=this.__NG_ELEMENT_ID__=Gv}return t})();function um(t){return t instanceof Ac?t.nativeElement:t}function qv(){return this._results[Symbol.iterator]()}class ql{static#e=Symbol.iterator;get changes(){return this._changes??=new pi}constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const r=ql.prototype;r[Symbol.iterator]||(r[Symbol.iterator]=qv)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,r){return this._results.reduce(n,r)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,r){this.dirty=!1;const o=function Dn(t){return t.flat(Number.POSITIVE_INFINITY)}(n);(this._changesDetected=!function qs(t,n,r){if(t.length!==n.length)return!1;for(let o=0;o<t.length;o++){let s=t[o],i=n[o];if(r&&(s=r(s),i=r(i)),i!==s)return!1}return!0}(this._results,o,r))&&(this._results=o,this.length=o.length,this.last=o[this.length-1],this.first=o[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(n){this._onDirty=n}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}function Rc(t){return!(128&~t.flags)}const Pd=new Map;let Jv=0;function Ld(t){Pd.delete(t[mo])}const Kl="__ngContext__";function to(t,n){Hn(n)?(t[Kl]=n[mo],function Zv(t){Pd.set(t[mo],t)}(n)):t[Kl]=n}function vm(t){return _m(t[Wn])}function bm(t){return _m(t[Un])}function _m(t){for(;null!==t&&!sr(t);)t=t[Un];return t}let Ud;function hb(t){Ud=t}const Ql=new ut("",{providedIn:"root",factory:()=>fb}),fb="ng",Sm=new ut(""),Zl=new ut("",{providedIn:"platform",factory:()=>"unknown"}),mb=new ut(""),gb=new ut("",{providedIn:"root",factory:()=>function ra(){if(void 0!==Ud)return Ud;if(typeof document<"u")return document;throw new Ne(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let xm=()=>null;function qd(t,n,r=!1){return xm(t,n,r)}const Bm=new ut("",{providedIn:"root",factory:()=>!1});let ou,su;function Xd(){if(void 0===ou&&(ou=null,Ht.trustedTypes))try{ou=Ht.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return ou}function Wa(t){return Xd()?.createHTML(t)||t}function zm(t){return function Yd(){if(void 0===su&&(su=null,Ht.trustedTypes))try{su=Ht.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return su}()?.createScriptURL(t)||t}class _a{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${An})`}}class Sb extends _a{getTypeName(){return"HTML"}}class xb extends _a{getTypeName(){return"Style"}}class jb extends _a{getTypeName(){return"Script"}}class Ab extends _a{getTypeName(){return"URL"}}class Ob extends _a{getTypeName(){return"ResourceURL"}}function Ui(t){return t instanceof _a?t.changingThisBreaksApplicationSecurity:t}function Ga(t,n){const r=function Rb(t){return t instanceof _a&&t.getTypeName()||null}(t);if(null!=r&&r!==n){if("ResourceURL"===r&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${r} (see ${An})`)}return r===n}function Nb(t){return new Sb(t)}function Pb(t){return new xb(t)}function Lb(t){return new jb(t)}function Bb(t){return new Ab(t)}function Ub(t){return new Ob(t)}class Vb{constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{const r=(new window.DOMParser).parseFromString(Wa(n),"text/html").body;return null===r?this.inertDocumentHelper.getInertBodyElement(n):(r.firstChild?.remove(),r)}catch{return null}}}class Hb{constructor(n){this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(n){const r=this.inertDocument.createElement("template");return r.innerHTML=Wa(n),r}}const zb=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function iu(t){return(t=String(t)).match(zb)?t:"unsafe:"+t}function Vi(t){const n={};for(const r of t.split(","))n[r]=!0;return n}function Hc(...t){const n={};for(const r of t)for(const o in r)r.hasOwnProperty(o)&&(n[o]=!0);return n}const Gm=Vi("area,br,col,hr,img,wbr"),qm=Vi("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Km=Vi("rp,rt"),ep=Hc(Gm,Hc(qm,Vi("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Hc(Km,Vi("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Hc(Km,qm)),tp=Vi("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Jm=Hc(tp,Vi("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Vi("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Wb=Vi("script,style,template");class Gb{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(n){let r=n.firstChild,o=!0,s=[];for(;r;)if(r.nodeType===Node.ELEMENT_NODE?o=this.startElement(r):r.nodeType===Node.TEXT_NODE?this.chars(r.nodeValue):this.sanitizedSomething=!0,o&&r.firstChild)s.push(r),r=Jb(r);else for(;r;){r.nodeType===Node.ELEMENT_NODE&&this.endElement(r);let i=Kb(r);if(i){r=i;break}r=s.pop()}return this.buf.join("")}startElement(n){const r=Qm(n).toLowerCase();if(!ep.hasOwnProperty(r))return this.sanitizedSomething=!0,!Wb.hasOwnProperty(r);this.buf.push("<"),this.buf.push(r);const o=n.attributes;for(let s=0;s<o.length;s++){const i=o.item(s),d=i.name,f=d.toLowerCase();if(!Jm.hasOwnProperty(f)){this.sanitizedSomething=!0;continue}let E=i.value;tp[f]&&(E=iu(E)),this.buf.push(" ",d,'="',Xm(E),'"')}return this.buf.push(">"),!0}endElement(n){const r=Qm(n).toLowerCase();ep.hasOwnProperty(r)&&!Gm.hasOwnProperty(r)&&(this.buf.push("</"),this.buf.push(r),this.buf.push(">"))}chars(n){this.buf.push(Xm(n))}}function Kb(t){const n=t.nextSibling;if(n&&t!==n.previousSibling)throw Zm(n);return n}function Jb(t){const n=t.firstChild;if(n&&function qb(t,n){return(t.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}(t,n))throw Zm(n);return n}function Qm(t){const n=t.nodeName;return"string"==typeof n?n:"FORM"}function Zm(t){return new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`)}const Qb=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Zb=/([^\#-~ |!])/g;function Xm(t){return t.replace(/&/g,"&amp;").replace(Qb,function(n){return"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";"}).replace(Zb,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let au;function Ym(t,n){let r=null;try{au=au||function Wm(t){const n=new Hb(t);return function $b(){try{return!!(new window.DOMParser).parseFromString(Wa(""),"text/html")}catch{return!1}}()?new Vb(n):n}(t);let o=n?String(n):"";r=au.getInertBodyElement(o);let s=5,i=o;do{if(0===s)throw new Error("Failed to sanitize html because the input is unstable");s--,o=i,i=r.innerHTML,r=au.getInertBodyElement(o)}while(o!==i);return Wa((new Gb).sanitizeChildren(np(r)||r))}finally{if(r){const o=np(r)||r;for(;o.firstChild;)o.firstChild.remove()}}}function np(t){return"content"in t&&function Xb(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var wa=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(wa||{});function rp(t){const n=$c();return n?n.sanitize(wa.URL,t)||"":Ga(t,"URL")?Ui(t):iu(ot(t))}function eg(t){const n=$c();if(n)return zm(n.sanitize(wa.RESOURCE_URL,t)||"");if(Ga(t,"ResourceURL"))return zm(Ui(t));throw new Ne(904,!1)}function tg(t){return function Mb(t){return Xd()?.createScriptURL(t)||t}(t[0])}function ng(t,n,r){return function r_(t,n){return"src"===n&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===n&&("base"===t||"link"===t)?eg:rp}(n,r)(t)}function $c(){const t=ve();return t&&t[gr].sanitizer}function ag(t){return t.ownerDocument.defaultView}function rs(t){return t instanceof Function?t():t}var uu=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(uu||{});let ip;function ap(t,n){return ip(t,n)}function Ka(t,n,r,o,s){if(null!=o){let i,d=!1;sr(o)?i=o:Hn(o)&&(d=!0,o=o[st]);const f=Be(o);0===t&&null!==r?null==s?gg(n,r,f):ka(n,r,f,s||null,!0):1===t&&null!==r?ka(n,r,f,s||null,!0):2===t?function Wc(t,n,r){t.removeChild(null,n,r)}(n,f,d):3===t&&n.destroyNode(f),null!=i&&function C_(t,n,r,o,s){const i=r[Xr];i!==Be(r)&&Ka(n,t,o,i,s);for(let f=hn;f<r.length;f++){const E=r[f];fu(E[Ce],E,t,n,o,i)}}(n,t,i,r,s)}}function du(t,n,r){return t.createElement(n,r)}function hg(t,n){n[gr].changeDetectionScheduler?.notify(9),fu(t,n,n[Xe],2,null,null)}function fg(t,n){const r=t[Ps],o=n[Xt];(Hn(o)||n[pn]!==o[Xt][pn])&&(t[He]|=Ls.HasTransplantedViews),null===r?t[Ps]=[n]:r.push(n)}function up(t,n){const r=t[Ps],o=r.indexOf(n);r.splice(o,1)}function zc(t,n){if(t.length<=hn)return;const r=hn+n,o=t[r];if(o){const s=o[Mn];null!==s&&s!==t&&up(s,o),n>0&&(t[r-1][Un]=o[Un]);const i=Ss(t,hn+n);!function F_(t,n){hg(t,n),n[st]=null,n[en]=null}(o[Ce],o);const d=i[Po];null!==d&&d.detachView(i[Ce]),o[Xt]=null,o[Un]=null,o[He]&=-129}return o}function pu(t,n){if(!(256&n[He])){const r=n[Xe];r.destroyNode&&fu(t,n,r,3,null,null),function E_(t){let n=t[Wn];if(!n)return dp(t[Ce],t);for(;n;){let r=null;if(Hn(n))r=n[Wn];else{const o=n[hn];o&&(r=o)}if(!r){for(;n&&!n[Un]&&n!==t;)Hn(n)&&dp(n[Ce],n),n=n[Xt];null===n&&(n=t),Hn(n)&&dp(n[Ce],n),r=n&&n[Un]}n=r}}(n)}}function dp(t,n){if(256&n[He])return;const r=G(null);try{n[He]&=-129,n[He]|=256,n[Vn]&&Ie(n[Vn]),function __(t,n){let r;if(null!=t&&null!=(r=t.destroyHooks))for(let o=0;o<r.length;o+=2){const s=n[r[o]];if(!(s instanceof Mc)){const i=r[o+1];if(Array.isArray(i))for(let d=0;d<i.length;d+=2){const f=s[i[d]],E=i[d+1];ns(4,f,E);try{E.call(f)}finally{ns(5,f,E)}}else{ns(4,s,i);try{i.call(s)}finally{ns(5,s,i)}}}}}(t,n),function b_(t,n){const r=t.cleanup,o=n[Jn];if(null!==r)for(let i=0;i<r.length-1;i+=2)if("string"==typeof r[i]){const d=r[i+3];d>=0?o[d]():o[-d].unsubscribe(),i+=2}else r[i].call(o[r[i+1]]);null!==o&&(n[Jn]=null);const s=n[Zr];if(null!==s){n[Zr]=null;for(let i=0;i<s.length;i++)(0,s[i])()}}(t,n),1===n[Ce].type&&n[Xe].destroy();const o=n[Mn];if(null!==o&&sr(n[Xt])){o!==n[Xt]&&up(o,n);const s=n[Po];null!==s&&s.detachView(t)}Ld(n)}finally{G(r)}}function pp(t,n,r){return function mg(t,n,r){let o=n;for(;null!==o&&168&o.type;)o=(n=o).parent;if(null===o)return r[st];{const{componentOffset:s}=o;if(s>-1){const{encapsulation:i}=t.data[o.directiveStart+s];if(i===fr.None||i===fr.Emulated)return null}return on(o,r)}}(t,n.parent,r)}function ka(t,n,r,o,s){t.insertBefore(n,r,o,s)}function gg(t,n,r){t.appendChild(n,r)}function Fg(t,n,r,o,s){null!==o?ka(t,n,r,o,s):gg(t,n,r)}function hp(t,n){return t.parentNode(n)}function yg(t,n,r){return vg(t,n,r)}let fp,vg=function Eg(t,n,r){return 40&t.type?on(t,r):null};function hu(t,n,r,o){const s=pp(t,o,n),i=n[Xe],f=yg(o.parent||n[en],o,n);if(null!=s)if(Array.isArray(r))for(let E=0;E<r.length;E++)Fg(i,s,r[E],f,!1);else Fg(i,s,r,f,!1);void 0!==fp&&fp(i,o,n,r,s)}function Ca(t,n){if(null!==n){const r=n.type;if(3&r)return on(n,t);if(4&r)return mp(-1,t[n.index]);if(8&r){const o=n.child;if(null!==o)return Ca(t,o);{const s=t[n.index];return sr(s)?mp(-1,s):Be(s)}}if(128&r)return Ca(t,n.next);if(32&r)return ap(n,t)()||Be(t[n.index]);{const o=_g(t,n);return null!==o?Array.isArray(o)?o[0]:Ca(Ni(t[pn]),o):Ca(t,n.next)}}return null}function _g(t,n){return null!==n?t[pn][en].projection[n.projection]:null}function mp(t,n){const r=hn+t+1;if(r<n.length){const o=n[r],s=o[Ce].firstChild;if(null!==s)return Ca(o,s)}return n[Xr]}function gp(t,n,r,o,s,i,d){for(;null!=r;){if(128===r.type){r=r.next;continue}const f=o[r.index],E=r.type;if(d&&0===n&&(f&&to(Be(f),o),r.flags|=2),32&~r.flags)if(8&E)gp(t,n,r.child,o,s,i,!1),Ka(n,t,s,f,i);else if(32&E){const k=ap(r,o);let D;for(;D=k();)Ka(n,t,s,D,i);Ka(n,t,s,f,i)}else 16&E?kg(t,n,o,r,s,i):Ka(n,t,s,f,i);r=d?r.projectionNext:r.next}}function fu(t,n,r,o,s,i){gp(r,o,t.firstChild,n,s,i,!1)}function kg(t,n,r,o,s,i){const d=r[pn],E=d[en].projection[o.projection];if(Array.isArray(E))for(let k=0;k<E.length;k++)Ka(n,t,s,E[k],i);else{let k=E;const D=d[Xt];Rc(o)&&(k.flags|=128),gp(t,n,k,D,s,i,!0)}}function Cg(t,n,r){""===r?t.removeAttribute(n,"class"):t.setAttribute(n,"class",r)}function Dg(t,n,r){const{mergedAttrs:o,classes:s,styles:i}=r;null!==o&&qr(t,n,o),null!==s&&Cg(t,n,s),null!==i&&function I_(t,n,r){t.setAttribute(n,"style",r)}(t,n,i)}const Tt={};function Ig(t=1){Tg(Nt(),ve(),Vr()+t,!1)}function Tg(t,n,r,o){if(!o)if(3&~n[He]){const i=t.preOrderHooks;null!==i&&Ll(n,i,0,r)}else{const i=t.preOrderCheckHooks;null!==i&&Pl(n,i,r)}Fa(r)}function Ja(t,n=wt.Default){const r=ve();return null===r?En(t,n):zf(Fn(),r,K(t),n)}function Mg(){throw new Error("invalid")}function Sg(t,n,r,o,s,i){const d=G(null);try{let f=null;s&In.SignalBased&&(f=n[o][N]),null!==f&&void 0!==f.transformFn&&(i=f.transformFn(i)),s&In.HasDecoratorInputTransform&&(i=t.inputTransforms[o].call(n,i)),null!==t.setInput?t.setInput(n,f,i,r,o):rn(n,f,o,i)}finally{G(d)}}function mu(t,n,r,o,s,i,d,f,E,k,D){const j=n.blueprint.slice();return j[st]=s,j[He]=204|o,(null!==k||t&&2048&t[He])&&(j[He]|=2048),go(j),j[Xt]=j[Qn]=t,j[St]=r,j[gr]=d||t&&t[gr],j[Xe]=f||t&&t[Xe],j[dn]=E||t&&t[dn]||null,j[en]=i,j[mo]=function Qv(){return Jv++}(),j[wn]=D,j[Xi]=k,j[pn]=2==n.type?t[pn]:j,j}function Da(t,n,r,o,s){let i=t.data[n];if(null===i)i=function Fp(t,n,r,o,s){const i=vf(),d=md(),E=t.data[n]=function R_(t,n,r,o,s,i){let d=n?n.injectorIndex:-1,f=0;return ga()&&(f|=128),{type:r,index:o,insertBeforeIndex:null,injectorIndex:d,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:f,providerIndexes:0,value:s,attrs:i,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,d?i:i&&i.parent,r,n,o,s);return null===t.firstChild&&(t.firstChild=E),null!==i&&(d?null==i.child&&null!==E.parent&&(i.child=E):null===i.next&&(i.next=E,E.prev=i)),E}(t,n,r,o,s),function sv(){return vt.lFrame.inI18n}()&&(i.flags|=32);else if(64&i.type){i.type=r,i.value=o,i.attrs=s;const d=function Ic(){const t=vt.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}();i.injectorIndex=null===d?-1:d.injectorIndex}return Vs(i,!0),i}function Gc(t,n,r,o){if(0===r)return-1;const s=n.length;for(let i=0;i<r;i++)n.push(o),t.blueprint.push(o),t.data.push(null);return s}function xg(t,n,r,o,s){const i=Vr(),d=2&o;try{Fa(-1),d&&n.length>et&&Tg(t,n,et,!1),ns(d?2:0,s),r(o,s)}finally{Fa(i),ns(d?3:1,s)}}function yp(t,n,r){if(li(n)){const o=G(null);try{const i=n.directiveEnd;for(let d=n.directiveStart;d<i;d++){const f=t.data[d];f.contentQueries&&f.contentQueries(1,r[d],d)}}finally{G(o)}}}function Ep(t,n,r){Ff()&&(function H_(t,n,r,o){const s=r.directiveStart,i=r.directiveEnd;Lo(r)&&function J_(t,n,r){const o=on(n,t),s=jg(r);let d=16;r.signals?d=4096:r.onPush&&(d=64);const f=gu(t,mu(t,s,null,d,o,n,null,t[gr].rendererFactory.createRenderer(o,r),null,null,null));t[n.index]=f}(n,r,t.data[s+r.componentOffset]),t.firstCreatePass||Ul(r,n),to(o,n);const d=r.initialInputs;for(let f=s;f<i;f++){const E=t.data[f],k=Ea(n,t,f,r);to(k,n),null!==d&&Q_(0,f-s,k,E,0,d),Ur(E)&&(qt(r.index,n)[St]=Ea(n,t,f,r))}}(t,n,r,on(r,n)),!(64&~r.flags)&&Pg(t,n,r))}function vp(t,n,r=on){const o=n.localNames;if(null!==o){let s=n.index+1;for(let i=0;i<o.length;i+=2){const d=o[i+1],f=-1===d?r(n,t):t[d];t[s++]=f}}}function jg(t){const n=t.tView;return null===n||n.incompleteFirstPass?t.tView=bp(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):n}function bp(t,n,r,o,s,i,d,f,E,k,D){const j=et+o,L=j+s,W=function M_(t,n){const r=[];for(let o=0;o<n;o++)r.push(o<t?null:Tt);return r}(j,L),Z="function"==typeof k?k():k;return W[Ce]={type:t,blueprint:W,template:r,queries:null,viewQuery:f,declTNode:n,data:W.slice().fill(null,j),bindingStartIndex:j,expandoStartIndex:L,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof i?i():i,pipeRegistry:"function"==typeof d?d():d,firstChild:null,schemas:E,consts:Z,incompleteFirstPass:!1,ssrId:D}}let Ag=()=>null;function Og(t,n,r,o,s){for(let i in n){if(!n.hasOwnProperty(i))continue;const d=n[i];if(void 0===d)continue;o??={};let f,E=In.None;Array.isArray(d)?(f=d[0],E=d[1]):f=d;let k=i;if(null!==s){if(!s.hasOwnProperty(i))continue;k=s[i]}0===t?Rg(o,r,k,f,E):Rg(o,r,k,f)}return o}function Rg(t,n,r,o,s){let i;t.hasOwnProperty(r)?(i=t[r]).push(n,o):i=t[r]=[n,o],void 0!==s&&i.push(s)}function Vo(t,n,r,o,s,i,d,f){const E=on(n,r);let D,k=n.inputs;!f&&null!=k&&(D=k[o])?(Dp(t,r,D,o,s),Lo(n)&&function L_(t,n){const r=qt(n,t);16&r[He]||(r[He]|=64)}(r,n.index)):3&n.type&&(o=function P_(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(o),s=null!=d?d(s,n.value||"",o):s,i.setProperty(E,o,s))}function _p(t,n,r,o){if(Ff()){const s=null===o?null:{"":-1},i=function z_(t,n){const r=t.directiveRegistry;let o=null,s=null;if(r)for(let i=0;i<r.length;i++){const d=r[i];if(Ii(n,d.selectors,!1))if(o||(o=[]),Ur(d))if(null!==d.findHostDirectiveDefs){const f=[];s=s||new Map,d.findHostDirectiveDefs(d,f,s),o.unshift(...f,d),wp(t,n,f.length)}else o.unshift(d),wp(t,n,0);else s=s||new Map,d.findHostDirectiveDefs?.(d,o,s),o.push(d)}return null===o?null:[o,s]}(t,r);let d,f;null===i?d=f=null:[d,f]=i,null!==d&&Ng(t,n,r,d,s,f),s&&function W_(t,n,r){if(n){const o=t.localNames=[];for(let s=0;s<n.length;s+=2){const i=r[n[s+1]];if(null==i)throw new Ne(-301,!1);o.push(n[s],i)}}}(r,o,s)}r.mergedAttrs=Qo(r.mergedAttrs,r.attrs)}function Ng(t,n,r,o,s,i){for(let k=0;k<o.length;k++)Td(Ul(r,n),t,o[k].type);!function q_(t,n,r){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+r,t.providerIndexes=n}(r,t.data.length,o.length);for(let k=0;k<o.length;k++){const D=o[k];D.providersResolver&&D.providersResolver(D)}let d=!1,f=!1,E=Gc(t,n,o.length,null);for(let k=0;k<o.length;k++){const D=o[k];r.mergedAttrs=Qo(r.mergedAttrs,D.hostAttrs),K_(t,r,n,E,D),G_(E,D,s),null!==D.contentQueries&&(r.flags|=4),(null!==D.hostBindings||null!==D.hostAttrs||0!==D.hostVars)&&(r.flags|=64);const j=D.type.prototype;!d&&(j.ngOnChanges||j.ngOnInit||j.ngDoCheck)&&((t.preOrderHooks??=[]).push(r.index),d=!0),!f&&(j.ngOnChanges||j.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(r.index),f=!0),E++}!function N_(t,n,r){const s=n.directiveEnd,i=t.data,d=n.attrs,f=[];let E=null,k=null;for(let D=n.directiveStart;D<s;D++){const j=i[D],L=r?r.get(j):null,Z=L?L.outputs:null;E=Og(0,j.inputs,D,E,L?L.inputs:null),k=Og(1,j.outputs,D,k,Z);const we=null===E||null===d||Kr(n)?null:Z_(E,D,d);f.push(we)}null!==E&&(E.hasOwnProperty("class")&&(n.flags|=8),E.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=f,n.inputs=E,n.outputs=k}(t,r,i)}function Pg(t,n,r){const o=r.directiveStart,s=r.directiveEnd,i=r.index,d=function av(){return vt.lFrame.currentDirectiveIndex}();try{Fa(i);for(let f=o;f<s;f++){const E=t.data[f],k=n[f];Fd(f),(null!==E.hostBindings||0!==E.hostVars||null!==E.hostAttrs)&&$_(E,k)}}finally{Fa(-1),Fd(d)}}function $_(t,n){null!==t.hostBindings&&t.hostBindings(1,n)}function wp(t,n,r){n.componentOffset=r,(t.components??=[]).push(n.index)}function G_(t,n,r){if(r){if(n.exportAs)for(let o=0;o<n.exportAs.length;o++)r[n.exportAs[o]]=t;Ur(n)&&(r[""]=t)}}function K_(t,n,r,o,s){t.data[o]=s;const i=s.factory||(s.factory=Tr(s.type)),d=new Mc(i,Ur(s),Ja);t.blueprint[o]=d,r[o]=d,function U_(t,n,r,o,s){const i=s.hostBindings;if(i){let d=t.hostBindingOpCodes;null===d&&(d=t.hostBindingOpCodes=[]);const f=~n.index;(function V_(t){let n=t.length;for(;n>0;){const r=t[--n];if("number"==typeof r&&r<0)return r}return 0})(d)!=f&&d.push(f),d.push(r,o,i)}}(t,n,o,Gc(t,r,s.hostVars,Tt),s)}function hi(t,n,r,o,s,i){const d=on(t,n);!function kp(t,n,r,o,s,i,d){if(null==i)t.removeAttribute(n,s,r);else{const f=null==d?ot(i):d(i,o||"",s);t.setAttribute(n,s,f,r)}}(n[Xe],d,i,t.value,r,o,s)}function Q_(t,n,r,o,s,i){const d=i[n];if(null!==d)for(let f=0;f<d.length;)Sg(o,r,d[f++],d[f++],d[f++],d[f++])}function Z_(t,n,r){let o=null,s=0;for(;s<r.length;){const i=r[s];if(0!==i)if(5!==i){if("number"==typeof i)break;if(t.hasOwnProperty(i)){null===o&&(o=[]);const d=t[i];for(let f=0;f<d.length;f+=3)if(d[f]===n){o.push(i,d[f+1],d[f+2],r[s+1]);break}}s+=2}else s+=2;else s+=4}return o}function Lg(t,n,r,o){return[t,!0,0,n,null,o,null,r,null,null]}function Bg(t,n){const r=t.contentQueries;if(null!==r){const o=G(null);try{for(let s=0;s<r.length;s+=2){const d=r[s+1];if(-1!==d){const f=t.data[d];Rl(r[s]),f.contentQueries(2,n[d],d)}}}finally{G(o)}}}function gu(t,n){return t[Wn]?t[Ln][Un]=n:t[Wn]=n,t[Ln]=n,n}function Cp(t,n,r){Rl(0);const o=G(null);try{n(t,r)}finally{G(o)}}function Ug(t){return t[Jn]??=[]}function Vg(t){return t.cleanup??=[]}function Fu(t,n){const r=t[dn],o=r?r.get(Bi,null):null;o&&o.handleError(n)}function Dp(t,n,r,o,s){for(let i=0;i<r.length;){const d=r[i++],f=r[i++],E=r[i++];Sg(t.data[d],n[d],o,f,E,s)}}function Hi(t,n,r){const o=Ut(n,t);!function pg(t,n,r){t.setValue(n,r)}(t[Xe],o,r)}function X_(t,n){const r=qt(n,t),o=r[Ce];!function Y_(t,n){for(let r=n.length;r<t.blueprint.length;r++)n.push(t.blueprint[r])}(o,r);const s=r[st];null!==s&&null===r[wn]&&(r[wn]=qd(s,r[dn])),Ip(o,r,r[St])}function Ip(t,n,r){vd(n);try{const o=t.viewQuery;null!==o&&Cp(1,o,r);const s=t.template;null!==s&&xg(t,n,s,1,r),t.firstCreatePass&&(t.firstCreatePass=!1),n[Po]?.finishViewCreation(t),t.staticContentQueries&&Bg(t,n),t.staticViewQueries&&Cp(2,t.viewQuery,r);const i=t.components;null!==i&&function ew(t,n){for(let r=0;r<n.length;r++)X_(t,n[r])}(n,i)}catch(o){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),o}finally{n[He]&=-5,bd()}}function Qa(t,n,r,o){const s=G(null);try{const i=n.tView,E=mu(t,i,r,4096&t[He]?4096:16,null,n,null,null,o?.injector??null,o?.embeddedViewInjector??null,o?.dehydratedView??null);E[Mn]=t[n.index];const D=t[Po];return null!==D&&(E[Po]=D.createEmbeddedView(i)),Ip(i,E,r),E}finally{G(s)}}function Ia(t,n){return!n||null===n.firstChild||Rc(t)}function Za(t,n,r,o=!0){const s=n[Ce];if(function v_(t,n,r,o){const s=hn+o,i=r.length;o>0&&(r[s-1][Un]=n),o<i-hn?(n[Un]=r[s],Ms(r,hn+o,n)):(r.push(n),n[Un]=null),n[Xt]=r;const d=n[Mn];null!==d&&r!==d&&fg(d,n);const f=n[Po];null!==f&&f.insertView(t),pd(n),n[He]|=128}(s,n,t,r),o){const d=mp(r,t),f=n[Xe],E=hp(f,t[Xr]);null!==E&&function y_(t,n,r,o,s,i){o[st]=s,o[en]=n,fu(t,o,r,1,s,i)}(s,t[en],f,n,E,d)}const i=n[wn];null!==i&&null!==i.firstChild&&(i.firstChild=null)}function qc(t,n,r,o,s=!1){for(;null!==r;){if(128===r.type){r=s?r.projectionNext:r.next;continue}const i=n[r.index];null!==i&&o.push(Be(i)),sr(i)&&zg(i,o);const d=r.type;if(8&d)qc(t,n,r.child,o);else if(32&d){const f=ap(r,n);let E;for(;E=f();)o.push(E)}else if(16&d){const f=_g(n,r);if(Array.isArray(f))o.push(...f);else{const E=Ni(n[pn]);qc(E[Ce],E,f,o,!0)}}r=s?r.projectionNext:r.next}return o}function zg(t,n){for(let r=hn;r<t.length;r++){const o=t[r],s=o[Ce].firstChild;null!==s&&qc(o[Ce],o,s,n)}t[Xr]!==t[st]&&n.push(t[Xr])}let Wg=[];const ow={...ue,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{jl(t.lView)},consumerOnSignalRead(){this.lView[Vn]=this}},iw={...ue,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{let n=Ni(t.lView);for(;n&&!Gg(n[Ce]);)n=Ni(n);n&&ma(n)},consumerOnSignalRead(){this.lView[Vn]=this}};function Gg(t){return 2!==t.type}const aw=100;function yu(t,n=!0,r=0){const o=t[gr],s=o.rendererFactory;s.begin?.();try{!function cw(t,n){const r=wf();try{kf(!0),Mp(t,n);let o=0;for(;xl(t);){if(o===aw)throw new Ne(103,!1);o++,Mp(t,1)}}finally{kf(r)}}(t,r)}catch(d){throw n&&Fu(t,d),d}finally{s.end?.(),o.inlineEffectRunner?.flush()}}function lw(t,n,r,o){const s=n[He];if(!(256&~s))return;n[gr].inlineEffectRunner?.flush(),vd(n);let f=!0,E=null,k=null;Gg(t)?(k=function tw(t){return t[Vn]??function nw(t){const n=Wg.pop()??Object.create(ow);return n.lView=t,n}(t)}(n),E=Q(k)):null===function re(){return e}()?(f=!1,k=function sw(t){const n=t[Vn]??Object.create(iw);return n.lView=t,n}(n),E=Q(k)):n[Vn]&&(Ie(n[Vn]),n[Vn]=null);try{go(n),Cf(t.bindingStartIndex),null!==r&&xg(t,n,r,2,o);const D=!(3&~s);if(D){const W=t.preOrderCheckHooks;null!==W&&Pl(n,W,null)}else{const W=t.preOrderHooks;null!==W&&Ll(n,W,0,null),_d(n,0)}if(function uw(t){for(let n=vm(t);null!==n;n=bm(n)){if(!(n[He]&Ls.HasTransplantedViews))continue;const r=n[Ps];for(let o=0;o<r.length;o++)ma(r[o])}}(n),Kg(n,0),null!==t.contentQueries&&Bg(t,n),D){const W=t.contentCheckHooks;null!==W&&Pl(n,W)}else{const W=t.contentHooks;null!==W&&Ll(n,W,1),_d(n,1)}!function T_(t,n){const r=t.hostBindingOpCodes;if(null!==r)try{for(let o=0;o<r.length;o++){const s=r[o];if(s<0)Fa(~s);else{const i=s,d=r[++o],f=r[++o];iv(d,i),f(2,n[i])}}}finally{Fa(-1)}}(t,n);const j=t.components;null!==j&&Qg(n,j,0);const L=t.viewQuery;if(null!==L&&Cp(2,L,o),D){const W=t.viewCheckHooks;null!==W&&Pl(n,W)}else{const W=t.viewHooks;null!==W&&Ll(n,W,2),_d(n,2)}if(!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),n[Rs]){for(const W of n[Rs])W();n[Rs]=null}n[He]&=-73}catch(D){throw jl(n),D}finally{null!==k&&(me(k,E),f&&function rw(t){t.lView[Vn]!==t&&(t.lView=null,Wg.push(t))}(k)),bd()}}function Kg(t,n){for(let r=vm(t);null!==r;r=bm(r))for(let o=hn;o<r.length;o++)Jg(r[o],n)}function dw(t,n,r){Jg(qt(n,t),r)}function Jg(t,n){Dc(t)&&Mp(t,n)}function Mp(t,n){const o=t[Ce],s=t[He],i=t[Vn];let d=!!(0===n&&16&s);if(d||=!!(64&s&&0===n),d||=!!(1024&s),d||=!(!i?.dirty||!Te(i)),d||=!1,i&&(i.dirty=!1),t[He]&=-9217,d)lw(o,t,o.template,t[St]);else if(8192&s){Kg(t,1);const f=o.components;null!==f&&Qg(t,f,1)}}function Qg(t,n,r){for(let o=0;o<n.length;o++)dw(t,n[o],r)}function Kc(t,n){const r=wf()?64:1088;for(t[gr].changeDetectionScheduler?.notify(n);t;){t[He]|=r;const o=Ni(t);if(Bs(t)&&!o)return t;t=o}return null}class Jc{get rootNodes(){const n=this._lView,r=n[Ce];return qc(r,n,r.firstChild,[])}constructor(n,r,o=!0){this._lView=n,this._cdRefInjectingView=r,this.notifyErrorHandler=o,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[St]}set context(n){this._lView[St]=n}get destroyed(){return!(256&~this._lView[He])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[Xt];if(sr(n)){const r=n[8],o=r?r.indexOf(this):-1;o>-1&&(zc(n,o),Ss(r,o))}this._attachedToViewContainer=!1}pu(this._lView[Ce],this._lView)}onDestroy(n){Al(this._lView,n)}markForCheck(){Kc(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[He]&=-129}reattach(){pd(this._lView),this._lView[He]|=128}detectChanges(){this._lView[He]|=1024,yu(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ne(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;const n=Bs(this._lView),r=this._lView[Mn];null!==r&&!n&&up(r,this._lView),hg(this._lView[Ce],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new Ne(902,!1);this._appRef=n;const r=Bs(this._lView),o=this._lView[Mn];null!==o&&!r&&fg(o,this._lView),pd(this._lView)}}let Qc=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=fw}return t})();const pw=Qc,hw=class extends pw{constructor(n,r,o){super(),this._declarationLView=n,this._declarationTContainer=r,this.elementRef=o}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,r){return this.createEmbeddedViewImpl(n,r)}createEmbeddedViewImpl(n,r,o){const s=Qa(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:r,dehydratedView:o});return new Jc(s)}};function fw(){return Eu(Fn(),ve())}function Eu(t,n){return 4&t.type?new hw(n,t,Va(t,n)):null}let y1=()=>null;function Ma(t,n){return y1(t,n)}class Ya{}const ol=new ut("",{providedIn:"root",factory:()=>!1}),E1=new ut(""),Up=new ut("");class i4{}class v1{}class c4{resolveComponentFactory(n){throw function a4(t){const n=Error(`No component factory found for ${Wt(t)}.`);return n.ngComponent=t,n}(n)}}class Cu{static#e=this.NULL=new c4}class Vp{}let l4=(()=>{class t{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function u4(){const t=ve(),r=qt(Fn().index,t);return(Hn(r)?r:t)[Xe]}()}return t})(),d4=(()=>{class t{static#e=this.\u0275prov=Ot({token:t,providedIn:"root",factory:()=>null})}return t})();function oa(t){return!!yt(t)}function Iu(t,n,r){let o=r?t.styles:null,s=r?t.classes:null,i=0;if(null!==n)for(let d=0;d<n.length;d++){const f=n[d];"number"==typeof f?i=f:1==i?s=zr(s,f):2==i&&(o=zr(o,f+": "+n[++d]+";"))}r?t.styles=o:t.stylesWithoutHost=o,r?t.classes=s:t.classesWithoutHost=s}class k1 extends Cu{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const r=Ft(n);return new al(r,this.ngModule)}}function C1(t,n){const r=[];for(const o in t){if(!t.hasOwnProperty(o))continue;const s=t[o];if(void 0===s)continue;const i=Array.isArray(s),d=i?s[0]:s;r.push(n?{propName:d,templateName:o,isSignal:!!((i?s[1]:In.None)&In.SignalBased)}:{propName:d,templateName:o})}return r}class al extends v1{get inputs(){const n=this.componentDef,r=n.inputTransforms,o=C1(n.inputs,!0);if(null!==r)for(const s of o)r.hasOwnProperty(s.propName)&&(s.transform=r[s.propName]);return o}get outputs(){return C1(this.componentDef.outputs,!1)}constructor(n,r){super(),this.componentDef=n,this.ngModule=r,this.componentType=n.type,this.selector=function ua(t){return t.map(la).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!r}create(n,r,o,s){const i=G(null);try{let d=(s=s||this.ngModule)instanceof fn?s:s?.injector;d&&null!==this.componentDef.getStandaloneInjector&&(d=this.componentDef.getStandaloneInjector(d)||d);const f=d?new ya(n,d):n,E=f.get(Vp,null);if(null===E)throw new Ne(407,!1);const j={rendererFactory:E,sanitizer:f.get(d4,null),inlineEffectRunner:null,changeDetectionScheduler:f.get(Ya,null)},L=E.createRenderer(null,this.componentDef),W=this.componentDef.selectors[0][0]||"div",Z=o?function S_(t,n,r,o){const i=o.get(Bm,!1)||r===fr.ShadowDom,d=t.selectRootElement(n,i);return function x_(t){Ag(t)}(d),d}(L,o,this.componentDef.encapsulation,f):du(L,W,function f4(t){const n=t.toLowerCase();return"svg"===n?Cc:"math"===n?"math":null}(W));let we=512;this.componentDef.signals?we|=4096:this.componentDef.onPush||(we|=16);let Re=null;null!==Z&&(Re=qd(Z,f,!0));const Ue=bp(0,null,null,1,0,null,null,null,null,null,null),_e=mu(null,Ue,null,we,null,null,j,L,f,null,Re);vd(_e);let bt,Yt,vn=null;try{const tr=this.componentDef;let $o,wc=null;tr.findHostDirectiveDefs?($o=[],wc=new Map,tr.findHostDirectiveDefs(tr,$o,wc),$o.push(tr)):$o=[tr];const QE=function g4(t,n){const r=t[Ce],o=et;return t[o]=n,Da(r,o,2,"#host",null)}(_e,Z);vn=function F4(t,n,r,o,s,i,d){const f=s[Ce];!function y4(t,n,r,o){for(const s of t)n.mergedAttrs=Qo(n.mergedAttrs,s.hostAttrs);null!==n.mergedAttrs&&(Iu(n,n.mergedAttrs,!0),null!==r&&Dg(o,r,n))}(o,t,n,d);let E=null;null!==n&&(E=qd(n,s[dn]));const k=i.rendererFactory.createRenderer(n,r);let D=16;r.signals?D=4096:r.onPush&&(D=64);const j=mu(s,jg(r),null,D,s[t.index],t,i,k,null,null,E);return f.firstCreatePass&&wp(f,t,o.length-1),gu(s,j),s[t.index]=j}(QE,Z,tr,$o,_e,j,L),Yt=Fr(Ue,et),Z&&function v4(t,n,r,o){if(o)qr(t,r,["ng-version","18.2.8"]);else{const{attrs:s,classes:i}=function da(t){const n=[],r=[];let o=1,s=2;for(;o<t.length;){let i=t[o];if("string"==typeof i)2===s?""!==i&&n.push(i,t[++o]):8===s&&r.push(i);else{if(!zn(s))break;s=i}o++}return{attrs:n,classes:r}}(n.selectors[0]);s&&qr(t,r,s),i&&i.length>0&&Cg(t,r,i.join(" "))}}(L,tr,Z,o),void 0!==r&&function b4(t,n,r){const o=t.projection=[];for(let s=0;s<n.length;s++){const i=r[s];o.push(null!=i?Array.from(i):null)}}(Yt,this.ngContentSelectors,r),bt=function E4(t,n,r,o,s,i){const d=Fn(),f=s[Ce],E=on(d,s);Ng(f,s,d,r,null,o);for(let D=0;D<r.length;D++)to(Ea(s,f,d.directiveStart+D,d),s);Pg(f,s,d),E&&to(E,s);const k=Ea(s,f,d.directiveStart+d.componentOffset,d);if(t[St]=s[St]=k,null!==i)for(const D of i)D(k,n);return yp(f,d,s),k}(vn,tr,$o,wc,_e,[_4]),Ip(Ue,_e,null)}catch(tr){throw null!==vn&&Ld(vn),Ld(_e),tr}finally{bd()}return new m4(this.componentType,bt,Va(Yt,_e),_e,Yt)}finally{G(i)}}}class m4 extends i4{constructor(n,r,o,s,i){super(),this.location=o,this._rootLView=s,this._tNode=i,this.previousInputValues=null,this.instance=r,this.hostView=this.changeDetectorRef=new Jc(s,void 0,!1),this.componentType=n}setInput(n,r){const o=this._tNode.inputs;let s;if(null!==o&&(s=o[n])){if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),r))return;const i=this._rootLView;Dp(i[Ce],i,s,n,r),this.previousInputValues.set(n,r),Kc(qt(this._tNode.index,i),1)}}get injector(){return new yr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function _4(){const t=Fn();Nl(ve()[Ce],t)}let Tu=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=w4}return t})();function w4(){return T1(Fn(),ve())}const k4=Tu,D1=class extends k4{constructor(n,r,o){super(),this._lContainer=n,this._hostTNode=r,this._hostLView=o}get element(){return Va(this._hostTNode,this._hostLView)}get injector(){return new yr(this._hostTNode,this._hostLView)}get parentInjector(){const n=Vl(this._hostTNode,this._hostLView);if(Cd(n)){const r=xc(n,this._hostLView),o=Sc(n);return new yr(r[Ce].data[o+8],r)}return new yr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const r=I1(this._lContainer);return null!==r&&r[n]||null}get length(){return this._lContainer.length-hn}createEmbeddedView(n,r,o){let s,i;"number"==typeof o?s=o:null!=o&&(s=o.index,i=o.injector);const d=Ma(this._lContainer,n.ssrId),f=n.createEmbeddedViewImpl(r||{},i,d);return this.insertImpl(f,s,Ia(this._hostTNode,d)),f}createComponent(n,r,o,s,i){const d=n&&!function P(t){return"function"==typeof t}(n);let f;if(d)f=r;else{const Z=r||{};f=Z.index,o=Z.injector,s=Z.projectableNodes,i=Z.environmentInjector||Z.ngModuleRef}const E=d?n:new al(Ft(n)),k=o||this.parentInjector;if(!i&&null==E.ngModule){const we=(d?k:this.parentInjector).get(fn,null);we&&(i=we)}const D=Ft(E.componentType??{}),j=Ma(this._lContainer,D?.id??null),W=E.create(k,s,j?.firstChild??null,i);return this.insertImpl(W.hostView,f,Ia(this._hostTNode,j)),W}insert(n,r){return this.insertImpl(n,r,!0)}insertImpl(n,r,o){const s=n._lView;if(function xr(t){return sr(t[Xt])}(s)){const f=this.indexOf(n);if(-1!==f)this.detach(f);else{const E=s[Xt],k=new D1(E,E[en],E[Xt]);k.detach(k.indexOf(n))}}const i=this._adjustIndex(r),d=this._lContainer;return Za(d,s,i,o),n.attachToViewContainerRef(),Ms(zp(d),i,n),n}move(n,r){return this.insert(n,r)}indexOf(n){const r=I1(this._lContainer);return null!==r?r.indexOf(n):-1}remove(n){const r=this._adjustIndex(n,-1),o=zc(this._lContainer,r);o&&(Ss(zp(this._lContainer),r),pu(o[Ce],o))}detach(n){const r=this._adjustIndex(n,-1),o=zc(this._lContainer,r);return o&&null!=Ss(zp(this._lContainer),r)?new Jc(o):null}_adjustIndex(n,r=0){return n??this.length+r}};function I1(t){return t[8]}function zp(t){return t[8]||(t[8]=[])}function T1(t,n){let r;const o=n[t.index];return sr(o)?r=o:(r=Lg(o,n,null,t),n[t.index]=r,gu(n,r)),M1(r,n,t,o),new D1(r,t,n)}let M1=function x1(t,n,r,o){if(t[Xr])return;let s;s=8&r.type?Be(o):function C4(t,n){const r=t[Xe],o=r.createComment(""),s=on(n,t);return ka(r,hp(r,s),o,function w_(t,n){return t.nextSibling(n)}(r,s),!1),o}(n,r),t[Xr]=s},Wp=()=>!1;class Gp{constructor(n){this.queryList=n,this.matches=null}clone(){return new Gp(this.queryList)}setDirty(){this.queryList.setDirty()}}class qp{constructor(n=[]){this.queries=n}createEmbeddedView(n){const r=n.queries;if(null!==r){const o=null!==n.contentQueries?n.contentQueries[0]:r.length,s=[];for(let i=0;i<o;i++){const d=r.getByIndex(i);s.push(this.queries[d.indexInDeclarationView].clone())}return new qp(s)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}finishViewCreation(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let r=0;r<this.queries.length;r++)null!==Xp(n,r).matches&&this.queries[r].setDirty()}}class j1{constructor(n,r,o=null){this.flags=r,this.read=o,this.predicate="string"==typeof n?function A4(t){return t.split(",").map(n=>n.trim())}(n):n}}class Kp{constructor(n=[]){this.queries=n}elementStart(n,r){for(let o=0;o<this.queries.length;o++)this.queries[o].elementStart(n,r)}elementEnd(n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementEnd(n)}embeddedTView(n){let r=null;for(let o=0;o<this.length;o++){const s=null!==r?r.length:0,i=this.getByIndex(o).embeddedTView(n,s);i&&(i.indexInDeclarationView=o,null!==r?r.push(i):r=[i])}return null!==r?new Kp(r):null}template(n,r){for(let o=0;o<this.queries.length;o++)this.queries[o].template(n,r)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class Jp{constructor(n,r=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=r}elementStart(n,r){this.isApplyingToNode(r)&&this.matchTNode(n,r)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,r){this.elementStart(n,r)}embeddedTView(n,r){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,r),new Jp(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1&~this.metadata.flags){const r=this._declarationNodeIndex;let o=n.parent;for(;null!==o&&8&o.type&&o.index!==r;)o=o.parent;return r===(null!==o?o.index:-1)}return this._appliesToNextNode}matchTNode(n,r){const o=this.metadata.predicate;if(Array.isArray(o))for(let s=0;s<o.length;s++){const i=o[s];this.matchTNodeWithReadOption(n,r,M4(r,i)),this.matchTNodeWithReadOption(n,r,Hl(r,n,i,!1,!1))}else o===Qc?4&r.type&&this.matchTNodeWithReadOption(n,r,-1):this.matchTNodeWithReadOption(n,r,Hl(r,n,o,!1,!1))}matchTNodeWithReadOption(n,r,o){if(null!==o){const s=this.metadata.read;if(null!==s)if(s===Ac||s===Tu||s===Qc&&4&r.type)this.addMatch(r.index,-2);else{const i=Hl(r,n,s,!1,!1);null!==i&&this.addMatch(r.index,i)}else this.addMatch(r.index,o)}}addMatch(n,r){null===this.matches?this.matches=[n,r]:this.matches.push(n,r)}}function M4(t,n){const r=t.localNames;if(null!==r)for(let o=0;o<r.length;o+=2)if(r[o]===n)return r[o+1];return null}function x4(t,n,r,o){return-1===r?function S4(t,n){return 11&t.type?Va(t,n):4&t.type?Eu(t,n):null}(n,t):-2===r?function j4(t,n,r){return r===Ac?Va(n,t):r===Qc?Eu(n,t):r===Tu?T1(n,t):void 0}(t,n,o):Ea(t,t[Ce],r,n)}function A1(t,n,r,o){const s=n[Po].queries[o];if(null===s.matches){const i=t.data,d=r.matches,f=[];for(let E=0;null!==d&&E<d.length;E+=2){const k=d[E];f.push(k<0?null:x4(n,i[k],d[E+1],r.metadata.read))}s.matches=f}return s.matches}function Qp(t,n,r,o){const s=t.queries.getByIndex(r),i=s.matches;if(null!==i){const d=A1(t,n,s,r);for(let f=0;f<i.length;f+=2){const E=i[f];if(E>0)o.push(d[f/2]);else{const k=i[f+1],D=n[-E];for(let j=hn;j<D.length;j++){const L=D[j];L[Mn]===L[Xt]&&Qp(L[Ce],L,k,o)}if(null!==D[Ps]){const j=D[Ps];for(let L=0;L<j.length;L++){const W=j[L];Qp(W[Ce],W,k,o)}}}}}return o}function O1(t,n,r){const o=new ql(!(4&~r));return function O_(t,n,r,o){const s=Ug(n);s.push(r),t.firstCreatePass&&Vg(t).push(o,s.length-1)}(t,n,o,o.destroy),(n[Po]??=new qp).queries.push(new Gp(o))-1}function P1(t,n,r){null===t.queries&&(t.queries=new Kp),t.queries.track(new Jp(n,r))}function Xp(t,n){return t.queries.getByIndex(n)}function L1(t,n){const r=t[Ce],o=Xp(r,n);return o.crossesNgTemplate?Qp(r,t,n,[]):A1(r,t,o,n)}const B1=new Set;function yo(t){B1.has(t)||(B1.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function Yp(t){return"function"==typeof t&&void 0!==t[N]}function th(t){let n=function X1(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),r=!0;const o=[t];for(;n;){let s;if(Ur(t))s=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new Ne(903,!1);s=n.\u0275dir}if(s){if(r){o.push(s);const d=t;d.inputs=Su(t.inputs),d.inputTransforms=Su(t.inputTransforms),d.declaredInputs=Su(t.declaredInputs),d.outputs=Su(t.outputs);const f=s.hostBindings;f&&J4(t,f);const E=s.viewQuery,k=s.contentQueries;if(E&&q4(t,E),k&&K4(t,k),W4(t,s),no(t.outputs,s.outputs),Ur(s)&&s.data.animation){const D=t.data;D.animation=(D.animation||[]).concat(s.data.animation)}}const i=s.features;if(i)for(let d=0;d<i.length;d++){const f=i[d];f&&f.ngInherit&&f(t),f===th&&(r=!1)}}n=Object.getPrototypeOf(n)}!function G4(t){let n=0,r=null;for(let o=t.length-1;o>=0;o--){const s=t[o];s.hostVars=n+=s.hostVars,s.hostAttrs=Qo(s.hostAttrs,r=Qo(r,s.hostAttrs))}}(o)}function W4(t,n){for(const r in n.inputs){if(!n.inputs.hasOwnProperty(r)||t.inputs.hasOwnProperty(r))continue;const o=n.inputs[r];if(void 0!==o&&(t.inputs[r]=o,t.declaredInputs[r]=n.declaredInputs[r],null!==n.inputTransforms)){const s=Array.isArray(o)?o[0]:o;if(!n.inputTransforms.hasOwnProperty(s))continue;t.inputTransforms??={},t.inputTransforms[s]=n.inputTransforms[s]}}}function Su(t){return t===hr?{}:t===Lt?[]:t}function q4(t,n){const r=t.viewQuery;t.viewQuery=r?(o,s)=>{n(o,s),r(o,s)}:n}function K4(t,n){const r=t.contentQueries;t.contentQueries=r?(o,s,i)=>{n(o,s,i),r(o,s,i)}:n}function J4(t,n){const r=t.hostBindings;t.hostBindings=r?(o,s)=>{n(o,s),r(o,s)}:n}function nF(t){const n=t.inputConfig,r={};for(const o in n)if(n.hasOwnProperty(o)){const s=n[o];Array.isArray(s)&&s[3]&&(r[o]=s[3])}t.inputTransforms=r}class Sa{}class rF{}function tk(t,n){return new nh(t,n??null,[])}class nh extends Sa{constructor(n,r,o,s=!0){super(),this.ngModuleType=n,this._parent=r,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new k1(this);const i=yt(n);this._bootstrapComponents=rs(i.bootstrap),this._r3Injector=tm(n,r,[{provide:Sa,useValue:this},{provide:Cu,useValue:this.componentFactoryResolver},...o],Wt(n),new Set(["environment"])),s&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(r=>r()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class rh extends rF{constructor(n){super(),this.moduleType=n}create(n){return new nh(this.moduleType,n,[])}}class oF extends Sa{constructor(n){super(),this.componentFactoryResolver=new k1(this),this.instance=null;const r=new fo([...n.providers,{provide:Sa,useValue:this},{provide:Cu,useValue:this.componentFactoryResolver}],n.parent||si(),n.debugName,new Set(["environment"]));this.injector=r,n.runEnvironmentInitializers&&r.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function oh(t,n,r=null){return new oF({providers:t,parent:n,debugName:r,runEnvironmentInitializers:!0}).injector}function xu(t){return!!sh(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function sh(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function fi(t,n,r){return t[n]=r}function Xn(t,n,r){return!Object.is(t[n],r)&&(t[n]=r,!0)}function xa(t,n,r,o){const s=Xn(t,n,r);return Xn(t,n+1,o)||s}function ul(t,n,r,o,s,i,d,f,E,k){const D=r+et,j=n.firstCreatePass?function ak(t,n,r,o,s,i,d,f,E){const k=n.consts,D=Da(n,t,4,d||null,f||null);_p(n,r,D,ir(k,E)),Nl(n,D);const j=D.tView=bp(2,D,o,s,i,n.directiveRegistry,n.pipeRegistry,null,n.schemas,k,null);return null!==n.queries&&(n.queries.template(n,D),j.queries=n.queries.embeddedTView(D)),D}(D,n,t,o,s,i,d,f,E):n.data[D];Vs(j,!1);const L=sF(n,t,j,r);Tc()&&hu(n,t,L,j),to(L,t);const W=Lg(L,t,L,j);return t[D]=W,gu(t,W),function S1(t,n,r){return Wp(t,n,r)}(W,j,t),Oi(j)&&Ep(n,t,j),null!=E&&vp(t,j,k),j}function ih(t,n,r,o,s,i,d,f){const E=ve(),k=Nt();return ul(E,k,t,n,r,o,s,ir(k.consts,i),d,f),ih}let sF=function iF(t,n,r,o){return ui(!0),n[Xe].createComment("")};var rc=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(rc||{});let pF=(()=>{class t{constructor(){this.impl=null}execute(){this.impl?.execute()}static#e=this.\u0275prov=Ot({token:t,providedIn:"root",factory:()=>new t})}return t})();class hl{constructor(){this.ngZone=Ze($n),this.scheduler=Ze(Ya),this.errorHandler=Ze(Bi,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static#e=this.PHASES=[rc.EarlyRead,rc.Write,rc.MixedReadWrite,rc.Read];execute(){this.executing=!0;for(const n of hl.PHASES)for(const r of this.sequences)if(!r.erroredOrDestroyed&&r.hooks[n])try{r.pipelinedValue=this.ngZone.runOutsideAngular(()=>r.hooks[n](r.pipelinedValue))}catch(o){r.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(const n of this.sequences)n.afterRun(),n.once&&(this.sequences.delete(n),n.destroy());for(const n of this.deferredRegistrations)this.sequences.add(n);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(n){this.executing?this.deferredRegistrations.add(n):(this.sequences.add(n),this.scheduler.notify(6))}unregister(n){this.executing&&this.sequences.has(n)?(n.erroredOrDestroyed=!0,n.pipelinedValue=void 0,n.once=!0):(this.sequences.delete(n),this.deferredRegistrations.delete(n))}static#t=this.\u0275prov=Ot({token:hl,providedIn:"root",factory:()=>new hl})}class dk{constructor(n,r,o,s){this.impl=n,this.hooks=r,this.once=o,this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.unregisterOnDestroy=s?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.()}}function Nu(t,n){!n?.injector&&No();const r=n?.injector??Ze(eo);return function os(t){return"browser"===(t??Ze(eo)).get(Zl)}(r)?(yo("NgAfterNextRender"),function hF(t,n,r,o){const s=n.get(pF);s.impl??=n.get(hl);const i=r?.phase??rc.MixedReadWrite,d=!0!==r?.manualCleanup?n.get(jc):null,f=new dk(s.impl,function hk(t,n){if(t instanceof Function){const r=[void 0,void 0,void 0,void 0];return r[n]=t,r}return[t.earlyRead,t.write,t.mixedReadWrite,t.read]}(t,i),o,d);return s.impl.register(f),f}(t,r,n,!0)):fF}const fF={destroy(){}};function Fh(t,n,r,o){const s=ve();return Xn(s,Hs(),n)&&(Nt(),hi(xn(),s,t,n,r,o)),Fh}function uc(t,n,r,o){return Xn(t,Hs(),r)?n+ot(r)+o:Tt}function dc(t,n,r,o,s,i){const f=xa(t,Pi(),r,s);return Li(2),f?n+ot(r)+o+ot(s)+i:Tt}function hc(t,n,r,o,s,i,d,f,E,k){const j=function ks(t,n,r,o,s,i){const d=xa(t,n,r,o);return xa(t,n+2,s,i)||d}(t,Pi(),r,s,d,E);return Li(4),j?n+ot(r)+o+ot(s)+i+ot(d)+f+ot(E)+k:Tt}function Bu(t,n){return t<<17|n<<2}function aa(t){return t>>17&32767}function yh(t){return 2|t}function Aa(t){return(131068&t)>>2}function Eh(t,n){return-131069&t|n<<2}function vh(t){return 1|t}function UF(t,n,r,o){const s=t[r+1],i=null===n;let d=o?aa(s):Aa(s),f=!1;for(;0!==d&&(!1===f||i);){const k=t[d+1];Jk(t[d],n)&&(f=!0,t[d+1]=o?vh(k):yh(k)),d=o?aa(k):Aa(k)}f&&(t[r+1]=o?yh(s):vh(s))}function Jk(t,n){return null===t||null==n||(Array.isArray(t)?t[1]:t)===n||!(!Array.isArray(t)||"string"!=typeof n)&&xo(t,n)>=0}const Er={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function VF(t){return t.substring(Er.key,Er.keyEnd)}function HF(t,n){const r=Er.textEnd;return r===n?-1:(n=Er.keyEnd=function Yk(t,n,r){for(;n<r&&t.charCodeAt(n)>32;)n++;return n}(t,Er.key=n,r),yc(t,n,r))}function yc(t,n,r){for(;n<r&&t.charCodeAt(n)<=32;)n++;return n}function bh(t,n,r){const o=ve();return Xn(o,Hs(),n)&&Vo(Nt(),xn(),o,t,n,o[Xe],r,!1),bh}function _h(t,n,r,o,s){const d=s?"class":"style";Dp(t,r,n.inputs[d],d,o)}function wh(t,n){return function $s(t,n,r,o){const s=ve(),i=Nt(),d=Li(2);i.firstUpdatePass&&QF(i,t,d,o),n!==Tt&&Xn(s,d,n)&&XF(i,i.data[Vr()],s,s[Xe],t,s[d+1]=function u2(t,n){return null==t||""===t||("string"==typeof n?t+=n:"object"==typeof t&&(t=Wt(Ui(t)))),t}(n,r),o,d)}(t,n,null,!0),wh}function KF(t){!function zs(t,n,r,o){const s=Nt(),i=Li(2);s.firstUpdatePass&&QF(s,null,i,o);const d=ve();if(r!==Tt&&Xn(d,i,r)){const f=s.data[Vr()];if(e0(f,o)&&!JF(s,i)){let E=o?f.classesWithoutHost:f.stylesWithoutHost;null!==E&&(r=zr(E,r||"")),_h(s,f,d,r,o)}else!function l2(t,n,r,o,s,i,d,f){s===Tt&&(s=Lt);let E=0,k=0,D=0<s.length?s[0]:null,j=0<i.length?i[0]:null;for(;null!==D||null!==j;){const L=E<s.length?s[E+1]:void 0,W=k<i.length?i[k+1]:void 0;let we,Z=null;D===j?(E+=2,k+=2,L!==W&&(Z=j,we=W)):null===j||null!==D&&D<j?(E+=2,Z=D):(k+=2,Z=j,we=W),null!==Z&&XF(t,n,r,o,Z,we,d,f),D=E<s.length?s[E]:null,j=k<i.length?i[k]:null}}(s,f,d,d[Xe],d[i+1],d[i+1]=function a2(t,n,r){if(null==r||""===r)return Lt;const o=[],s=Ui(r);if(Array.isArray(s))for(let i=0;i<s.length;i++)t(o,s[i],!0);else if("object"==typeof s)for(const i in s)s.hasOwnProperty(i)&&t(o,i,s[i]);else"string"==typeof s&&n(o,s);return o}(t,n,r),o,i)}}(c2,gi,t,!0)}function gi(t,n){for(let r=function Zk(t){return function zF(t){Er.key=0,Er.keyEnd=0,Er.value=0,Er.valueEnd=0,Er.textEnd=t.length}(t),HF(t,yc(t,0,Er.textEnd))}(n);r>=0;r=HF(n,r))Pn(t,VF(n),!0)}function JF(t,n){return n>=t.expandoStartIndex}function QF(t,n,r,o){const s=t.data;if(null===s[r+1]){const i=s[Vr()],d=JF(t,r);e0(i,o)&&null===n&&!d&&(n=!1),n=function r2(t,n,r,o){const s=function yd(t){const n=vt.lFrame.currentDirectiveIndex;return-1===n?null:t[n]}(t);let i=o?n.residualClasses:n.residualStyles;if(null===s)0===(o?n.classBindings:n.styleBindings)&&(r=ml(r=kh(null,t,n,r,o),n.attrs,o),i=null);else{const d=n.directiveStylingLast;if(-1===d||t[d]!==s)if(r=kh(s,t,n,r,o),null===i){let E=function o2(t,n,r){const o=r?n.classBindings:n.styleBindings;if(0!==Aa(o))return t[aa(o)]}(t,n,o);void 0!==E&&Array.isArray(E)&&(E=kh(null,t,n,E[1],o),E=ml(E,n.attrs,o),function s2(t,n,r,o){t[aa(r?n.classBindings:n.styleBindings)]=o}(t,n,o,E))}else i=function i2(t,n,r){let o;const s=n.directiveEnd;for(let i=1+n.directiveStylingLast;i<s;i++)o=ml(o,t[i].hostAttrs,r);return ml(o,n.attrs,r)}(t,n,o)}return void 0!==i&&(o?n.residualClasses=i:n.residualStyles=i),r}(s,i,n,o),function qk(t,n,r,o,s,i){let d=i?n.classBindings:n.styleBindings,f=aa(d),E=Aa(d);t[o]=r;let D,k=!1;if(Array.isArray(r)?(D=r[1],(null===D||xo(r,D)>0)&&(k=!0)):D=r,s)if(0!==E){const L=aa(t[f+1]);t[o+1]=Bu(L,f),0!==L&&(t[L+1]=Eh(t[L+1],o)),t[f+1]=function Wk(t,n){return 131071&t|n<<17}(t[f+1],o)}else t[o+1]=Bu(f,0),0!==f&&(t[f+1]=Eh(t[f+1],o)),f=o;else t[o+1]=Bu(E,0),0===f?f=o:t[E+1]=Eh(t[E+1],o),E=o;k&&(t[o+1]=yh(t[o+1])),UF(t,D,o,!0),UF(t,D,o,!1),function Kk(t,n,r,o,s){const i=s?t.residualClasses:t.residualStyles;null!=i&&"string"==typeof n&&xo(i,n)>=0&&(r[o+1]=vh(r[o+1]))}(n,D,t,o,i),d=Bu(f,E),i?n.classBindings=d:n.styleBindings=d}(s,i,n,r,d,o)}}function kh(t,n,r,o,s){let i=null;const d=r.directiveEnd;let f=r.directiveStylingLast;for(-1===f?f=r.directiveStart:f++;f<d&&(i=n[f],o=ml(o,i.hostAttrs,s),i!==t);)f++;return null!==t&&(r.directiveStylingLast=f),o}function ml(t,n,r){const o=r?1:2;let s=-1;if(null!==n)for(let i=0;i<n.length;i++){const d=n[i];"number"==typeof d?s=d:s===o&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Pn(t,d,!!r||n[++i]))}return void 0===t?null:t}function c2(t,n,r){const o=String(n);""!==o&&!o.includes(" ")&&Pn(t,o,r)}function XF(t,n,r,o,s,i,d,f){if(!(3&n.type))return;const E=t.data,k=E[f+1],D=function Gk(t){return!(1&~t)}(k)?YF(E,n,r,s,Aa(k),d):void 0;Uu(D)||(Uu(i)||function zk(t){return!(2&~t)}(k)&&(i=YF(E,null,r,s,f,d)),function D_(t,n,r,o,s){if(n)s?t.addClass(r,o):t.removeClass(r,o);else{let i=-1===o.indexOf("-")?void 0:uu.DashCase;null==s?t.removeStyle(r,o,i):("string"==typeof s&&s.endsWith("!important")&&(s=s.slice(0,-10),i|=uu.Important),t.setStyle(r,o,s,i))}}(o,d,Ut(Vr(),r),s,i))}function YF(t,n,r,o,s,i){const d=null===n;let f;for(;s>0;){const E=t[s],k=Array.isArray(E),D=k?E[1]:E,j=null===D;let L=r[s+1];L===Tt&&(L=j?Lt:void 0);let W=j?So(L,o):D===o?L:void 0;if(k&&!Uu(W)&&(W=So(E,o)),Uu(W)&&(f=W,d))return f;const Z=t[s+1];s=d?aa(Z):Aa(Z)}if(null!==n){let E=i?n.residualClasses:n.residualStyles;null!=E&&(f=So(E,o))}return f}function Uu(t){return void 0!==t}function e0(t,n){return!!(t.flags&(n?8:16))}function Hu(t,n,r,o){const s=ve(),i=Nt(),d=et+t,f=s[Xe],E=i.firstCreatePass?function A2(t,n,r,o,s,i){const d=n.consts,E=Da(n,t,2,o,ir(d,s));return _p(n,r,E,ir(d,i)),null!==E.attrs&&Iu(E,E.attrs,!1),null!==E.mergedAttrs&&Iu(E,E.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,E),E}(d,i,s,n,r,o):i.data[d],k=o0(i,s,E,f,n,t);s[d]=k;const D=Oi(E);return Vs(E,!0),Dg(f,k,E),!function tc(t){return!(32&~t.flags)}(E)&&Tc()&&hu(i,s,k,E),0===function ZE(){return vt.lFrame.elementDepthCount}()&&to(k,s),function XE(){vt.lFrame.elementDepthCount++}(),D&&(Ep(i,s,E),yp(i,E,s)),null!==o&&vp(s,E),Hu}function $u(){let t=Fn();md()?gd():(t=t.parent,Vs(t,!1));const n=t;(function ev(t){return vt.skipHydrationRootTNode===t})(n)&&function ov(){vt.skipHydrationRootTNode=null}(),function YE(){vt.lFrame.elementDepthCount--}();const r=Nt();return r.firstCreatePass&&(Nl(r,t),li(t)&&r.queries.elementEnd(t)),null!=n.classesWithoutHost&&function gv(t){return!!(8&t.flags)}(n)&&_h(r,n,ve(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function Fv(t){return!!(16&t.flags)}(n)&&_h(r,n,ve(),n.stylesWithoutHost,!1),$u}function Th(t,n,r,o){return Hu(t,n,r,o),$u(),Th}let o0=(t,n,r,o,s,i)=>(ui(!0),du(o,s,function Of(){return vt.lFrame.currentNamespace}()));function c0(){return ve()}const Oa=void 0;var U2=["en",[["a","p"],["AM","PM"],Oa],[["AM","PM"],Oa,Oa],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Oa,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Oa,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Oa,"{1} 'at' {0}",Oa],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function B2(t){const r=Math.floor(Math.abs(t)),o=t.toString().replace(/^[^.]*\.?/,"").length;return 1===r&&0===o?1:5}];let Ec={};function xh(t){const n=function V2(t){return t.toLowerCase().replace(/_/g,"-")}(t);let r=p0(n);if(r)return r;const o=n.split("-")[0];if(r=p0(o),r)return r;if("en"===o)return U2;throw new Ne(701,!1)}function d0(t){return xh(t)[vc.PluralCase]}function p0(t){return t in Ec||(Ec[t]=Ht.ng&&Ht.ng.common&&Ht.ng.common.locales&&Ht.ng.common.locales[t]),Ec[t]}var vc=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(vc||{});const zu="en-US";let h0=zu,x0=(t,n,r)=>{};function Oh(t,n,r,o){const s=ve(),i=Nt(),d=Fn();return function Rh(t,n,r,o,s,i,d){const f=Oi(o),k=t.firstCreatePass&&Vg(t),D=n[St],j=Ug(n);let L=!0;if(3&o.type||d){const we=on(o,n),Re=d?d(we):we,Ue=j.length,_e=d?Yt=>d(Be(Yt[o.index])):o.index;let bt=null;if(!d&&f&&(bt=function MC(t,n,r,o){const s=t.cleanup;if(null!=s)for(let i=0;i<s.length-1;i+=2){const d=s[i];if(d===r&&s[i+1]===o){const f=n[Jn],E=s[i+2];return f.length>E?f[E]:null}"string"==typeof d&&(i+=2)}return null}(t,n,s,o.index)),null!==bt)(bt.__ngLastListenerFn__||bt).__ngNextListenerFn__=i,bt.__ngLastListenerFn__=i,L=!1;else{i=R0(o,n,D,i),x0(we,s,i);const Yt=r.listen(Re,s,i);j.push(i,Yt),k&&k.push(s,_e,Ue,Ue+1)}}else i=R0(o,n,D,i);const W=o.outputs;let Z;if(L&&null!==W&&(Z=W[s])){const we=Z.length;if(we)for(let Re=0;Re<we;Re+=2){const vn=n[Z[Re]][Z[Re+1]].subscribe(i),tr=j.length;j.push(i,vn),k&&k.push(s,o.index,tr,-(tr+1))}}}(i,s,s[Xe],d,t,n,o),Oh}function O0(t,n,r,o){const s=G(null);try{return ns(6,n,r),!1!==r(o)}catch(i){return Fu(t,i),!1}finally{ns(7,n,r),G(s)}}function R0(t,n,r,o){return function s(i){if(i===Function)return o;Kc(t.componentOffset>-1?qt(t.index,n):n,5);let f=O0(n,r,o,i),E=s.__ngNextListenerFn__;for(;E;)f=O0(n,r,E,i)&&f,E=E.__ngNextListenerFn__;return f}}function N0(t=1){return function lv(t){return(vt.lFrame.contextLView=function Pa(t,n){for(;t>0;)n=n[Qn],t--;return n}(t,vt.lFrame.contextLView))[St]}(t)}function SC(t,n){let r=null;const o=function Na(t){const n=t.attrs;if(null!=n){const r=n.indexOf(5);if(!(1&r))return n[r+1]}return null}(t);for(let s=0;s<n.length;s++){const i=n[s];if("*"!==i){if(null===o?Ii(t,i,!0):qi(o,i))return s}else r=s}return r}function P0(t){const n=ve()[pn][en];if(!n.projection){const o=n.projection=function co(t,n){const r=[];for(let o=0;o<t;o++)r.push(n);return r}(t?t.length:1,null),s=o.slice();let i=n.child;for(;null!==i;){if(128!==i.type){const d=t?SC(i,t):0;null!==d&&(s[d]?s[d].projectionNext=i:o[d]=i,s[d]=i)}i=i.next}}}function L0(t,n=0,r,o,s,i){const d=ve(),f=Nt(),E=o?t+1:null;null!==E&&ul(d,f,E,o,s,i,null,r);const k=Da(f,et+t,16,null,r||null);null===k.projection&&(k.projection=n),gd();const j=!d[wn]||ga();null===d[pn][en].projection[k.projection]&&null!==E?function xC(t,n,r){const o=et+r,s=n.data[o],i=t[o],d=Ma(i,s.tView.ssrId);Za(i,Qa(t,s,void 0,{dehydratedView:d}),0,Ia(s,d))}(d,f,E):j&&32&~k.flags&&function k_(t,n,r){kg(n[Xe],0,n,r,pp(t,r,n),yg(r.parent||n[en],r,n))}(f,d,k)}function Nh(t,n,r){return Ph(t,"",n,"",r),Nh}function Ph(t,n,r,o,s){const i=ve(),d=uc(i,n,r,o);return d!==Tt&&Vo(Nt(),xn(),i,t,d,i[Xe],s,!1),Ph}function Lh(t,n,r,o,s,i,d){const f=ve(),E=dc(f,n,r,o,s,i);return E!==Tt&&Vo(Nt(),xn(),f,t,E,f[Xe],d,!1),Lh}function G0(t,n,r,o){!function N1(t,n,r,o){const s=Nt();if(s.firstCreatePass){const i=Fn();P1(s,new j1(n,r,o),i.index),function O4(t,n){const r=t.contentQueries||(t.contentQueries=[]);n!==(r.length?r[r.length-1]:-1)&&r.push(t.queries.length-1,n)}(s,t),!(2&~r)&&(s.staticContentQueries=!0)}return O1(s,ve(),r)}(t,n,r,o)}function q0(t,n,r){!function R1(t,n,r){const o=Nt();return o.firstCreatePass&&(P1(o,new j1(t,n,r),-1),!(2&~n)&&(o.staticViewQueries=!0)),O1(o,ve(),n)}(t,n,r)}function K0(t){const n=ve(),r=Nt(),o=Ed();Rl(o+1);const s=Xp(r,o);if(t.dirty&&function Sl(t){return!(4&~t[He])}(n)===!(2&~s.metadata.flags)){if(null===s.matches)t.reset([]);else{const i=L1(n,o);t.reset(i,um),t.notifyOnChanges()}return!0}return!1}function J0(){return function Zp(t,n){return t[Po].queries[n].queryList}(ve(),Ed())}function Q0(t){return Yr(function bf(){return vt.lFrame.contextLView}(),et+t)}function iy(t,n=""){const r=ve(),o=Nt(),s=t+et,i=o.firstCreatePass?Da(o,s,1,n,null):o.data[s],d=ay(o,r,i,n,t);r[s]=d,Tc()&&hu(o,r,d,i),Vs(i,!1)}let ay=(t,n,r,o,s)=>(ui(!0),function cp(t,n){return t.createText(n)}(n[Xe],o));function Uh(t){return Ku("",t,""),Uh}function Ku(t,n,r){const o=ve(),s=uc(o,t,n,r);return s!==Tt&&Hi(o,Vr(),s),Ku}function Vh(t,n,r,o,s){const i=ve(),d=dc(i,t,n,r,o,s);return d!==Tt&&Hi(i,Vr(),d),Vh}function Hh(t,n,r,o,s,i,d,f,E){const k=ve(),D=hc(k,t,n,r,o,s,i,d,f,E);return D!==Tt&&Hi(k,Vr(),D),Hh}function $h(t){const n=ve(),r=function lc(t,n){let r=!1,o=Pi();for(let i=1;i<n.length;i+=2)r=Xn(t,o++,n[i])||r;if(Cf(o),!r)return Tt;let s=n[0];for(let i=1;i<n.length;i+=2)s+=ot(n[i])+n[i+1];return s}(n,t);return r!==Tt&&Hi(n,Vr(),r),$h}let eD=(()=>{class t{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){const o=ti(0,r.type),s=o.length>0?oh([o],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,s)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(const r of this.cachedInjectors.values())null!==r&&r.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=Ot({token:t,providedIn:"environment",factory:()=>new t(En(fn))})}return t})();function yy(t){yo("NgStandalone"),t.getStandaloneInjector=n=>n.get(eD).getOrCreateStandaloneInjector(t)}function by(t,n,r){const o=Fo()+t,s=ve();return s[o]===Tt?fi(s,o,r?n.call(r):n()):function ll(t,n){return t[n]}(s,o)}function wy(t,n,r,o,s,i,d){const f=n+r;return xa(t,f,s,i)?fi(t,f+2,d?o.call(d,s,i):o(s,i)):function bl(t,n){const r=t[n];return r===Tt?void 0:r}(t,f+2)}function Iy(t,n){const r=Nt();let o;const s=t+et;r.firstCreatePass?(o=function hD(t,n){if(n)for(let r=n.length-1;r>=0;r--){const o=n[r];if(t===o.name)return o}}(n,r.pipeRegistry),r.data[s]=o,o.onDestroy&&(r.destroyHooks??=[]).push(s,o.onDestroy)):o=r.data[s];const i=o.factory||(o.factory=Tr(o.type)),f=Cn(Ja);try{const E=Bl(!1),k=i();return Bl(E),function Bh(t,n,r,o){r>=t.data.length&&(t.data[r]=null,t.blueprint[r]=null),n[r]=o}(r,ve(),s,k),k}finally{Cn(f)}}function Ty(t,n,r,o){const s=t+et,i=ve(),d=Yr(i,s);return function _l(t,n){return t[Ce].data[n].pure}(i,s)?wy(i,Fo(),n,d.transform,r,o,d):d.transform(r,o)}function My(t,n){return Eu(t,n)}class Wy{constructor(n){this.full=n;const r=n.split(".");this.major=r[0],this.minor=r[1],this.patch=r.slice(2).join(".")}}let Gy=(()=>{class t{log(r){console.log(r)}warn(r){console.warn(r)}static#e=this.\u0275fac=function(o){return new(o||t)};static#t=this.\u0275prov=Ot({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();const Zy=new ut(""),Xy=new ut("");let Yh,uI=(()=>{class t{constructor(r,o,s){this._ngZone=r,this.registry=o,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,Yh||(function dI(t){Yh=t}(s),s.addToWindow(o)),this._watchAngularEvents(),r.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{$n.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let r=this._callbacks.pop();clearTimeout(r.timeoutId),r.doneCb()}});else{let r=this.getPendingTasks();this._callbacks=this._callbacks.filter(o=>!o.updateCb||!o.updateCb(r)||(clearTimeout(o.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(r=>({source:r.source,creationLocation:r.creationLocation,data:r.data})):[]}addCallback(r,o,s){let i=-1;o&&o>0&&(i=setTimeout(()=>{this._callbacks=this._callbacks.filter(d=>d.timeoutId!==i),r()},o)),this._callbacks.push({doneCb:r,timeoutId:i,updateCb:s})}whenStable(r,o,s){if(s&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(r,o,s),this._runCallbacksIfReady()}registerApplication(r){this.registry.registerApplication(r,this)}unregisterApplication(r){this.registry.unregisterApplication(r)}findProviders(r,o,s){return[]}static#e=this.\u0275fac=function(o){return new(o||t)(En($n),En(Yy),En(Xy))};static#t=this.\u0275prov=Ot({token:t,factory:t.\u0275fac})}return t})(),Yy=(()=>{class t{constructor(){this._applications=new Map}registerApplication(r,o){this._applications.set(r,o)}unregisterApplication(r){this._applications.delete(r)}unregisterAllApplications(){this._applications.clear()}getTestability(r){return this._applications.get(r)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(r,o=!0){return Yh?.findTestabilityInTree(this,r,o)??null}static#e=this.\u0275fac=function(o){return new(o||t)};static#t=this.\u0275prov=Ot({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();function ef(t){return!!t&&"function"==typeof t.then}function eE(t){return!!t&&"function"==typeof t.subscribe}const tE=new ut("");let nE=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,o)=>{this.resolve=r,this.reject=o}),this.appInits=Ze(tE,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const r=[];for(const s of this.appInits){const i=s();if(ef(i))r.push(i);else if(eE(i)){const d=new Promise((f,E)=>{i.subscribe({complete:f,error:E})});r.push(d)}}const o=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{o()}).catch(s=>{this.reject(s)}),0===r.length&&o(),this.initialized=!0}static#e=this.\u0275fac=function(o){return new(o||t)};static#t=this.\u0275prov=Ot({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const Yu=new ut("");function oE(t,n){return Array.isArray(n)?n.reduce(oE,t):{...t,...n}}let Fi=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Ze(Wv),this.afterRenderManager=Ze(pF),this.zonelessEnabled=Ze(ol),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new Pt.B,this.afterTick=new Pt.B,this.componentTypes=[],this.components=[],this.isStable=Ze(va).hasPendingTasks.pipe((0,At.T)(r=>!r)),this._injector=Ze(fn)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let r;return new Promise(o=>{r=this.isStable.subscribe({next:s=>{s&&o()}})}).finally(()=>{r.unsubscribe()})}get injector(){return this._injector}bootstrap(r,o){const s=r instanceof v1;if(!this._injector.get(nE).done)throw!s&&Xo(r),new Ne(405,!1);let d;d=s?r:this._injector.get(Cu).resolveComponentFactory(r),this.componentTypes.push(d.componentType);const f=function pI(t){return t.isBoundToModule}(d)?void 0:this._injector.get(Sa),k=d.create(eo.NULL,[],o||d.selector,f),D=k.location.nativeElement,j=k.injector.get(Zy,null);return j?.registerApplication(D),k.onDestroy(()=>{this.detachView(k.hostView),ed(this.components,k),j?.unregisterApplication(D)}),this._loadComponent(k),k}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new Ne(101,!1);const r=G(null);try{this._runningTick=!0,this.synchronize()}catch(o){this.internalErrorHandler(o)}finally{this._runningTick=!1,G(r),this.afterTick.next()}}synchronize(){let r=null;this._injector.destroyed||(r=this._injector.get(Vp,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let o=0;for(;0!==this.dirtyFlags&&o++<10;)this.synchronizeOnce(r)}synchronizeOnce(r){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,7&this.dirtyFlags){const o=!!(1&this.dirtyFlags);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(o);for(let{_lView:s,notifyErrorHandler:i}of this._views)mI(s,i,o,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),7&this.dirtyFlags)return}else r?.begin?.(),r?.end?.();8&this.dirtyFlags&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){this.allViews.some(({_lView:r})=>xl(r))?this.dirtyFlags|=2:this.dirtyFlags&=-8}attachView(r){const o=r;this._views.push(o),o.attachToAppRef(this)}detachView(r){const o=r;ed(this._views,o),o.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);const o=this._injector.get(Yu,[]);[...this._bootstrapListeners,...o].forEach(s=>s(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>ed(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new Ne(406,!1);const r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(o){return new(o||t)};static#t=this.\u0275prov=Ot({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function ed(t,n){const r=t.indexOf(n);r>-1&&t.splice(r,1)}function mI(t,n,r,o){(r||xl(t))&&yu(t,n,r&&!o?0:1)}class gI{constructor(n,r){this.ngModuleFactory=n,this.componentFactories=r}}let FI=(()=>{class t{compileModuleSync(r){return new rh(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){const o=this.compileModuleSync(r),i=rs(yt(r).declarations).reduce((d,f)=>{const E=Ft(f);return E&&d.push(new al(E)),d},[]);return new gI(o,i)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}static#e=this.\u0275fac=function(o){return new(o||t)};static#t=this.\u0275prov=Ot({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),vI=(()=>{class t{constructor(){this.zone=Ze($n),this.changeDetectionScheduler=Ze(Ya),this.applicationRef=Ze(Fi)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(o){return new(o||t)};static#t=this.\u0275prov=Ot({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function tf({ngZoneFactory:t,ignoreChangesOutsideZone:n,scheduleInRootZone:r}){return t??=()=>new $n({...nf(),scheduleInRootZone:r}),[{provide:$n,useFactory:t},{provide:Lr,multi:!0,useFactory:()=>{const o=Ze(vI,{optional:!0});return()=>o.initialize()}},{provide:Lr,multi:!0,useFactory:()=>{const o=Ze(_I);return()=>{o.initialize()}}},!0===n?{provide:E1,useValue:!0}:[],{provide:Up,useValue:r??rm}]}function nf(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}let _I=(()=>{class t{constructor(){this.subscription=new Qt.yU,this.initialized=!1,this.zone=Ze($n),this.pendingTasks=Ze(va)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{$n.assertNotInAngularZone(),queueMicrotask(()=>{null!==r&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{$n.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static#e=this.\u0275fac=function(o){return new(o||t)};static#t=this.\u0275prov=Ot({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Cl=(()=>{class t{constructor(){this.appRef=Ze(Fi),this.taskService=Ze(va),this.ngZone=Ze($n),this.zonelessEnabled=Ze(ol),this.disableScheduling=Ze(E1,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Qt.yU,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Gl):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(Ze(Up,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Rd||!this.zoneIsDefined)}notify(r){if(!this.zonelessEnabled&&5===r)return;switch(r){case 0:this.appRef.dirtyFlags|=2;break;case 3:case 2:case 4:case 5:case 1:this.appRef.dirtyFlags|=4;break;case 7:this.appRef.deferredDirtyFlags|=8;break;default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;const o=this.useMicrotaskScheduler?sm:om;this.pendingRenderTaskId=this.taskService.add(),this.cancelScheduledCallback=this.scheduleInRootZone?Zone.root.run(()=>o(()=>this.tick())):this.ngZone.runOutsideAngular(()=>o(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||null!==this.pendingRenderTaskId||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Gl+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&7&this.appRef.dirtyFlags&&(this.appRef.dirtyFlags|=1);const r=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(o){throw this.taskService.remove(r),o}finally{this.cleanup()}this.useMicrotaskScheduler=!0,sm(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(r)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,null!==this.pendingRenderTaskId){const r=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(r)}}static#e=this.\u0275fac=function(o){return new(o||t)};static#t=this.\u0275prov=Ot({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const sf=new ut("",{providedIn:"root",factory:()=>Ze(sf,wt.Optional|wt.SkipSelf)||function wI(){return typeof $localize<"u"&&$localize.locale||zu}()}),kI=new ut("",{providedIn:"root",factory:()=>"USD"}),nd=new ut("");function rd(t){return!t.moduleRef}let dE=(()=>{class t{constructor(r){this._injector=r,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(r,o){const s=o?.scheduleInRootZone,d=o?.ignoreChangesOutsideZone,f=[tf({ngZoneFactory:()=>function zv(t="zone.js",n){return"noop"===t?new Rd:"zone.js"===t?new $n(n):t}(o?.ngZone,{...nf({eventCoalescing:o?.ngZoneEventCoalescing,runCoalescing:o?.ngZoneRunCoalescing}),scheduleInRootZone:s}),ignoreChangesOutsideZone:d}),{provide:Ya,useExisting:Cl}],E=function nk(t,n,r){return new nh(t,n,r,!1)}(r.moduleType,this.injector,f);return function uE(t){const n=rd(t)?t.r3Injector:t.moduleRef.injector,r=n.get($n);return r.run(()=>{rd(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();const o=n.get(Bi,null);let s;if(r.runOutsideAngular(()=>{s=r.onError.subscribe({next:i=>{o.handleError(i)}})}),rd(t)){const i=()=>n.destroy(),d=t.platformInjector.get(nd);d.add(i),n.onDestroy(()=>{s.unsubscribe(),d.delete(i)})}else{const i=()=>t.moduleRef.destroy(),d=t.platformInjector.get(nd);d.add(i),t.moduleRef.onDestroy(()=>{ed(t.allPlatformModules,t.moduleRef),s.unsubscribe(),d.delete(i)})}return function fI(t,n,r){try{const o=r();return ef(o)?o.catch(s=>{throw n.runOutsideAngular(()=>t.handleError(s)),s}):o}catch(o){throw n.runOutsideAngular(()=>t.handleError(o)),o}}(o,r,()=>{const i=n.get(nE);return i.runInitializers(),i.donePromise.then(()=>{if(function W2(t){"string"==typeof t&&(h0=t.toLowerCase().replace(/_/g,"-"))}(n.get(sf,zu)||zu),rd(t)){const f=n.get(Fi);return void 0!==t.rootComponent&&f.bootstrap(t.rootComponent),f}return function MI(t,n){const r=t.injector.get(Fi);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(o=>r.bootstrap(o));else{if(!t.instance.ngDoBootstrap)throw new Ne(-403,!1);t.instance.ngDoBootstrap(r)}n.push(t)}(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}({moduleRef:E,allPlatformModules:this._modules,platformInjector:this.injector})}bootstrapModule(r,o=[]){const s=oE({},o);return function EI(t,n,r){const o=new rh(r);return Promise.resolve(o)}(0,0,r).then(i=>this.bootstrapModuleFactory(i,s))}onDestroy(r){this._destroyListeners.push(r)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ne(404,!1);this._modules.slice().forEach(o=>o.destroy()),this._destroyListeners.forEach(o=>o());const r=this._injector.get(nd,null);r&&(r.forEach(o=>o()),r.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(o){return new(o||t)(En(eo))};static#t=this.\u0275prov=Ot({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})(),ca=null;const pE=new ut("");function hE(t,n,r=[]){const o=`Platform: ${n}`,s=new ut(o);return(i=[])=>{let d=af();if(!d||d.injector.get(pE,!1)){const f=[...r,...i,{provide:s,useValue:!0}];t?t(f):function SI(t){if(ca&&!ca.get(pE,!1))throw new Ne(400,!1);(function rE(){!function Rt(t){pt=t}(()=>{throw new Ne(600,!1)})})(),ca=t;const n=t.get(dE);(function mE(t){t.get(Sm,null)?.forEach(r=>r())})(t)}(function fE(t=[],n){return eo.create({name:n,providers:[{provide:ri,useValue:"platform"},{provide:nd,useValue:new Set([()=>ca=null])},...t]})}(f,o))}return function xI(){const n=af();if(!n)throw new Ne(401,!1);return n}()}}function af(){return ca?.get(dE)??null}function AI(){}let FE=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=OI}return t})();function OI(t){return function RI(t,n,r){if(Lo(t)&&!r){const o=qt(t.index,n);return new Jc(o,o)}return 175&t.type?new Jc(n[pn],n):null}(Fn(),ve(),!(16&~t))}class bE{constructor(){}supports(n){return xu(n)}create(n){return new UI(n)}}const BI=(t,n)=>n;class UI{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||BI}forEachItem(n){let r;for(r=this._itHead;null!==r;r=r._next)n(r)}forEachOperation(n){let r=this._itHead,o=this._removalsHead,s=0,i=null;for(;r||o;){const d=!o||r&&r.currentIndex<wE(o,s,i)?r:o,f=wE(d,s,i),E=d.currentIndex;if(d===o)s--,o=o._nextRemoved;else if(r=r._next,null==d.previousIndex)s++;else{i||(i=[]);const k=f-s,D=E-s;if(k!=D){for(let L=0;L<k;L++){const W=L<i.length?i[L]:i[L]=0,Z=W+L;D<=Z&&Z<k&&(i[L]=W+1)}i[d.previousIndex]=D-k}}f!==E&&n(d,f,E)}}forEachPreviousItem(n){let r;for(r=this._previousItHead;null!==r;r=r._nextPrevious)n(r)}forEachAddedItem(n){let r;for(r=this._additionsHead;null!==r;r=r._nextAdded)n(r)}forEachMovedItem(n){let r;for(r=this._movesHead;null!==r;r=r._nextMoved)n(r)}forEachRemovedItem(n){let r;for(r=this._removalsHead;null!==r;r=r._nextRemoved)n(r)}forEachIdentityChange(n){let r;for(r=this._identityChangesHead;null!==r;r=r._nextIdentityChange)n(r)}diff(n){if(null==n&&(n=[]),!xu(n))throw new Ne(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let s,i,d,r=this._itHead,o=!1;if(Array.isArray(n)){this.length=n.length;for(let f=0;f<this.length;f++)i=n[f],d=this._trackByFn(f,i),null!==r&&Object.is(r.trackById,d)?(o&&(r=this._verifyReinsertion(r,i,d,f)),Object.is(r.item,i)||this._addIdentityChange(r,i)):(r=this._mismatch(r,i,d,f),o=!0),r=r._next}else s=0,function sk(t,n){if(Array.isArray(t))for(let r=0;r<t.length;r++)n(t[r]);else{const r=t[Symbol.iterator]();let o;for(;!(o=r.next()).done;)n(o.value)}}(n,f=>{d=this._trackByFn(s,f),null!==r&&Object.is(r.trackById,d)?(o&&(r=this._verifyReinsertion(r,f,d,s)),Object.is(r.item,f)||this._addIdentityChange(r,f)):(r=this._mismatch(r,f,d,s),o=!0),r=r._next,s++}),this.length=s;return this._truncate(r),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,r,o,s){let i;return null===n?i=this._itTail:(i=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null))?(Object.is(n.item,r)||this._addIdentityChange(n,r),this._reinsertAfter(n,i,s)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(o,s))?(Object.is(n.item,r)||this._addIdentityChange(n,r),this._moveAfter(n,i,s)):n=this._addAfter(new VI(r,o),i,s),n}_verifyReinsertion(n,r,o,s){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null);return null!==i?n=this._reinsertAfter(i,n._prev,s):n.currentIndex!=s&&(n.currentIndex=s,this._addToMoves(n,s)),n}_truncate(n){for(;null!==n;){const r=n._next;this._addToRemovals(this._unlink(n)),n=r}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,r,o){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const s=n._prevRemoved,i=n._nextRemoved;return null===s?this._removalsHead=i:s._nextRemoved=i,null===i?this._removalsTail=s:i._prevRemoved=s,this._insertAfter(n,r,o),this._addToMoves(n,o),n}_moveAfter(n,r,o){return this._unlink(n),this._insertAfter(n,r,o),this._addToMoves(n,o),n}_addAfter(n,r,o){return this._insertAfter(n,r,o),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,r,o){const s=null===r?this._itHead:r._next;return n._next=s,n._prev=r,null===s?this._itTail=n:s._prev=n,null===r?this._itHead=n:r._next=n,null===this._linkedRecords&&(this._linkedRecords=new _E),this._linkedRecords.put(n),n.currentIndex=o,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const r=n._prev,o=n._next;return null===r?this._itHead=o:r._next=o,null===o?this._itTail=r:o._prev=r,n}_addToMoves(n,r){return n.previousIndex===r||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new _E),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,r){return n.item=r,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class VI{constructor(n,r){this.item=n,this.trackById=r,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class HI{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,r){let o;for(o=this._head;null!==o;o=o._nextDup)if((null===r||r<=o.currentIndex)&&Object.is(o.trackById,n))return o;return null}remove(n){const r=n._prevDup,o=n._nextDup;return null===r?this._head=o:r._nextDup=o,null===o?this._tail=r:o._prevDup=r,null===this._head}}class _E{constructor(){this.map=new Map}put(n){const r=n.trackById;let o=this.map.get(r);o||(o=new HI,this.map.set(r,o)),o.add(n)}get(n,r){const s=this.map.get(n);return s?s.get(n,r):null}remove(n){const r=n.trackById;return this.map.get(r).remove(n)&&this.map.delete(r),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function wE(t,n,r){const o=t.previousIndex;if(null===o)return o;let s=0;return r&&o<r.length&&(s=r[o]),o+n+s}class kE{constructor(){}supports(n){return n instanceof Map||sh(n)}create(){return new $I}}class $I{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let r;for(r=this._mapHead;null!==r;r=r._next)n(r)}forEachPreviousItem(n){let r;for(r=this._previousMapHead;null!==r;r=r._nextPrevious)n(r)}forEachChangedItem(n){let r;for(r=this._changesHead;null!==r;r=r._nextChanged)n(r)}forEachAddedItem(n){let r;for(r=this._additionsHead;null!==r;r=r._nextAdded)n(r)}forEachRemovedItem(n){let r;for(r=this._removalsHead;null!==r;r=r._nextRemoved)n(r)}diff(n){if(n){if(!(n instanceof Map||sh(n)))throw new Ne(900,!1)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let r=this._mapHead;if(this._appendAfter=null,this._forEach(n,(o,s)=>{if(r&&r.key===s)this._maybeAddToChanges(r,o),this._appendAfter=r,r=r._next;else{const i=this._getOrCreateRecordForKey(s,o);r=this._insertBeforeOrAppend(r,i)}}),r){r._prev&&(r._prev._next=null),this._removalsHead=r;for(let o=r;null!==o;o=o._nextRemoved)o===this._mapHead&&(this._mapHead=null),this._records.delete(o.key),o._nextRemoved=o._next,o.previousValue=o.currentValue,o.currentValue=null,o._prev=null,o._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,r){if(n){const o=n._prev;return r._next=n,r._prev=o,n._prev=r,o&&(o._next=r),n===this._mapHead&&(this._mapHead=r),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=r,r._prev=this._appendAfter):this._mapHead=r,this._appendAfter=r,null}_getOrCreateRecordForKey(n,r){if(this._records.has(n)){const s=this._records.get(n);this._maybeAddToChanges(s,r);const i=s._prev,d=s._next;return i&&(i._next=d),d&&(d._prev=i),s._next=null,s._prev=null,s}const o=new zI(n);return this._records.set(n,o),o.currentValue=r,this._addToAdditions(o),o}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,r){Object.is(r,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=r,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,r){n instanceof Map?n.forEach(r):Object.keys(n).forEach(o=>r(n[o],o))}}class zI{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function CE(){return new pf([new bE])}let pf=(()=>{class t{static#e=this.\u0275prov=Ot({token:t,providedIn:"root",factory:CE});constructor(r){this.factories=r}static create(r,o){if(null!=o){const s=o.factories.slice();r=r.concat(s)}return new t(r)}static extend(r){return{provide:t,useFactory:o=>t.create(r,o||CE()),deps:[[t,new To,new Jo]]}}find(r){const o=this.factories.find(s=>s.supports(r));if(null!=o)return o;throw new Ne(901,!1)}}return t})();function DE(){return new hf([new kE])}let hf=(()=>{class t{static#e=this.\u0275prov=Ot({token:t,providedIn:"root",factory:DE});constructor(r){this.factories=r}static create(r,o){if(o){const s=o.factories.slice();r=r.concat(s)}return new t(r)}static extend(r){return{provide:t,useFactory:o=>t.create(r,o||DE()),deps:[[t,new To,new Jo]]}}find(r){const o=this.factories.find(s=>s.supports(r));if(o)return o;throw new Ne(901,!1)}}return t})();const qI=hE(null,"core",[]);let KI=(()=>{class t{constructor(r){}static#e=this.\u0275fac=function(o){return new(o||t)(En(Fi))};static#t=this.\u0275mod=uo({type:t});static#n=this.\u0275inj=oo({})}return t})();function CT(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function IT(t){const n=G(null);try{return t()}finally{G(n)}}const TT=new ut("",{providedIn:"root",factory:()=>Ze(MT)});let MT=(()=>{class t{static#e=this.\u0275prov=Ot({token:t,providedIn:"root",factory:()=>new ST})}return t})();class ST{constructor(){this.queuedEffectCount=0,this.queues=new Map,this.pendingTasks=Ze(va),this.taskId=null}scheduleEffect(n){if(this.enqueue(n),null===this.taskId){const r=this.taskId=this.pendingTasks.add();queueMicrotask(()=>{this.flush(),this.pendingTasks.remove(r),this.taskId=null})}}enqueue(n){const r=n.creationZone;this.queues.has(r)||this.queues.set(r,new Set);const o=this.queues.get(r);o.has(n)||(this.queuedEffectCount++,o.add(n))}flush(){for(;this.queuedEffectCount>0;)for(const[n,r]of this.queues)null===n?this.flushQueue(r):n.run(()=>this.flushQueue(r))}flushQueue(n){for(const r of n)n.delete(r),this.queuedEffectCount--,r.run()}}class xT{constructor(n,r,o,s,i,d){this.scheduler=n,this.effectFn=r,this.creationZone=o,this.injector=i,this.watcher=function qe(t,n,r){const o=Object.create(Vt);r&&(o.consumerAllowSignalWrites=!0),o.fn=t,o.schedule=n;const s=E=>{o.cleanupFn=E};return o.ref={notify:()=>ee(o),run:()=>{if(null===o.fn)return;if(function be(){return $}())throw new Error("Schedulers cannot synchronously execute watches while scheduling.");if(o.dirty=!1,o.hasRun&&!Te(o))return;o.hasRun=!0;const E=Q(o);try{o.cleanupFn(),o.cleanupFn=tt,o.fn(s)}finally{me(o,E)}},cleanup:()=>o.cleanupFn(),destroy:()=>function d(E){(function i(E){return null===E.fn&&null===E.schedule})(E)||(Ie(E),E.cleanupFn(),E.fn=null,E.schedule=null,E.cleanupFn=tt)}(o),[N]:o},o.ref}(f=>this.runEffect(f),()=>this.schedule(),d),this.unregisterOnDestroy=s?.onDestroy(()=>this.destroy())}runEffect(n){try{this.effectFn(n)}catch(r){this.injector.get(Bi,null,{optional:!0})?.handleError(r)}}run(){this.watcher.run()}schedule(){this.scheduler.scheduleEffect(this)}destroy(){this.watcher.destroy(),this.unregisterOnDestroy?.()}}function JE(t,n){yo("NgSignals"),!n?.injector&&No();const r=n?.injector??Ze(eo),o=!0!==n?.manualCleanup?r.get(jc):null,s=new xT(r.get(TT),t,typeof Zone>"u"?null:Zone.current,o,r,n?.allowSignalWrites??!1),i=r.get(FE,null,{optional:!0});return i&&8&i._lView[He]?(i._lView[Rs]??=[]).push(s.watcher.notify):s.watcher.notify(),s}function jT(t){const n=Ft(t);if(!n)return null;const r=new al(n);return{get selector(){return r.selector},get type(){return r.componentType},get inputs(){return r.inputs},get outputs(){return r.outputs},get ngContentSelectors(){return r.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}},3506:(je,ne,C)=>{"use strict";C.d(ne,{An:()=>na,m_:()=>v});var g=C(4438),e=C(177),$=C(6860),O=C(1413),N=C(8359),re=(C(4402),C(7673)),nn=C(8141),Dt=(C(152),C(5964),C(6354)),_n=C(6697),Ke=C(1844),or=function(l){return l[l.NONE=0]="NONE",l[l.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",l[l.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",l}(or||{});const qr="cdk-high-contrast-black-on-white",jo="cdk-high-contrast-white-on-black",ms="cdk-high-contrast-active";let Qo=(()=>{class l{constructor(c,h){this._platform=c,this._document=h,this._breakpointSubscription=(0,g.WQX)(Ke.QP).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return or.NONE;const c=this._document.createElement("div");c.style.backgroundColor="rgb(1,2,3)",c.style.position="absolute",this._document.body.appendChild(c);const h=this._document.defaultView||window,b=h&&h.getComputedStyle?h.getComputedStyle(c):null,M=(b&&b.backgroundColor||"").replace(/ /g,"");switch(c.remove(),M){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return or.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return or.BLACK_ON_WHITE}return or.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const c=this._document.body.classList;c.remove(ms,qr,jo),this._hasCheckedHighContrastMode=!0;const h=this.getHighContrastMode();h===or.BLACK_ON_WHITE?c.add(ms,qr):h===or.WHITE_ON_BLACK&&c.add(ms,jo)}}static#e=this.\u0275fac=function(h){return new(h||l)(g.KVO($.OD),g.KVO(e.qQ))};static#t=this.\u0275prov=g.jDH({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})(),Qs=(()=>{class l{static#e=this.\u0275fac=function(h){return new(h||l)};static#t=this.\u0275mod=g.$C({type:l});static#n=this.\u0275inj=g.G2t({})}return l})();const Ys=new g.nKC("mat-sanity-checks",{providedIn:"root",factory:function Xs(){return!0}});let Ft=(()=>{class l{constructor(c,h,b){this._sanityChecks=h,this._document=b,this._hasDoneGlobalChecks=!1,c._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(c){return!(0,$.v8)()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[c])}static#e=this.\u0275fac=function(h){return new(h||l)(g.KVO(Qo),g.KVO(Ys,8),g.KVO(e.qQ))};static#t=this.\u0275mod=g.$C({type:l});static#n=this.\u0275inj=g.G2t({imports:[Qs,Qs]})}return l})();var en=C(8810),wn=C(1985),Jn=C(3073),St=C(8750),dn=C(9326),gr=C(4360),Xe=C(6450),Wn=C(8496),Qn=C(9437),pn=C(980),Mn=C(7707),Zn=C(9974);function mo(l,a,...c){if(!0===a)return void l();if(!1===a)return;const h=new Mn.Ms({next:()=>{h.unsubscribe(),l()}});return(0,St.Tg)(a(...c)).subscribe(h)}var Xi=C(1626),Zr=C(345);const Rs=["*"];let Vn;function ts(l){return function et(){if(void 0===Vn&&(Vn=null,typeof window<"u")){const l=window;void 0!==l.trustedTypes&&(Vn=l.trustedTypes.createPolicy("angular#components",{createHTML:a=>a}))}return Vn}()?.createHTML(l)||l}function Ns(l){return Error(`Unable to find icon with the name "${l}"`)}function ci(l){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${l}".`)}function Ps(l){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${l}".`)}class hn{constructor(a,c,h){this.url=a,this.svgText=c,this.options=h}}let Ls=(()=>{class l{constructor(c,h,b,M){this._httpClient=c,this._sanitizer=h,this._errorHandler=M,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=b}addSvgIcon(c,h,b){return this.addSvgIconInNamespace("",c,h,b)}addSvgIconLiteral(c,h,b){return this.addSvgIconLiteralInNamespace("",c,h,b)}addSvgIconInNamespace(c,h,b,M){return this._addSvgIconConfig(c,h,new hn(b,null,M))}addSvgIconResolver(c){return this._resolvers.push(c),this}addSvgIconLiteralInNamespace(c,h,b,M){const u=this._sanitizer.sanitize(g.WPN.HTML,b);if(!u)throw Ps(b);const m=ts(u);return this._addSvgIconConfig(c,h,new hn("",m,M))}addSvgIconSet(c,h){return this.addSvgIconSetInNamespace("",c,h)}addSvgIconSetLiteral(c,h){return this.addSvgIconSetLiteralInNamespace("",c,h)}addSvgIconSetInNamespace(c,h,b){return this._addSvgIconSetConfig(c,new hn(h,null,b))}addSvgIconSetLiteralInNamespace(c,h,b){const M=this._sanitizer.sanitize(g.WPN.HTML,h);if(!M)throw Ps(h);const u=ts(M);return this._addSvgIconSetConfig(c,new hn("",u,b))}registerFontClassAlias(c,h=c){return this._fontCssClassesByAlias.set(c,h),this}classNameForFontAlias(c){return this._fontCssClassesByAlias.get(c)||c}setDefaultFontSetClass(...c){return this._defaultFontSetClass=c,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(c){const h=this._sanitizer.sanitize(g.WPN.RESOURCE_URL,c);if(!h)throw ci(c);const b=this._cachedIconsByUrl.get(h);return b?(0,re.of)(li(b)):this._loadSvgIconFromConfig(new hn(c,null)).pipe((0,nn.M)(M=>this._cachedIconsByUrl.set(h,M)),(0,Dt.T)(M=>li(M)))}getNamedSvgIcon(c,h=""){const b=Lo(h,c);let M=this._svgIconConfigs.get(b);if(M)return this._getSvgFromConfig(M);if(M=this._getIconConfigFromResolvers(h,c),M)return this._svgIconConfigs.set(b,M),this._getSvgFromConfig(M);const u=this._iconSetConfigs.get(h);return u?this._getSvgFromIconSetConfigs(c,u):(0,en.$)(Ns(b))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(c){return c.svgText?(0,re.of)(li(this._svgElementFromConfig(c))):this._loadSvgIconFromConfig(c).pipe((0,Dt.T)(h=>li(h)))}_getSvgFromIconSetConfigs(c,h){const b=this._extractIconWithNameFromAnySet(c,h);return b?(0,re.of)(b):function Ln(...l){const a=(0,dn.ms)(l),{args:c,keys:h}=(0,Jn.D)(l),b=new wn.c(M=>{const{length:u}=c;if(!u)return void M.complete();const m=new Array(u);let p=u,F=u;for(let _=0;_<u;_++){let S=!1;(0,St.Tg)(c[_]).subscribe((0,gr._)(M,x=>{S||(S=!0,F--),m[_]=x},()=>p--,void 0,()=>{(!p||!S)&&(F||M.next(h?(0,Wn.e)(h,m):m),M.complete())}))}});return a?b.pipe((0,Xe.I)(a)):b}(h.filter(u=>!u.svgText).map(u=>this._loadSvgIconSetFromConfig(u).pipe((0,Qn.W)(m=>{const F=`Loading icon set URL: ${this._sanitizer.sanitize(g.WPN.RESOURCE_URL,u.url)} failed: ${m.message}`;return this._errorHandler.handleError(new Error(F)),(0,re.of)(null)})))).pipe((0,Dt.T)(()=>{const u=this._extractIconWithNameFromAnySet(c,h);if(!u)throw Ns(c);return u}))}_extractIconWithNameFromAnySet(c,h){for(let b=h.length-1;b>=0;b--){const M=h[b];if(M.svgText&&M.svgText.toString().indexOf(c)>-1){const u=this._svgElementFromConfig(M),m=this._extractSvgIconFromSet(u,c,M.options);if(m)return m}}return null}_loadSvgIconFromConfig(c){return this._fetchIcon(c).pipe((0,nn.M)(h=>c.svgText=h),(0,Dt.T)(()=>this._svgElementFromConfig(c)))}_loadSvgIconSetFromConfig(c){return c.svgText?(0,re.of)(null):this._fetchIcon(c).pipe((0,nn.M)(h=>c.svgText=h))}_extractSvgIconFromSet(c,h,b){const M=c.querySelector(`[id="${h}"]`);if(!M)return null;const u=M.cloneNode(!0);if(u.removeAttribute("id"),"svg"===u.nodeName.toLowerCase())return this._setSvgAttributes(u,b);if("symbol"===u.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(u),b);const m=this._svgElementFromString(ts("<svg></svg>"));return m.appendChild(u),this._setSvgAttributes(m,b)}_svgElementFromString(c){const h=this._document.createElement("DIV");h.innerHTML=c;const b=h.querySelector("svg");if(!b)throw Error("<svg> tag not found");return b}_toSvgElement(c){const h=this._svgElementFromString(ts("<svg></svg>")),b=c.attributes;for(let M=0;M<b.length;M++){const{name:u,value:m}=b[M];"id"!==u&&h.setAttribute(u,m)}for(let M=0;M<c.childNodes.length;M++)c.childNodes[M].nodeType===this._document.ELEMENT_NODE&&h.appendChild(c.childNodes[M].cloneNode(!0));return h}_setSvgAttributes(c,h){return c.setAttribute("fit",""),c.setAttribute("height","100%"),c.setAttribute("width","100%"),c.setAttribute("preserveAspectRatio","xMidYMid meet"),c.setAttribute("focusable","false"),h&&h.viewBox&&c.setAttribute("viewBox",h.viewBox),c}_fetchIcon(c){const{url:h,options:b}=c,M=b?.withCredentials??!1;if(!this._httpClient)throw function Xr(){return Error("Could not find HttpClient for use with Angular Material icons. Please add provideHttpClient() to your providers.")}();if(null==h)throw Error(`Cannot fetch icon from URL "${h}".`);const u=this._sanitizer.sanitize(g.WPN.RESOURCE_URL,h);if(!u)throw ci(h);const m=this._inProgressUrlFetches.get(u);if(m)return m;const p=this._httpClient.get(u,{responseType:"text",withCredentials:M}).pipe((0,Dt.T)(F=>ts(F)),(0,pn.j)(()=>this._inProgressUrlFetches.delete(u)),function Po(l={}){const{connector:a=()=>new O.B,resetOnError:c=!0,resetOnComplete:h=!0,resetOnRefCountZero:b=!0}=l;return M=>{let u,m,p,F=0,_=!1,S=!1;const x=()=>{m?.unsubscribe(),m=void 0},z=()=>{x(),u=p=void 0,_=S=!1},U=()=>{const Ee=u;z(),Ee?.unsubscribe()};return(0,Zn.N)((Ee,Le)=>{F++,!S&&!_&&x();const ze=p=p??a();Le.add(()=>{F--,0===F&&!S&&!_&&(m=mo(U,b))}),ze.subscribe(Le),!u&&F>0&&(u=new Mn.Ms({next:dt=>ze.next(dt),error:dt=>{S=!0,x(),m=mo(z,c,dt),ze.error(dt)},complete:()=>{_=!0,x(),m=mo(z,h),ze.complete()}}),(0,St.Tg)(Ee).subscribe(u))})(M)}}());return this._inProgressUrlFetches.set(u,p),p}_addSvgIconConfig(c,h,b){return this._svgIconConfigs.set(Lo(c,h),b),this}_addSvgIconSetConfig(c,h){const b=this._iconSetConfigs.get(c);return b?b.push(h):this._iconSetConfigs.set(c,[h]),this}_svgElementFromConfig(c){if(!c.svgElement){const h=this._svgElementFromString(c.svgText);this._setSvgAttributes(h,c.options),c.svgElement=h}return c.svgElement}_getIconConfigFromResolvers(c,h){for(let b=0;b<this._resolvers.length;b++){const M=this._resolvers[b](h,c);if(M)return Oi(M)?new hn(M.url,null,M.options):new hn(M,null)}}static#e=this.\u0275fac=function(h){return new(h||l)(g.KVO(Xi.Qq,8),g.KVO(Zr.up),g.KVO(e.qQ,8),g.KVO(g.zcH))};static#t=this.\u0275prov=g.jDH({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})();function li(l){return l.cloneNode(!0)}function Lo(l,a){return l+":"+a}function Oi(l){return!(!l.url||!l.options)}const Ur=new g.nKC("MAT_ICON_DEFAULT_OPTIONS"),Bs=new g.nKC("mat-icon-location",{providedIn:"root",factory:function Yi(){const l=(0,g.WQX)(e.qQ),a=l?l.location:null;return{getPathname:()=>a?a.pathname+a.search:""}}}),ea=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],Ri=ea.map(l=>`[${l}]`).join(", "),ta=/^url\(['"]?#(.*?)['"]?\)$/;let na=(()=>{class l{get color(){return this._color||this._defaultColor}set color(c){this._color=c}get svgIcon(){return this._svgIcon}set svgIcon(c){c!==this._svgIcon&&(c?this._updateSvgIcon(c):this._svgIcon&&this._clearSvgElement(),this._svgIcon=c)}get fontSet(){return this._fontSet}set fontSet(c){const h=this._cleanupFontValue(c);h!==this._fontSet&&(this._fontSet=h,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(c){const h=this._cleanupFontValue(c);h!==this._fontIcon&&(this._fontIcon=h,this._updateFontIconClasses())}constructor(c,h,b,M,u,m){this._elementRef=c,this._iconRegistry=h,this._location=M,this._errorHandler=u,this.inline=!1,this._previousFontSetClass=[],this._currentIconFetch=N.yU.EMPTY,m&&(m.color&&(this.color=this._defaultColor=m.color),m.fontSet&&(this.fontSet=m.fontSet)),b||c.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(c){if(!c)return["",""];const h=c.split(":");switch(h.length){case 1:return["",h[0]];case 2:return h;default:throw Error(`Invalid icon name: "${c}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const c=this._elementsWithExternalReferences;if(c&&c.size){const h=this._location.getPathname();h!==this._previousPath&&(this._previousPath=h,this._prependPathToReferences(h))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(c){this._clearSvgElement();const h=this._location.getPathname();this._previousPath=h,this._cacheChildrenWithExternalReferences(c),this._prependPathToReferences(h),this._elementRef.nativeElement.appendChild(c)}_clearSvgElement(){const c=this._elementRef.nativeElement;let h=c.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();h--;){const b=c.childNodes[h];(1!==b.nodeType||"svg"===b.nodeName.toLowerCase())&&b.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const c=this._elementRef.nativeElement,h=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(b=>b.length>0);this._previousFontSetClass.forEach(b=>c.classList.remove(b)),h.forEach(b=>c.classList.add(b)),this._previousFontSetClass=h,this.fontIcon!==this._previousFontIconClass&&!h.includes("mat-ligature-font")&&(this._previousFontIconClass&&c.classList.remove(this._previousFontIconClass),this.fontIcon&&c.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(c){return"string"==typeof c?c.trim().split(" ")[0]:c}_prependPathToReferences(c){const h=this._elementsWithExternalReferences;h&&h.forEach((b,M)=>{b.forEach(u=>{M.setAttribute(u.name,`url('${c}#${u.value}')`)})})}_cacheChildrenWithExternalReferences(c){const h=c.querySelectorAll(Ri),b=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let M=0;M<h.length;M++)ea.forEach(u=>{const m=h[M],p=m.getAttribute(u),F=p?p.match(ta):null;if(F){let _=b.get(m);_||(_=[],b.set(m,_)),_.push({name:u,value:F[1]})}})}_updateSvgIcon(c){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),c){const[h,b]=this._splitIconName(c);h&&(this._svgNamespace=h),b&&(this._svgName=b),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(b,h).pipe((0,_n.s)(1)).subscribe(M=>this._setSvgElement(M),M=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${h}:${b}! ${M.message}`))})}}static#e=this.\u0275fac=function(h){return new(h||l)(g.rXU(g.aKT),g.rXU(Ls),g.kS0("aria-hidden"),g.rXU(Bs),g.rXU(g.zcH),g.rXU(Ur,8))};static#t=this.\u0275cmp=g.VBU({type:l,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:10,hostBindings:function(h,b){2&h&&(g.BMQ("data-mat-icon-type",b._usingFontIcon()?"font":"svg")("data-mat-icon-name",b._svgName||b.fontIcon)("data-mat-icon-namespace",b._svgNamespace||b.fontSet)("fontIcon",b._usingFontIcon()?b.fontIcon:null),g.HbH(b.color?"mat-"+b.color:""),g.AVh("mat-icon-inline",b.inline)("mat-icon-no-color","primary"!==b.color&&"accent"!==b.color&&"warn"!==b.color))},inputs:{color:"color",inline:[2,"inline","inline",g.L39],svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],standalone:!0,features:[g.GFd,g.aNF],ngContentSelectors:Rs,decls:1,vars:0,template:function(h,b){1&h&&(g.NAR(),g.SdG(0))},styles:["mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0})}return l})(),v=(()=>{class l{static#e=this.\u0275fac=function(h){return new(h||l)};static#t=this.\u0275mod=g.$C({type:l});static#n=this.\u0275inj=g.G2t({imports:[Ft,Ft]})}return l})()},345:(je,ne,C)=>{"use strict";C.d(ne,{B7:()=>Ae,Bb:()=>Pt,W8:()=>Qt,hE:()=>jn,sG:()=>tt,up:()=>On});var g=C(177),e=C(4438);class $ extends g.VF{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class O extends ${static makeCurrent(){(0,g.ZD)(new O)}onAndCancel(K,R,V){return K.addEventListener(R,V),()=>{K.removeEventListener(R,V)}}dispatchEvent(K,R){K.dispatchEvent(R)}remove(K){K.remove()}createElement(K,R){return(R=R||this.getDefaultDocument()).createElement(K)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(K){return K.nodeType===Node.ELEMENT_NODE}isShadowRoot(K){return K instanceof DocumentFragment}getGlobalEventTarget(K,R){return"window"===R?window:"document"===R?K:"body"===R?K.body:null}getBaseHref(K){const R=function G(){return N=N||document.querySelector("base"),N?N.getAttribute("href"):null}();return null==R?null:function re(ie){return new URL(ie,document.baseURI).pathname}(R)}resetBaseElement(){N=null}getUserAgent(){return window.navigator.userAgent}getCookie(K){return(0,g._b)(document.cookie,K)}}let N=null,fe=(()=>{class ie{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(V){return new(V||ie)};static#t=this.\u0275prov=e.jDH({token:ie,factory:ie.\u0275fac})}return ie})();const ue=new e.nKC("");let X=(()=>{class ie{constructor(R,V){this._zone=V,this._eventNameToPlugin=new Map,R.forEach(ye=>{ye.manager=this}),this._plugins=R.slice().reverse()}addEventListener(R,V,ye){return this._findPluginFor(V).addEventListener(R,V,ye)}getZone(){return this._zone}_findPluginFor(R){let V=this._eventNameToPlugin.get(R);if(V)return V;if(V=this._plugins.find($e=>$e.supports(R)),!V)throw new e.wOt(5101,!1);return this._eventNameToPlugin.set(R,V),V}static#e=this.\u0275fac=function(V){return new(V||ie)(e.KVO(ue),e.KVO(e.SKi))};static#t=this.\u0275prov=e.jDH({token:ie,factory:ie.\u0275fac})}return ie})();class te{constructor(K){this._doc=K}}const Y="ng-app-id";let q=(()=>{class ie{constructor(R,V,ye,$e={}){this.doc=R,this.appId=V,this.nonce=ye,this.platformId=$e,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,g.Vy)($e),this.resetHostNodes()}addStyles(R){for(const V of R)1===this.changeUsageCount(V,1)&&this.onStyleAdded(V)}removeStyles(R){for(const V of R)this.changeUsageCount(V,-1)<=0&&this.onStyleRemoved(V)}ngOnDestroy(){const R=this.styleNodesInDOM;R&&(R.forEach(V=>V.remove()),R.clear());for(const V of this.getAllStyles())this.onStyleRemoved(V);this.resetHostNodes()}addHost(R){this.hostNodes.add(R);for(const V of this.getAllStyles())this.addStyleToHost(R,V)}removeHost(R){this.hostNodes.delete(R)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(R){for(const V of this.hostNodes)this.addStyleToHost(V,R)}onStyleRemoved(R){const V=this.styleRef;V.get(R)?.elements?.forEach(ye=>ye.remove()),V.delete(R)}collectServerRenderedStyles(){const R=this.doc.head?.querySelectorAll(`style[${Y}="${this.appId}"]`);if(R?.length){const V=new Map;return R.forEach(ye=>{null!=ye.textContent&&V.set(ye.textContent,ye)}),V}return null}changeUsageCount(R,V){const ye=this.styleRef;if(ye.has(R)){const $e=ye.get(R);return $e.usage+=V,$e.usage}return ye.set(R,{usage:V,elements:[]}),V}getStyleElement(R,V){const ye=this.styleNodesInDOM,$e=ye?.get(V);if($e?.parentNode===R)return ye.delete(V),$e.removeAttribute(Y),$e;{const Et=this.doc.createElement("style");return this.nonce&&Et.setAttribute("nonce",this.nonce),Et.textContent=V,this.platformIsServer&&Et.setAttribute(Y,this.appId),R.appendChild(Et),Et}}addStyleToHost(R,V){const ye=this.getStyleElement(R,V),$e=this.styleRef,Et=$e.get(V)?.elements;Et?Et.push(ye):$e.set(V,{elements:[ye],usage:1})}resetHostNodes(){const R=this.hostNodes;R.clear(),R.add(this.doc.head)}static#e=this.\u0275fac=function(V){return new(V||ie)(e.KVO(g.qQ),e.KVO(e.sZ2),e.KVO(e.BIS,8),e.KVO(e.Agw))};static#t=this.\u0275prov=e.jDH({token:ie,factory:ie.\u0275fac})}return ie})();const Fe={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},ee=/%COMP%/g,Q="%COMP%",me=`_nghost-${Q}`,Te=`_ngcontent-${Q}`,de=new e.nKC("",{providedIn:"root",factory:()=>!0});function Oe(ie,K){return K.map(R=>R.replace(ee,ie))}let Ae=(()=>{class ie{constructor(R,V,ye,$e,Et,ht,sn,Rn=null){this.eventManager=R,this.sharedStylesHost=V,this.appId=ye,this.removeStylesOnCompDestroy=$e,this.doc=Et,this.platformId=ht,this.ngZone=sn,this.nonce=Rn,this.rendererByCompId=new Map,this.platformIsServer=(0,g.Vy)(ht),this.defaultRenderer=new Me(R,Et,sn,this.platformIsServer)}createRenderer(R,V){if(!R||!V)return this.defaultRenderer;this.platformIsServer&&V.encapsulation===e.gXe.ShadowDom&&(V={...V,encapsulation:e.gXe.Emulated});const ye=this.getOrCreateRenderer(R,V);return ye instanceof Ye?ye.applyToHost(R):ye instanceof kt&&ye.applyStyles(),ye}getOrCreateRenderer(R,V){const ye=this.rendererByCompId;let $e=ye.get(V.id);if(!$e){const Et=this.doc,ht=this.ngZone,sn=this.eventManager,Rn=this.sharedStylesHost,Or=this.removeStylesOnCompDestroy,cr=this.platformIsServer;switch(V.encapsulation){case e.gXe.Emulated:$e=new Ye(sn,Rn,V,this.appId,Or,Et,ht,cr);break;case e.gXe.ShadowDom:return new We(sn,Rn,R,V,Et,ht,this.nonce,cr);default:$e=new kt(sn,Rn,V,Or,Et,ht,cr)}ye.set(V.id,$e)}return $e}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(V){return new(V||ie)(e.KVO(X),e.KVO(q),e.KVO(e.sZ2),e.KVO(de),e.KVO(g.qQ),e.KVO(e.Agw),e.KVO(e.SKi),e.KVO(e.BIS))};static#t=this.\u0275prov=e.jDH({token:ie,factory:ie.\u0275fac})}return ie})();class Me{constructor(K,R,V,ye){this.eventManager=K,this.doc=R,this.ngZone=V,this.platformIsServer=ye,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(K,R){return R?this.doc.createElementNS(Fe[R]||R,K):this.doc.createElement(K)}createComment(K){return this.doc.createComment(K)}createText(K){return this.doc.createTextNode(K)}appendChild(K,R){(mt(K)?K.content:K).appendChild(R)}insertBefore(K,R,V){K&&(mt(K)?K.content:K).insertBefore(R,V)}removeChild(K,R){R.remove()}selectRootElement(K,R){let V="string"==typeof K?this.doc.querySelector(K):K;if(!V)throw new e.wOt(-5104,!1);return R||(V.textContent=""),V}parentNode(K){return K.parentNode}nextSibling(K){return K.nextSibling}setAttribute(K,R,V,ye){if(ye){R=ye+":"+R;const $e=Fe[ye];$e?K.setAttributeNS($e,R,V):K.setAttribute(R,V)}else K.setAttribute(R,V)}removeAttribute(K,R,V){if(V){const ye=Fe[V];ye?K.removeAttributeNS(ye,R):K.removeAttribute(`${V}:${R}`)}else K.removeAttribute(R)}addClass(K,R){K.classList.add(R)}removeClass(K,R){K.classList.remove(R)}setStyle(K,R,V,ye){ye&(e.czy.DashCase|e.czy.Important)?K.style.setProperty(R,V,ye&e.czy.Important?"important":""):K.style[R]=V}removeStyle(K,R,V){V&e.czy.DashCase?K.style.removeProperty(R):K.style[R]=""}setProperty(K,R,V){null!=K&&(K[R]=V)}setValue(K,R){K.nodeValue=R}listen(K,R,V){if("string"==typeof K&&!(K=(0,g.QT)().getGlobalEventTarget(this.doc,K)))throw new Error(`Unsupported event target ${K} for event ${R}`);return this.eventManager.addEventListener(K,R,this.decoratePreventDefault(V))}decoratePreventDefault(K){return R=>{if("__ngUnwrap__"===R)return K;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>K(R)):K(R))&&R.preventDefault()}}}function mt(ie){return"TEMPLATE"===ie.tagName&&void 0!==ie.content}class We extends Me{constructor(K,R,V,ye,$e,Et,ht,sn){super(K,$e,Et,sn),this.sharedStylesHost=R,this.hostEl=V,this.shadowRoot=V.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Rn=Oe(ye.id,ye.styles);for(const Or of Rn){const cr=document.createElement("style");ht&&cr.setAttribute("nonce",ht),cr.textContent=Or,this.shadowRoot.appendChild(cr)}}nodeOrShadowRoot(K){return K===this.hostEl?this.shadowRoot:K}appendChild(K,R){return super.appendChild(this.nodeOrShadowRoot(K),R)}insertBefore(K,R,V){return super.insertBefore(this.nodeOrShadowRoot(K),R,V)}removeChild(K,R){return super.removeChild(null,R)}parentNode(K){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(K)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class kt extends Me{constructor(K,R,V,ye,$e,Et,ht,sn){super(K,$e,Et,ht),this.sharedStylesHost=R,this.removeStylesOnCompDestroy=ye,this.styles=sn?Oe(sn,V.styles):V.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Ye extends kt{constructor(K,R,V,ye,$e,Et,ht,sn){const Rn=ye+"-"+V.id;super(K,R,V,$e,Et,ht,sn,Rn),this.contentAttr=function oe(ie){return Te.replace(ee,ie)}(Rn),this.hostAttr=function J(ie){return me.replace(ee,ie)}(Rn)}applyToHost(K){this.applyStyles(),this.setAttribute(K,this.hostAttr,"")}createElement(K,R){const V=super.createElement(K,R);return super.setAttribute(V,this.contentAttr,""),V}}let pt=(()=>{class ie extends te{constructor(R){super(R)}supports(R){return!0}addEventListener(R,V,ye){return R.addEventListener(V,ye,!1),()=>this.removeEventListener(R,V,ye)}removeEventListener(R,V,ye){return R.removeEventListener(V,ye)}static#e=this.\u0275fac=function(V){return new(V||ie)(e.KVO(g.qQ))};static#t=this.\u0275prov=e.jDH({token:ie,factory:ie.\u0275fac})}return ie})();const ft=["alt","control","meta","shift"],Rt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Kt={alt:ie=>ie.altKey,control:ie=>ie.ctrlKey,meta:ie=>ie.metaKey,shift:ie=>ie.shiftKey};let se=(()=>{class ie extends te{constructor(R){super(R)}supports(R){return null!=ie.parseEventName(R)}addEventListener(R,V,ye){const $e=ie.parseEventName(V),Et=ie.eventCallback($e.fullKey,ye,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,g.QT)().onAndCancel(R,$e.domEventName,Et))}static parseEventName(R){const V=R.toLowerCase().split("."),ye=V.shift();if(0===V.length||"keydown"!==ye&&"keyup"!==ye)return null;const $e=ie._normalizeKey(V.pop());let Et="",ht=V.indexOf("code");if(ht>-1&&(V.splice(ht,1),Et="code."),ft.forEach(Rn=>{const Or=V.indexOf(Rn);Or>-1&&(V.splice(Or,1),Et+=Rn+".")}),Et+=$e,0!=V.length||0===$e.length)return null;const sn={};return sn.domEventName=ye,sn.fullKey=Et,sn}static matchEventFullKeyCode(R,V){let ye=Rt[R.key]||R.key,$e="";return V.indexOf("code.")>-1&&(ye=R.code,$e="code."),!(null==ye||!ye)&&(ye=ye.toLowerCase()," "===ye?ye="space":"."===ye&&(ye="dot"),ft.forEach(Et=>{Et!==ye&&(0,Kt[Et])(R)&&($e+=Et+".")}),$e+=ye,$e===V)}static eventCallback(R,V,ye){return $e=>{ie.matchEventFullKeyCode($e,R)&&ye.runGuarded(()=>V($e))}}static _normalizeKey(R){return"esc"===R?"escape":R}static#e=this.\u0275fac=function(V){return new(V||ie)(e.KVO(g.qQ))};static#t=this.\u0275prov=e.jDH({token:ie,factory:ie.\u0275fac})}return ie})();const tt=(0,e.oH4)(e.fpN,"browser",[{provide:e.Agw,useValue:g.AJ},{provide:e.PLl,useValue:function Se(){O.makeCurrent()},multi:!0},{provide:g.qQ,useFactory:function Ct(){return(0,e.TL$)(document),document},deps:[]}]),Vt=new e.nKC(""),Jt=[{provide:e.e01,useClass:class be{addToWindow(K){e.JZv.getAngularTestability=(V,ye=!0)=>{const $e=K.findTestabilityInTree(V,ye);if(null==$e)throw new e.wOt(5103,!1);return $e},e.JZv.getAllAngularTestabilities=()=>K.getAllTestabilities(),e.JZv.getAllAngularRootElements=()=>K.getAllRootElements(),e.JZv.frameworkStabilizers||(e.JZv.frameworkStabilizers=[]),e.JZv.frameworkStabilizers.push(V=>{const ye=e.JZv.getAllAngularTestabilities();let $e=ye.length;const Et=function(){$e--,0==$e&&V()};ye.forEach(ht=>{ht.whenStable(Et)})})}findTestabilityInTree(K,R,V){return null==R?null:K.getTestability(R)??(V?(0,g.QT)().isShadowRoot(R)?this.findTestabilityInTree(K,R.host,!0):this.findTestabilityInTree(K,R.parentElement,!0):null)}},deps:[]},{provide:e.WHO,useClass:e.NYb,deps:[e.SKi,e.giA,e.e01]},{provide:e.NYb,useClass:e.NYb,deps:[e.SKi,e.giA,e.e01]}],ar=[{provide:e.H8p,useValue:"root"},{provide:e.zcH,useFactory:function Qe(){return new e.zcH},deps:[]},{provide:ue,useClass:pt,multi:!0,deps:[g.qQ,e.SKi,e.Agw]},{provide:ue,useClass:se,multi:!0,deps:[g.qQ]},Ae,q,X,{provide:e._9s,useExisting:Ae},{provide:g.N0,useClass:fe,deps:[]},[]];let Pt=(()=>{class ie{constructor(R){}static withServerTransition(R){return{ngModule:ie,providers:[{provide:e.sZ2,useValue:R.appId}]}}static#e=this.\u0275fac=function(V){return new(V||ie)(e.KVO(Vt,12))};static#t=this.\u0275mod=e.$C({type:ie});static#n=this.\u0275inj=e.G2t({providers:[...ar,...Jt],imports:[g.MD,e.Hbi]})}return ie})(),Qt=(()=>{class ie{constructor(R){this._doc=R,this._dom=(0,g.QT)()}addTag(R,V=!1){return R?this._getOrCreateElement(R,V):null}addTags(R,V=!1){return R?R.reduce((ye,$e)=>($e&&ye.push(this._getOrCreateElement($e,V)),ye),[]):[]}getTag(R){return R&&this._doc.querySelector(`meta[${R}]`)||null}getTags(R){if(!R)return[];const V=this._doc.querySelectorAll(`meta[${R}]`);return V?[].slice.call(V):[]}updateTag(R,V){if(!R)return null;V=V||this._parseSelector(R);const ye=this.getTag(V);return ye?this._setMetaElementAttributes(R,ye):this._getOrCreateElement(R,!0)}removeTag(R){this.removeTagElement(this.getTag(R))}removeTagElement(R){R&&this._dom.remove(R)}_getOrCreateElement(R,V=!1){if(!V){const Et=this._parseSelector(R),ht=this.getTags(Et).filter(sn=>this._containsAttributes(R,sn))[0];if(void 0!==ht)return ht}const ye=this._dom.createElement("meta");return this._setMetaElementAttributes(R,ye),this._doc.getElementsByTagName("head")[0].appendChild(ye),ye}_setMetaElementAttributes(R,V){return Object.keys(R).forEach(ye=>V.setAttribute(this._getMetaKeyMap(ye),R[ye])),V}_parseSelector(R){const V=R.name?"name":"property";return`${V}="${R[V]}"`}_containsAttributes(R,V){return Object.keys(R).every(ye=>V.getAttribute(this._getMetaKeyMap(ye))===R[ye])}_getMetaKeyMap(R){return At[R]||R}static#e=this.\u0275fac=function(V){return new(V||ie)(e.KVO(g.qQ))};static#t=this.\u0275prov=e.jDH({token:ie,factory:ie.\u0275fac,providedIn:"root"})}return ie})();const At={httpEquiv:"http-equiv"};let jn=(()=>{class ie{constructor(R){this._doc=R}getTitle(){return this._doc.title}setTitle(R){this._doc.title=R||""}static#e=this.\u0275fac=function(V){return new(V||ie)(e.KVO(g.qQ))};static#t=this.\u0275prov=e.jDH({token:ie,factory:ie.\u0275fac,providedIn:"root"})}return ie})(),On=(()=>{class ie{static#e=this.\u0275fac=function(V){return new(V||ie)};static#t=this.\u0275prov=e.jDH({token:ie,factory:function(V){let ye=null;return ye=V?new(V||ie):e.KVO(Zt),ye},providedIn:"root"})}return ie})(),Zt=(()=>{class ie extends On{constructor(R){super(),this._doc=R}sanitize(R,V){if(null==V)return null;switch(R){case e.WPN.NONE:return V;case e.WPN.HTML:return(0,e.ZF7)(V,"HTML")?(0,e.rcV)(V):(0,e.h9k)(this._doc,String(V)).toString();case e.WPN.STYLE:return(0,e.ZF7)(V,"Style")?(0,e.rcV)(V):V;case e.WPN.SCRIPT:if((0,e.ZF7)(V,"Script"))return(0,e.rcV)(V);throw new e.wOt(5200,!1);case e.WPN.URL:return(0,e.ZF7)(V,"URL")?(0,e.rcV)(V):(0,e.$MX)(String(V));case e.WPN.RESOURCE_URL:if((0,e.ZF7)(V,"ResourceURL"))return(0,e.rcV)(V);throw new e.wOt(5201,!1);default:throw new e.wOt(5202,!1)}}bypassSecurityTrustHtml(R){return(0,e.Kcf)(R)}bypassSecurityTrustStyle(R){return(0,e.cWb)(R)}bypassSecurityTrustScript(R){return(0,e.UyX)(R)}bypassSecurityTrustUrl(R){return(0,e.osQ)(R)}bypassSecurityTrustResourceUrl(R){return(0,e.e5t)(R)}static#e=this.\u0275fac=function(V){return new(V||ie)(e.KVO(g.qQ))};static#t=this.\u0275prov=e.jDH({token:ie,factory:ie.\u0275fac,providedIn:"root"})}return ie})()},685:(je,ne,C)=>{"use strict";C.d(ne,{nX:()=>Wr,wF:()=>at,Kp:()=>dn,Ix:()=>He,Wk:()=>en,wQ:()=>wn,iI:()=>Ur,n3:()=>qs});var g=C(4438),e=C(4402),$=C(6648),O=C(7673),N=C(4412),G=C(4572),re=C(9350),be=C(8793),fe=C(1985),ue=C(8750);function X(u){return new fe.c(m=>{(0,ue.Tg)(u()).subscribe(m)})}var te=C(1203),Y=C(8810),q=C(983),Fe=C(8359),ee=C(9974),Q=C(4360);function me(){return(0,ee.N)((u,m)=>{let p=null;u._refCount++;const F=(0,Q._)(m,void 0,void 0,void 0,()=>{if(!u||u._refCount<=0||0<--u._refCount)return void(p=null);const _=u._connection,S=p;p=null,_&&(!S||_===S)&&_.unsubscribe(),m.unsubscribe()});u.subscribe(F),F.closed||(p=u.connect())})}class Te extends fe.c{constructor(m,p){super(),this.source=m,this.subjectFactory=p,this._subject=null,this._refCount=0,this._connection=null,(0,ee.S)(m)&&(this.lift=m.lift)}_subscribe(m){return this.getSubject().subscribe(m)}getSubject(){const m=this._subject;return(!m||m.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:m}=this;this._subject=this._connection=null,m?.unsubscribe()}connect(){let m=this._connection;if(!m){m=this._connection=new Fe.yU;const p=this.getSubject();m.add(this.source.subscribe((0,Q._)(p,void 0,()=>{this._teardown(),p.complete()},F=>{this._teardown(),p.error(F)},()=>this._teardown()))),m.closed&&(this._connection=null,m=Fe.yU.EMPTY)}return m}refCount(){return me()(this)}}var Ie=C(1413),de=C(177),oe=C(6354),J=C(5558),Oe=C(6697),Ae=C(9172),Me=C(5964),Ve=C(1397);function it(u){return(0,ee.N)((m,p)=>{let F=!1;m.subscribe((0,Q._)(p,_=>{F=!0,p.next(_)},()=>{F||p.next(u),p.complete()}))})}function mt(u=We){return(0,ee.N)((m,p)=>{let F=!1;m.subscribe((0,Q._)(p,_=>{F=!0,p.next(_)},()=>F?p.complete():p.error(u())))})}function We(){return new re.G}var kt=C(3669);function Ye(u,m){const p=arguments.length>=2;return F=>F.pipe(u?(0,Me.p)((_,S)=>u(_,S,F)):kt.D,(0,Oe.s)(1),p?it(m):mt(()=>new re.G))}var pt=C(274),ft=C(8141),Rt=C(9437);function ae(u){return u<=0?()=>q.w:(0,ee.N)((m,p)=>{let F=[];m.subscribe((0,Q._)(p,_=>{F.push(_),u<F.length&&F.shift()},()=>{for(const _ of F)p.next(_);p.complete()},void 0,()=>{F=null}))})}var De=C(980),Se=C(6977),Qe=C(6365),Ct=C(345);const qe="primary",tt=Symbol("RouteTitle");class Vt{constructor(m){this.params=m||{}}has(m){return Object.prototype.hasOwnProperty.call(this.params,m)}get(m){if(this.has(m)){const p=this.params[m];return Array.isArray(p)?p[0]:p}return null}getAll(m){if(this.has(m)){const p=this.params[m];return Array.isArray(p)?p:[p]}return[]}get keys(){return Object.keys(this.params)}}function Jt(u){return new Vt(u)}function ar(u,m,p){const F=p.path.split("/");if(F.length>u.length||"full"===p.pathMatch&&(m.hasChildren()||F.length<u.length))return null;const _={};for(let S=0;S<F.length;S++){const x=F[S],z=u[S];if(":"===x[0])_[x.substring(1)]=z;else if(x!==z.path)return null}return{consumed:u.slice(0,F.length),posParams:_}}function Qt(u,m){const p=u?At(u):void 0,F=m?At(m):void 0;if(!p||!F||p.length!=F.length)return!1;let _;for(let S=0;S<p.length;S++)if(_=p[S],!jn(u[_],m[_]))return!1;return!0}function At(u){return[...Object.keys(u),...Object.getOwnPropertySymbols(u)]}function jn(u,m){if(Array.isArray(u)&&Array.isArray(m)){if(u.length!==m.length)return!1;const p=[...u].sort(),F=[...m].sort();return p.every((_,S)=>F[S]===_)}return u===m}function An(u){return u.length>0?u[u.length-1]:null}function Ne(u){return(0,e.A)(u)?u:(0,g.jNT)(u)?(0,$.H)(Promise.resolve(u)):(0,O.of)(u)}const br={exact:function _r(u,m,p){if(!Zt(u.segments,m.segments)||!Kn(u.segments,m.segments,p)||u.numberOfChildren!==m.numberOfChildren)return!1;for(const F in m.children)if(!u.children[F]||!_r(u.children[F],m.children[F],p))return!1;return!0},subset:gt},Hr={exact:function yi(u,m){return Qt(u,m)},subset:function xt(u,m){return Object.keys(m).length<=Object.keys(u).length&&Object.keys(m).every(p=>jn(u[p],m[p]))},ignored:()=>!0};function jr(u,m,p){return br[p.paths](u.root,m.root,p.matrixParams)&&Hr[p.queryParams](u.queryParams,m.queryParams)&&!("exact"===p.fragment&&u.fragment!==m.fragment)}function gt(u,m,p){return $r(u,m,m.segments,p)}function $r(u,m,p,F){if(u.segments.length>p.length){const _=u.segments.slice(0,p.length);return!(!Zt(_,p)||m.hasChildren()||!Kn(_,p,F))}if(u.segments.length===p.length){if(!Zt(u.segments,p)||!Kn(u.segments,p,F))return!1;for(const _ in m.children)if(!u.children[_]||!gt(u.children[_],m.children[_],F))return!1;return!0}{const _=p.slice(0,u.segments.length),S=p.slice(u.segments.length);return!!(Zt(u.segments,_)&&Kn(u.segments,_,F)&&u.children[qe])&&$r(u.children[qe],m,S,F)}}function Kn(u,m,p){return m.every((F,_)=>Hr[p](u[_].parameters,F.parameters))}class mn{constructor(m=new jt([],{}),p={},F=null){this.root=m,this.queryParams=p,this.fragment=F}get queryParamMap(){return this._queryParamMap??=Jt(this.queryParams),this._queryParamMap}toString(){return ct.serialize(this)}}class jt{constructor(m,p){this.segments=m,this.children=p,this.parent=null,Object.values(p).forEach(F=>F.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return no(this)}}class yn{constructor(m,p){this.path=m,this.parameters=p}get parameterMap(){return this._parameterMap??=Jt(this.parameters),this._parameterMap}toString(){return V(this)}}function Zt(u,m){return u.length===m.length&&u.every((p,F)=>p.path===m[F].path)}let _t=(()=>{class u{static#e=this.\u0275fac=function(F){return new(F||u)};static#t=this.\u0275prov=g.jDH({token:u,factory:()=>new Ar,providedIn:"root"})}return u})();class Ar{parse(m){const p=new Cs(m);return new mn(p.parseRootSegment(),p.parseQueryParams(),p.parseFragment())}serialize(m){const p=`/${Wt(m.root,!0)}`,F=function $e(u){const m=Object.entries(u).map(([p,F])=>Array.isArray(F)?F.map(_=>`${ro(p)}=${ro(_)}`).join("&"):`${ro(p)}=${ro(F)}`).filter(p=>p);return m.length?`?${m.join("&")}`:""}(m.queryParams);return`${p}${F}${"string"==typeof m.fragment?`#${function nr(u){return encodeURI(u)}(m.fragment)}`:""}`}}const ct=new Ar;function no(u){return u.segments.map(m=>V(m)).join("/")}function Wt(u,m){if(!u.hasChildren())return no(u);if(m){const p=u.children[qe]?Wt(u.children[qe],!1):"",F=[];return Object.entries(u.children).forEach(([_,S])=>{_!==qe&&F.push(`${_}:${Wt(S,!1)}`)}),F.length>0?`${p}(${F.join("//")})`:p}{const p=function Ht(u,m){let p=[];return Object.entries(u.children).forEach(([F,_])=>{F===qe&&(p=p.concat(m(_,F)))}),Object.entries(u.children).forEach(([F,_])=>{F!==qe&&(p=p.concat(m(_,F)))}),p}(u,(F,_)=>_===qe?[Wt(u.children[qe],!1)]:[`${_}:${Wt(F,!1)}`]);return 1===Object.keys(u.children).length&&null!=u.children[qe]?`${no(u)}/${p[0]}`:`${no(u)}/(${p.join("//")})`}}function zr(u){return encodeURIComponent(u).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ro(u){return zr(u).replace(/%3B/gi,";")}function ie(u){return zr(u).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function K(u){return decodeURIComponent(u)}function R(u){return K(u.replace(/\+/g,"%20"))}function V(u){return`${ie(u.path)}${function ye(u){return Object.entries(u).map(([m,p])=>`;${ie(m)}=${ie(p)}`).join("")}(u.parameters)}`}const Et=/^[^\/()?;#]+/;function ht(u){const m=u.match(Et);return m?m[0]:""}const sn=/^[^\/()?;=#]+/,Or=/^[^=?&#]+/,vo=/^[^&#]+/;class Cs{constructor(m){this.url=m,this.remaining=m}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new jt([],{}):new jt([],this.parseChildren())}parseQueryParams(){const m={};if(this.consumeOptional("?"))do{this.parseQueryParam(m)}while(this.consumeOptional("&"));return m}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const m=[];for(this.peekStartsWith("(")||m.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),m.push(this.parseSegment());let p={};this.peekStartsWith("/(")&&(this.capture("/"),p=this.parseParens(!0));let F={};return this.peekStartsWith("(")&&(F=this.parseParens(!1)),(m.length>0||Object.keys(p).length>0)&&(F[qe]=new jt(m,p)),F}parseSegment(){const m=ht(this.remaining);if(""===m&&this.peekStartsWith(";"))throw new g.wOt(4009,!1);return this.capture(m),new yn(K(m),this.parseMatrixParams())}parseMatrixParams(){const m={};for(;this.consumeOptional(";");)this.parseParam(m);return m}parseParam(m){const p=function Rn(u){const m=u.match(sn);return m?m[0]:""}(this.remaining);if(!p)return;this.capture(p);let F="";if(this.consumeOptional("=")){const _=ht(this.remaining);_&&(F=_,this.capture(F))}m[K(p)]=K(F)}parseQueryParam(m){const p=function cr(u){const m=u.match(Or);return m?m[0]:""}(this.remaining);if(!p)return;this.capture(p);let F="";if(this.consumeOptional("=")){const x=function $i(u){const m=u.match(vo);return m?m[0]:""}(this.remaining);x&&(F=x,this.capture(F))}const _=R(p),S=R(F);if(m.hasOwnProperty(_)){let x=m[_];Array.isArray(x)||(x=[x],m[_]=x),x.push(S)}else m[_]=S}parseParens(m){const p={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const F=ht(this.remaining),_=this.remaining[F.length];if("/"!==_&&")"!==_&&";"!==_)throw new g.wOt(4010,!1);let S;F.indexOf(":")>-1?(S=F.slice(0,F.indexOf(":")),this.capture(S),this.capture(":")):m&&(S=qe);const x=this.parseChildren();p[S]=1===Object.keys(x).length?x[qe]:new jt([],x),this.consumeOptional("//")}return p}peekStartsWith(m){return this.remaining.startsWith(m)}consumeOptional(m){return!!this.peekStartsWith(m)&&(this.remaining=this.remaining.substring(m.length),!0)}capture(m){if(!this.consumeOptional(m))throw new g.wOt(4011,!1)}}function bo(u){return u.segments.length>0?new jt([],{[qe]:u}):u}function kn(u){const m={};for(const[F,_]of Object.entries(u.children)){const S=kn(_);if(F===qe&&0===S.segments.length&&S.hasChildren())for(const[x,z]of Object.entries(S.children))m[x]=z;else(S.segments.length>0||S.hasChildren())&&(m[F]=S)}return function rt(u){if(1===u.numberOfChildren&&u.children[qe]){const m=u.children[qe];return new jt(u.segments.concat(m.segments),m.children)}return u}(new jt(u.segments,m))}function lr(u){return u instanceof mn}function ur(u){let m;const _=bo(function p(S){const x={};for(const U of S.children){const Ee=p(U);x[U.outlet]=Ee}const z=new jt(S.url,x);return S===u&&(m=z),z}(u.root));return m??_}function zo(u,m,p,F){let _=u;for(;_.parent;)_=_.parent;if(0===m.length)return _o(_,_,_,p,F);const S=function kr(u){if("string"==typeof u[0]&&1===u.length&&"/"===u[0])return new Nn(!0,0,u);let m=0,p=!1;const F=u.reduce((_,S,x)=>{if("object"==typeof S&&null!=S){if(S.outlets){const z={};return Object.entries(S.outlets).forEach(([U,Ee])=>{z[U]="string"==typeof Ee?Ee.split("/"):Ee}),[..._,{outlets:z}]}if(S.segmentPath)return[..._,S.segmentPath]}return"string"!=typeof S?[..._,S]:0===x?(S.split("/").forEach((z,U)=>{0==U&&"."===z||(0==U&&""===z?p=!0:".."===z?m++:""!=z&&_.push(z))}),_):[..._,S]},[]);return new Nn(p,m,F)}(m);if(S.toRoot())return _o(_,_,new jt([],{}),p,F);const x=function Ds(u,m,p){if(u.isAbsolute)return new dr(m,!0,0);if(!p)return new dr(m,!1,NaN);if(null===p.parent)return new dr(p,!0,0);const F=wr(u.commands[0])?0:1;return function wo(u,m,p){let F=u,_=m,S=p;for(;S>_;){if(S-=_,F=F.parent,!F)throw new g.wOt(4005,!1);_=F.segments.length}return new dr(F,!1,_-S)}(p,p.segments.length-1+F,u.numberOfDoubleDots)}(S,_,u),z=x.processChildren?so(x.segmentGroup,x.index,S.commands):Cr(x.segmentGroup,x.index,S.commands);return _o(_,x.segmentGroup,z,p,F)}function wr(u){return"object"==typeof u&&null!=u&&!u.outlets&&!u.segmentPath}function Ot(u){return"object"==typeof u&&null!=u&&u.outlets}function _o(u,m,p,F,_){let x,S={};F&&Object.entries(F).forEach(([U,Ee])=>{S[U]=Array.isArray(Ee)?Ee.map(Le=>`${Le}`):`${Ee}`}),x=u===m?p:oo(u,m,p);const z=bo(kn(x));return new mn(z,S,_)}function oo(u,m,p){const F={};return Object.entries(u.children).forEach(([_,S])=>{F[_]=S===m?p:oo(S,m,p)}),new jt(u.segments,F)}class Nn{constructor(m,p,F){if(this.isAbsolute=m,this.numberOfDoubleDots=p,this.commands=F,m&&F.length>0&&wr(F[0]))throw new g.wOt(4003,!1);const _=F.find(Ot);if(_&&_!==An(F))throw new g.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class dr{constructor(m,p,F){this.segmentGroup=m,this.processChildren=p,this.index=F}}function Cr(u,m,p){if(u??=new jt([],{}),0===u.segments.length&&u.hasChildren())return so(u,m,p);const F=function as(u,m,p){let F=0,_=m;const S={match:!1,pathIndex:0,commandIndex:0};for(;_<u.segments.length;){if(F>=p.length)return S;const x=u.segments[_],z=p[F];if(Ot(z))break;const U=`${z}`,Ee=F<p.length-1?p[F+1]:null;if(_>0&&void 0===U)break;if(U&&Ee&&"object"==typeof Ee&&void 0===Ee.outlets){if(!B(U,Ee,x))return S;F+=2}else{if(!B(U,{},x))return S;F++}_++}return{match:!0,pathIndex:_,commandIndex:F}}(u,m,p),_=p.slice(F.commandIndex);if(F.match&&F.pathIndex<u.segments.length){const S=new jt(u.segments.slice(0,F.pathIndex),{});return S.children[qe]=new jt(u.segments.slice(F.pathIndex),u.children),so(S,0,_)}return F.match&&0===_.length?new jt(u.segments,{}):F.match&&!u.hasChildren()?ut(u,m,p):F.match?so(u,0,_):ut(u,m,p)}function so(u,m,p){if(0===p.length)return new jt(u.segments,{});{const F=function ko(u){return Ot(u[0])?u[0].outlets:{[qe]:u}}(p),_={};if(Object.keys(F).some(S=>S!==qe)&&u.children[qe]&&1===u.numberOfChildren&&0===u.children[qe].segments.length){const S=so(u.children[qe],m,p);return new jt(u.segments,S.children)}return Object.entries(F).forEach(([S,x])=>{"string"==typeof x&&(x=[x]),null!==x&&(_[S]=Cr(u.children[S],m,x))}),Object.entries(u.children).forEach(([S,x])=>{void 0===F[S]&&(_[S]=x)}),new jt(u.segments,_)}}function ut(u,m,p){const F=u.segments.slice(0,m);let _=0;for(;_<p.length;){const S=p[_];if(Ot(S)){const U=A(S.outlets);return new jt(F,U)}if(0===_&&wr(p[0])){F.push(new yn(u.segments[m].path,H(p[0]))),_++;continue}const x=Ot(S)?S.outlets[qe]:`${S}`,z=_<p.length-1?p[_+1]:null;x&&z&&wr(z)?(F.push(new yn(x,H(z))),_+=2):(F.push(new yn(x,{})),_++)}return new jt(F,{})}function A(u){const m={};return Object.entries(u).forEach(([p,F])=>{"string"==typeof F&&(F=[F]),null!==F&&(m[p]=ut(new jt([],{}),0,F))}),m}function H(u){const m={};return Object.entries(u).forEach(([p,F])=>m[p]=`${F}`),m}function B(u,m,p){return u==p.path&&Qt(m,p.parameters)}const ce="imperative";var pe=function(u){return u[u.NavigationStart=0]="NavigationStart",u[u.NavigationEnd=1]="NavigationEnd",u[u.NavigationCancel=2]="NavigationCancel",u[u.NavigationError=3]="NavigationError",u[u.RoutesRecognized=4]="RoutesRecognized",u[u.ResolveStart=5]="ResolveStart",u[u.ResolveEnd=6]="ResolveEnd",u[u.GuardsCheckStart=7]="GuardsCheckStart",u[u.GuardsCheckEnd=8]="GuardsCheckEnd",u[u.RouteConfigLoadStart=9]="RouteConfigLoadStart",u[u.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",u[u.ChildActivationStart=11]="ChildActivationStart",u[u.ChildActivationEnd=12]="ChildActivationEnd",u[u.ActivationStart=13]="ActivationStart",u[u.ActivationEnd=14]="ActivationEnd",u[u.Scroll=15]="Scroll",u[u.NavigationSkipped=16]="NavigationSkipped",u}(pe||{});class xe{constructor(m,p){this.id=m,this.url=p}}class Pe extends xe{constructor(m,p,F="imperative",_=null){super(m,p),this.type=pe.NavigationStart,this.navigationTrigger=F,this.restoredState=_}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class at extends xe{constructor(m,p,F){super(m,p),this.urlAfterRedirects=F,this.type=pe.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var Je=function(u){return u[u.Redirect=0]="Redirect",u[u.SupersededByNewNavigation=1]="SupersededByNewNavigation",u[u.NoDataFromResolver=2]="NoDataFromResolver",u[u.GuardRejected=3]="GuardRejected",u}(Je||{}),tn=function(u){return u[u.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",u[u.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",u}(tn||{});class cn extends xe{constructor(m,p,F,_){super(m,p),this.reason=F,this.code=_,this.type=pe.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class $t extends xe{constructor(m,p,F,_){super(m,p),this.reason=F,this.code=_,this.type=pe.NavigationSkipped}}class an extends xe{constructor(m,p,F,_){super(m,p),this.error=F,this.target=_,this.type=pe.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class nn extends xe{constructor(m,p,F,_){super(m,p),this.urlAfterRedirects=F,this.state=_,this.type=pe.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class bn extends xe{constructor(m,p,F,_){super(m,p),this.urlAfterRedirects=F,this.state=_,this.type=pe.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Mt extends xe{constructor(m,p,F,_,S){super(m,p),this.urlAfterRedirects=F,this.state=_,this.shouldActivate=S,this.type=pe.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Dt extends xe{constructor(m,p,F,_){super(m,p),this.urlAfterRedirects=F,this.state=_,this.type=pe.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class _n extends xe{constructor(m,p,F,_){super(m,p),this.urlAfterRedirects=F,this.state=_,this.type=pe.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ot{constructor(m){this.route=m,this.type=pe.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Ke{constructor(m){this.route=m,this.type=pe.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Dr{constructor(m){this.snapshot=m,this.type=pe.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Co{constructor(m){this.snapshot=m,this.type=pe.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Rr{constructor(m){this.snapshot=m,this.type=pe.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Wo{constructor(m){this.snapshot=m,this.type=pe.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class cs{constructor(m,p,F){this.routerEvent=m,this.position=p,this.anchor=F,this.type=pe.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Go{}class wt{constructor(m,p){this.url=m,this.navigationBehaviorOptions=p}}function rr(u){return u.outlet||qe}function Do(u){if(!u)return null;if(u.routeConfig?._injector)return u.routeConfig._injector;for(let m=u.parent;m;m=m.parent){const p=m.routeConfig;if(p?._loadedInjector)return p._loadedInjector;if(p?._injector)return p._injector}return null}class Nr{get injector(){return Do(this.route?.snapshot)??this.rootInjector}set injector(m){}constructor(m){this.rootInjector=m,this.outlet=null,this.route=null,this.children=new io(this.rootInjector),this.attachRef=null}}let io=(()=>{class u{constructor(p){this.rootInjector=p,this.contexts=new Map}onChildOutletCreated(p,F){const _=this.getOrCreateContext(p);_.outlet=F,this.contexts.set(p,_)}onChildOutletDestroyed(p){const F=this.getContext(p);F&&(F.outlet=null,F.attachRef=null)}onOutletDeactivated(){const p=this.contexts;return this.contexts=new Map,p}onOutletReAttached(p){this.contexts=p}getOrCreateContext(p){let F=this.getContext(p);return F||(F=new Nr(this.rootInjector),this.contexts.set(p,F)),F}getContext(p){return this.contexts.get(p)||null}static#e=this.\u0275fac=function(F){return new(F||u)(g.KVO(g.uvJ))};static#t=this.\u0275prov=g.jDH({token:u,factory:u.\u0275fac,providedIn:"root"})}return u})();class pr{constructor(m){this._root=m}get root(){return this._root.value}parent(m){const p=this.pathFromRoot(m);return p.length>1?p[p.length-2]:null}children(m){const p=ds(m,this._root);return p?p.children.map(F=>F.value):[]}firstChild(m){const p=ds(m,this._root);return p&&p.children.length>0?p.children[0].value:null}siblings(m){const p=En(m,this._root);return p.length<2?[]:p[p.length-2].children.map(_=>_.value).filter(_=>_!==m)}pathFromRoot(m){return En(m,this._root).map(p=>p.value)}}function ds(u,m){if(u===m.value)return m;for(const p of m.children){const F=ds(u,p);if(F)return F}return null}function En(u,m){if(u===m.value)return[m];for(const p of m.children){const F=En(u,p);if(F.length)return F.unshift(m),F}return[]}class Ir{constructor(m,p){this.value=m,this.children=p}toString(){return`TreeNode(${this.value})`}}function Ze(u){const m={};return u&&u.children.forEach(p=>m[p.value.outlet]=p),m}class ao extends pr{constructor(m,p){super(m),this.snapshot=p,Jo(this,m)}toString(){return this.snapshot.toString()}}function Io(u){const m=function ps(u){const S=new hs([],{},{},"",{},qe,u,null,{});return new wi("",new Ir(S,[]))}(u),p=new N.t([new yn("",{})]),F=new N.t({}),_=new N.t({}),S=new N.t({}),x=new N.t(""),z=new Wr(p,F,S,x,_,qe,u,m.root);return z.snapshot=m.root,new ao(new Ir(z,[]),m)}class Wr{constructor(m,p,F,_,S,x,z,U){this.urlSubject=m,this.paramsSubject=p,this.queryParamsSubject=F,this.fragmentSubject=_,this.dataSubject=S,this.outlet=x,this.component=z,this._futureSnapshot=U,this.title=this.dataSubject?.pipe((0,oe.T)(Ee=>Ee[tt]))??(0,O.of)(void 0),this.url=m,this.params=p,this.queryParams=F,this.fragment=_,this.data=S}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe((0,oe.T)(m=>Jt(m))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe((0,oe.T)(m=>Jt(m))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Ko(u,m,p="emptyOnly"){let F;const{routeConfig:_}=u;return F=null===m||"always"!==p&&""!==_?.path&&(m.component||m.routeConfig?.loadComponent)?{params:{...u.params},data:{...u.data},resolve:{...u.data,...u._resolvedData??{}}}:{params:{...m.params,...u.params},data:{...m.data,...u.data},resolve:{...u.data,...m.data,..._?.data,...u._resolvedData}},_&&Tr(_)&&(F.resolve[tt]=_.title),F}class hs{get title(){return this.data?.[tt]}constructor(m,p,F,_,S,x,z,U,Ee){this.url=m,this.params=p,this.queryParams=F,this.fragment=_,this.data=S,this.outlet=x,this.component=z,this.routeConfig=U,this._resolve=Ee}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Jt(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Jt(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(F=>F.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class wi extends pr{constructor(m,p){super(p),this.url=m,Jo(this,p)}toString(){return ki(this._root)}}function Jo(u,m){m.value._routerState=u,m.children.forEach(p=>Jo(u,p))}function ki(u){const m=u.children.length>0?` { ${u.children.map(ki).join(", ")} } `:"";return`${u.value}${m}`}function To(u){if(u.snapshot){const m=u.snapshot,p=u._futureSnapshot;u.snapshot=p,Qt(m.queryParams,p.queryParams)||u.queryParamsSubject.next(p.queryParams),m.fragment!==p.fragment&&u.fragmentSubject.next(p.fragment),Qt(m.params,p.params)||u.paramsSubject.next(p.params),function Pt(u,m){if(u.length!==m.length)return!1;for(let p=0;p<u.length;++p)if(!Qt(u[p],m[p]))return!1;return!0}(m.url,p.url)||u.urlSubject.next(p.url),Qt(m.data,p.data)||u.dataSubject.next(p.data)}else u.snapshot=u._futureSnapshot,u.dataSubject.next(u._futureSnapshot.data)}function Ts(u,m){const p=Qt(u.params,m.params)&&function On(u,m){return Zt(u,m)&&u.every((p,F)=>Qt(p.parameters,m[F].parameters))}(u.url,m.url);return p&&!(!u.parent!=!m.parent)&&(!u.parent||Ts(u.parent,m.parent))}function Tr(u){return"string"==typeof u.title||null===u.title}let qs=(()=>{class u{constructor(){this.activated=null,this._activatedRoute=null,this.name=qe,this.activateEvents=new g.bkB,this.deactivateEvents=new g.bkB,this.attachEvents=new g.bkB,this.detachEvents=new g.bkB,this.parentContexts=(0,g.WQX)(io),this.location=(0,g.WQX)(g.c1b),this.changeDetector=(0,g.WQX)(g.gRc),this.inputBinder=(0,g.WQX)(Pr,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(p){if(p.name){const{firstChange:F,previousValue:_}=p.name;if(F)return;this.isTrackedInParentContexts(_)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(_)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(p){return this.parentContexts.getContext(p)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const p=this.parentContexts.getContext(this.name);p?.route&&(p.attachRef?this.attach(p.attachRef,p.route):this.activateWith(p.route,p.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new g.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new g.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new g.wOt(4012,!1);this.location.detach();const p=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(p.instance),p}attach(p,F){this.activated=p,this._activatedRoute=F,this.location.insert(p.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(p.instance)}deactivate(){if(this.activated){const p=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(p)}}activateWith(p,F){if(this.isActivated)throw new g.wOt(4013,!1);this._activatedRoute=p;const _=this.location,x=p.snapshot.component,z=this.parentContexts.getOrCreateContext(this.name).children,U=new Dn(p,z,_.injector);this.activated=_.createComponent(x,{index:_.length,injector:U,environmentInjector:F}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(F){return new(F||u)};static#t=this.\u0275dir=g.FsC({type:u,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[g.OA$]})}return u})();class Dn{__ngOutletInjector(m){return new Dn(this.route,this.childContexts,m)}constructor(m,p,F){this.route=m,this.childContexts=p,this.parent=F}get(m,p){return m===Wr?this.route:m===io?this.childContexts:this.parent.get(m,p)}}const Pr=new g.nKC("");let Ms=(()=>{class u{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(p){this.unsubscribeFromRouteData(p),this.subscribeToRouteData(p)}unsubscribeFromRouteData(p){this.outletDataSubscriptions.get(p)?.unsubscribe(),this.outletDataSubscriptions.delete(p)}subscribeToRouteData(p){const{activatedRoute:F}=p,_=(0,G.z)([F.queryParams,F.params,F.data]).pipe((0,J.n)(([S,x,z],U)=>(z={...S,...x,...z},0===U?(0,O.of)(z):Promise.resolve(z)))).subscribe(S=>{if(!p.isActivated||!p.activatedComponentRef||p.activatedRoute!==F||null===F.component)return void this.unsubscribeFromRouteData(p);const x=(0,g.HJs)(F.component);if(x)for(const{templateName:z}of x.inputs)p.activatedComponentRef.setInput(z,S[z]);else this.unsubscribeFromRouteData(p)});this.outletDataSubscriptions.set(p,_)}static#e=this.\u0275fac=function(F){return new(F||u)};static#t=this.\u0275prov=g.jDH({token:u,factory:u.\u0275fac})}return u})();function co(u,m,p){if(p&&u.shouldReuseRoute(m.value,p.value.snapshot)){const F=p.value;F._futureSnapshot=m.value;const _=function Mo(u,m,p){return m.children.map(F=>{for(const _ of p.children)if(u.shouldReuseRoute(F.value,_.value.snapshot))return co(u,F,_);return co(u,F)})}(u,m,p);return new Ir(F,_)}{if(u.shouldAttach(m.value)){const S=u.retrieve(m.value);if(null!==S){const x=S.route;return x.value._futureSnapshot=m.value,x.children=m.children.map(z=>co(u,z)),x}}const F=function Ci(u){return new Wr(new N.t(u.url),new N.t(u.params),new N.t(u.queryParams),new N.t(u.fragment),new N.t(u.data),u.outlet,u.component,u)}(m.value),_=m.children.map(S=>co(u,S));return new Ir(F,_)}}class Ks{constructor(m,p){this.redirectTo=m,this.navigationBehaviorOptions=p}}const Mr="ngNavigationCancelingError";function Pn(u,m){const{redirectTo:p,navigationBehaviorOptions:F}=lr(m)?{redirectTo:m,navigationBehaviorOptions:void 0}:m,_=So(!1,Je.Redirect);return _.url=p,_.navigationBehaviorOptions=F,_}function So(u,m){const p=new Error(`NavigationCancelingError: ${u||""}`);return p[Mr]=!0,p.cancellationCode=m,p}function zi(u){return!!u&&u[Mr]}class Lt{constructor(m,p,F,_,S){this.routeReuseStrategy=m,this.futureState=p,this.currState=F,this.forwardEvent=_,this.inputBindingEnabled=S}activate(m){const p=this.futureState._root,F=this.currState?this.currState._root:null;this.deactivateChildRoutes(p,F,m),To(this.futureState.root),this.activateChildRoutes(p,F,m)}deactivateChildRoutes(m,p,F){const _=Ze(p);m.children.forEach(S=>{const x=S.value.outlet;this.deactivateRoutes(S,_[x],F),delete _[x]}),Object.values(_).forEach(S=>{this.deactivateRouteAndItsChildren(S,F)})}deactivateRoutes(m,p,F){const _=m.value,S=p?p.value:null;if(_===S)if(_.component){const x=F.getContext(_.outlet);x&&this.deactivateChildRoutes(m,p,x.children)}else this.deactivateChildRoutes(m,p,F);else S&&this.deactivateRouteAndItsChildren(p,F)}deactivateRouteAndItsChildren(m,p){m.value.component&&this.routeReuseStrategy.shouldDetach(m.value.snapshot)?this.detachAndStoreRouteSubtree(m,p):this.deactivateRouteAndOutlet(m,p)}detachAndStoreRouteSubtree(m,p){const F=p.getContext(m.value.outlet),_=F&&m.value.component?F.children:p,S=Ze(m);for(const x of Object.values(S))this.deactivateRouteAndItsChildren(x,_);if(F&&F.outlet){const x=F.outlet.detach(),z=F.children.onOutletDeactivated();this.routeReuseStrategy.store(m.value.snapshot,{componentRef:x,route:m,contexts:z})}}deactivateRouteAndOutlet(m,p){const F=p.getContext(m.value.outlet),_=F&&m.value.component?F.children:p,S=Ze(m);for(const x of Object.values(S))this.deactivateRouteAndItsChildren(x,_);F&&(F.outlet&&(F.outlet.deactivate(),F.children.onOutletDeactivated()),F.attachRef=null,F.route=null)}activateChildRoutes(m,p,F){const _=Ze(p);m.children.forEach(S=>{this.activateRoutes(S,_[S.value.outlet],F),this.forwardEvent(new Wo(S.value.snapshot))}),m.children.length&&this.forwardEvent(new Co(m.value.snapshot))}activateRoutes(m,p,F){const _=m.value,S=p?p.value:null;if(To(_),_===S)if(_.component){const x=F.getOrCreateContext(_.outlet);this.activateChildRoutes(m,p,x.children)}else this.activateChildRoutes(m,p,F);else if(_.component){const x=F.getOrCreateContext(_.outlet);if(this.routeReuseStrategy.shouldAttach(_.snapshot)){const z=this.routeReuseStrategy.retrieve(_.snapshot);this.routeReuseStrategy.store(_.snapshot,null),x.children.onOutletReAttached(z.contexts),x.attachRef=z.componentRef,x.route=z.route.value,x.outlet&&x.outlet.attach(z.componentRef,z.route.value),To(z.route.value),this.activateChildRoutes(m,null,x.children)}else x.attachRef=null,x.route=_,x.outlet&&x.outlet.activateWith(_,x.injector),this.activateChildRoutes(m,null,x.children)}else this.activateChildRoutes(m,null,F)}}class Lr{constructor(m){this.path=m,this.route=this.path[this.path.length-1]}}class lo{constructor(m,p){this.component=m,this.route=p}}function xs(u,m,p){const F=u._root;return fr(F,m?m._root:null,p,[F.value])}function Gr(u,m){const p=Symbol(),F=m.get(u,p);return F===p?"function"!=typeof u||(0,g.LfX)(u)?m.get(u):u:F}function fr(u,m,p,F,_={canDeactivateChecks:[],canActivateChecks:[]}){const S=Ze(m);return u.children.forEach(x=>{(function In(u,m,p,F,_={canDeactivateChecks:[],canActivateChecks:[]}){const S=u.value,x=m?m.value:null,z=p?p.getContext(u.value.outlet):null;if(x&&S.routeConfig===x.routeConfig){const U=function or(u,m,p){if("function"==typeof p)return p(u,m);switch(p){case"pathParamsChange":return!Zt(u.url,m.url);case"pathParamsOrQueryParamsChange":return!Zt(u.url,m.url)||!Qt(u.queryParams,m.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ts(u,m)||!Qt(u.queryParams,m.queryParams);default:return!Ts(u,m)}}(x,S,S.routeConfig.runGuardsAndResolvers);U?_.canActivateChecks.push(new Lr(F)):(S.data=x.data,S._resolvedData=x._resolvedData),fr(u,m,S.component?z?z.children:null:p,F,_),U&&z&&z.outlet&&z.outlet.isActivated&&_.canDeactivateChecks.push(new lo(z.outlet.component,x))}else x&&qr(m,z,_),_.canActivateChecks.push(new Lr(F)),fr(u,null,S.component?z?z.children:null:p,F,_)})(x,S[x.value.outlet],p,F.concat([x.value]),_),delete S[x.value.outlet]}),Object.entries(S).forEach(([x,z])=>qr(z,p.getContext(x),_)),_}function qr(u,m,p){const F=Ze(u),_=u.value;Object.entries(F).forEach(([S,x])=>{qr(x,_.component?m?m.children.getContext(S):null:m,p)}),p.canDeactivateChecks.push(new lo(_.component&&m&&m.outlet&&m.outlet.isActivated?m.outlet.component:null,_))}function jo(u){return"function"==typeof u}function js(u){return u instanceof re.G||"EmptyError"===u?.name}const Gt=Symbol("INITIAL_VALUE");function zn(){return(0,J.n)(u=>(0,G.z)(u.map(m=>m.pipe((0,Oe.s)(1),(0,Ae.Z)(Gt)))).pipe((0,oe.T)(m=>{for(const p of m)if(!0!==p){if(p===Gt)return Gt;if(!1===p||Qs(p))return p}return!0}),(0,Me.p)(m=>m!==Gt),(0,Oe.s)(1)))}function Qs(u){return lr(u)||u instanceof Ks}function Sr(u){return(0,te.F)((0,ft.M)(m=>{if("boolean"!=typeof m)throw Pn(0,m)}),(0,oe.T)(m=>!0===m))}class gs{constructor(m){this.segmentGroup=m||null}}class uo extends Error{constructor(m){super(),this.urlTree=m}}function mr(u){return(0,Y.$)(new gs(u))}class Tn{constructor(m,p){this.urlSerializer=m,this.urlTree=p}lineralizeSegments(m,p){let F=[],_=p.root;for(;;){if(F=F.concat(_.segments),0===_.numberOfChildren)return(0,O.of)(F);if(_.numberOfChildren>1||!_.children[qe])return(0,Y.$)(new g.wOt(4e3,!1));_=_.children[qe]}}applyRedirectCommands(m,p,F,_,S){if("string"!=typeof p){const z=p,{queryParams:U,fragment:Ee,routeConfig:Le,url:ze,outlet:dt,params:rn,data:Sn,title:Gn}=_,gn=(0,g.N4e)(S,()=>z({params:rn,data:Sn,queryParams:U,fragment:Ee,routeConfig:Le,url:ze,outlet:dt,title:Gn}));if(gn instanceof mn)throw new uo(gn);p=gn}const x=this.applyRedirectCreateUrlTree(p,this.urlSerializer.parse(p),m,F);if("/"===p[0])throw new uo(x);return x}applyRedirectCreateUrlTree(m,p,F,_){const S=this.createSegmentGroup(m,p.root,F,_);return new mn(S,this.createQueryParams(p.queryParams,this.urlTree.queryParams),p.fragment)}createQueryParams(m,p){const F={};return Object.entries(m).forEach(([_,S])=>{if("string"==typeof S&&":"===S[0]){const z=S.substring(1);F[_]=p[z]}else F[_]=S}),F}createSegmentGroup(m,p,F,_){const S=this.createSegments(m,p.segments,F,_);let x={};return Object.entries(p.children).forEach(([z,U])=>{x[z]=this.createSegmentGroup(m,U,F,_)}),new jt(S,x)}createSegments(m,p,F,_){return p.map(S=>":"===S.path[0]?this.findPosParam(m,S,_):this.findOrReturn(S,F))}findPosParam(m,p,F){const _=F[p.path.substring(1)];if(!_)throw new g.wOt(4001,!1);return _}findOrReturn(m,p){let F=0;for(const _ of p){if(_.path===m.path)return p.splice(F),_;F++}return m}}const Bn={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Xo(u,m,p,F,_){const S=yt(u,m,p);return S.matched?(F=function Ei(u,m){return u.providers&&!u._injector&&(u._injector=(0,g.Ol2)(u.providers,m,`Route: ${u.path}`)),u._injector??m}(m,F),function Ki(u,m,p,F){const _=m.canMatch;if(!_||0===_.length)return(0,O.of)(!0);const S=_.map(x=>{const z=Gr(x,u);return Ne(function Kr(u){return u&&jo(u.canMatch)}(z)?z.canMatch(m,p):(0,g.N4e)(u,()=>z(m,p)))});return(0,O.of)(S).pipe(zn(),Sr())}(F,m,p).pipe((0,oe.T)(x=>!0===x?S:{...Bn}))):(0,O.of)(S)}function yt(u,m,p){if("**"===m.path)return function As(u){return{matched:!0,parameters:u.length>0?An(u).parameters:{},consumedSegments:u,remainingSegments:[],positionalParamSegments:{}}}(p);if(""===m.path)return"full"===m.pathMatch&&(u.hasChildren()||p.length>0)?{...Bn}:{matched:!0,consumedSegments:[],remainingSegments:p,parameters:{},positionalParamSegments:{}};const _=(m.matcher||ar)(p,u,m);if(!_)return{...Bn};const S={};Object.entries(_.posParams??{}).forEach(([z,U])=>{S[z]=U.path});const x=_.consumed.length>0?{...S,..._.consumed[_.consumed.length-1].parameters}:S;return{matched:!0,consumedSegments:_.consumed,remainingSegments:p.slice(_.consumed.length),parameters:x,positionalParamSegments:_.posParams??{}}}function Fs(u,m,p,F){return p.length>0&&function po(u,m,p){return p.some(F=>ei(u,m,F)&&rr(F)!==qe)}(u,p,F)?{segmentGroup:new jt(m,Mi(F,new jt(p,u.children))),slicedSegments:[]}:0===p.length&&function Br(u,m,p){return p.some(F=>ei(u,m,F))}(u,p,F)?{segmentGroup:new jt(u.segments,ys(u,p,F,u.children)),slicedSegments:p}:{segmentGroup:new jt(u.segments,u.children),slicedSegments:p}}function ys(u,m,p,F){const _={};for(const S of p)if(ei(u,m,S)&&!F[rr(S)]){const x=new jt([],{});_[rr(S)]=x}return{...F,..._}}function Mi(u,m){const p={};p[qe]=m;for(const F of u)if(""===F.path&&rr(F)!==qe){const _=new jt([],{});p[rr(F)]=_}return p}function ei(u,m,p){return(!(u.hasChildren()||m.length>0)||"full"!==p.pathMatch)&&""===p.path}class Si{}class xi{constructor(m,p,F,_,S,x,z){this.injector=m,this.configLoader=p,this.rootComponentType=F,this.config=_,this.urlTree=S,this.paramsInheritanceStrategy=x,this.urlSerializer=z,this.applyRedirects=new Tn(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(m){return new g.wOt(4002,`'${m.segmentGroup}'`)}recognize(){const m=Fs(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(m).pipe((0,oe.T)(({children:p,rootSnapshot:F})=>{const _=new Ir(F,p),S=new wi("",_),x=function is(u,m,p=null,F=null){return zo(ur(u),m,p,F)}(F,[],this.urlTree.queryParams,this.urlTree.fragment);return x.queryParams=this.urlTree.queryParams,S.url=this.urlSerializer.serialize(x),{state:S,tree:x}}))}match(m){const p=new hs([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Object.freeze({}),qe,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,m,qe,p).pipe((0,oe.T)(F=>({children:F,rootSnapshot:p})),(0,Rt.W)(F=>{if(F instanceof uo)return this.urlTree=F.urlTree,this.match(F.urlTree.root);throw F instanceof gs?this.noMatchError(F):F}))}processSegmentGroup(m,p,F,_,S){return 0===F.segments.length&&F.hasChildren()?this.processChildren(m,p,F,S):this.processSegment(m,p,F,F.segments,_,!0,S).pipe((0,oe.T)(x=>x instanceof Ir?[x]:[]))}processChildren(m,p,F,_){const S=[];for(const x of Object.keys(F.children))"primary"===x?S.unshift(x):S.push(x);return(0,$.H)(S).pipe((0,pt.H)(x=>{const z=F.children[x],U=function us(u,m){const p=u.filter(F=>rr(F)===m);return p.push(...u.filter(F=>rr(F)!==m)),p}(p,x);return this.processSegmentGroup(m,U,z,x,_)}),function se(u,m){return(0,ee.N)(function Kt(u,m,p,F,_){return(S,x)=>{let z=p,U=m,Ee=0;S.subscribe((0,Q._)(x,Le=>{const ze=Ee++;U=z?u(U,Le,ze):(z=!0,Le),F&&x.next(U)},_&&(()=>{z&&x.next(U),x.complete()})))}}(u,m,arguments.length>=2,!0))}((x,z)=>(x.push(...z),x)),it(null),function he(u,m){const p=arguments.length>=2;return F=>F.pipe(u?(0,Me.p)((_,S)=>u(_,S,F)):kt.D,ae(1),p?it(m):mt(()=>new re.G))}(),(0,Ve.Z)(x=>{if(null===x)return mr(F);const z=Es(x);return function Ji(u){u.sort((m,p)=>m.value.outlet===qe?-1:p.value.outlet===qe?1:m.value.outlet.localeCompare(p.value.outlet))}(z),(0,O.of)(z)}))}processSegment(m,p,F,_,S,x,z){return(0,$.H)(p).pipe((0,pt.H)(U=>this.processSegmentAgainstRoute(U._injector??m,p,U,F,_,S,x,z).pipe((0,Rt.W)(Ee=>{if(Ee instanceof gs)return(0,O.of)(null);throw Ee}))),Ye(U=>!!U),(0,Rt.W)(U=>{if(js(U))return function ti(u,m,p){return 0===m.length&&!u.children[p]}(F,_,S)?(0,O.of)(new Si):mr(F);throw U}))}processSegmentAgainstRoute(m,p,F,_,S,x,z,U){return rr(F)===x||x!==qe&&ei(_,S,F)?void 0===F.redirectTo?this.matchSegmentAgainstRoute(m,_,F,S,x,U):this.allowRedirects&&z?this.expandSegmentAgainstRouteUsingRedirect(m,_,p,F,S,x,U):mr(_):mr(_)}expandSegmentAgainstRouteUsingRedirect(m,p,F,_,S,x,z){const{matched:U,parameters:Ee,consumedSegments:Le,positionalParamSegments:ze,remainingSegments:dt}=yt(p,_,S);if(!U)return mr(p);"string"==typeof _.redirectTo&&"/"===_.redirectTo[0]&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const rn=new hs(S,Ee,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Jr(_),rr(_),_.component??_._loadedComponent??null,_,Qi(_)),Sn=Ko(rn,z,this.paramsInheritanceStrategy);rn.params=Object.freeze(Sn.params),rn.data=Object.freeze(Sn.data);const Gn=this.applyRedirects.applyRedirectCommands(Le,_.redirectTo,ze,rn,m);return this.applyRedirects.lineralizeSegments(_,Gn).pipe((0,Ve.Z)(gn=>this.processSegment(m,F,p,gn.concat(dt),x,!1,z)))}matchSegmentAgainstRoute(m,p,F,_,S,x){const z=Xo(p,F,_,m);return"**"===F.path&&(p.children={}),z.pipe((0,J.n)(U=>U.matched?this.getChildConfig(m=F._injector??m,F,_).pipe((0,J.n)(({routes:Ee})=>{const Le=F._loadedInjector??m,{parameters:ze,consumedSegments:dt,remainingSegments:rn}=U,Sn=new hs(dt,ze,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Jr(F),rr(F),F.component??F._loadedComponent??null,F,Qi(F)),Gn=Ko(Sn,x,this.paramsInheritanceStrategy);Sn.params=Object.freeze(Gn.params),Sn.data=Object.freeze(Gn.data);const{segmentGroup:gn,slicedSegments:qn}=Fs(p,dt,rn,Ee);if(0===qn.length&&gn.hasChildren())return this.processChildren(Le,Ee,gn,Sn).pipe((0,oe.T)(Bo=>new Ir(Sn,Bo)));if(0===Ee.length&&0===qn.length)return(0,O.of)(new Ir(Sn,[]));const _s=rr(F)===S;return this.processSegment(Le,Ee,gn,qn,_s?qe:S,!0,Sn).pipe((0,oe.T)(Bo=>new Ir(Sn,Bo instanceof Ir?[Bo]:[])))})):mr(p)))}getChildConfig(m,p,F){return p.children?(0,O.of)({routes:p.children,injector:m}):p.loadChildren?void 0!==p._loadedRoutes?(0,O.of)({routes:p._loadedRoutes,injector:p._loadedInjector}):function da(u,m,p,F){const _=m.canLoad;if(void 0===_||0===_.length)return(0,O.of)(!0);const S=_.map(x=>{const z=Gr(x,u);return Ne(function Qo(u){return u&&jo(u.canLoad)}(z)?z.canLoad(m,p):(0,g.N4e)(u,()=>z(m,p)))});return(0,O.of)(S).pipe(zn(),Sr())}(m,p,F).pipe((0,Ve.Z)(_=>_?this.configLoader.loadChildren(m,p).pipe((0,ft.M)(S=>{p._loadedRoutes=S.routes,p._loadedInjector=S.injector})):function Ft(){return(0,Y.$)(So(!1,Je.GuardRejected))}())):(0,O.of)({routes:[],injector:m})}}function ni(u){const m=u.value.routeConfig;return m&&""===m.path}function Es(u){const m=[],p=new Set;for(const F of u){if(!ni(F)){m.push(F);continue}const _=m.find(S=>F.value.routeConfig===S.value.routeConfig);void 0!==_?(_.children.push(...F.children),p.add(_)):m.push(F)}for(const F of p){const _=Es(F.children);m.push(new Ir(F.value,_))}return m.filter(F=>!p.has(F))}function Jr(u){return u.data||{}}function Qi(u){return u.resolve||{}}function Ai(u){const m=u.children.map(p=>Ai(p)).flat();return[u,...m]}function fo(u){return(0,J.n)(m=>{const p=u(m);return p?(0,$.H)(p).pipe((0,oe.T)(()=>m)):(0,O.of)(m)})}let vs=(()=>{class u{buildTitle(p){let F,_=p.root;for(;void 0!==_;)F=this.getResolvedTitleForRoute(_)??F,_=_.children.find(S=>S.outlet===qe);return F}getResolvedTitleForRoute(p){return p.data[tt]}static#e=this.\u0275fac=function(F){return new(F||u)};static#t=this.\u0275prov=g.jDH({token:u,factory:()=>(0,g.WQX)(ha),providedIn:"root"})}return u})(),ha=(()=>{class u extends vs{constructor(p){super(),this.title=p}updateTitle(p){const F=this.buildTitle(p);void 0!==F&&this.title.setTitle(F)}static#e=this.\u0275fac=function(F){return new(F||u)(g.KVO(Ct.hE))};static#t=this.\u0275prov=g.jDH({token:u,factory:u.\u0275fac,providedIn:"root"})}return u})();const Oo=new g.nKC("",{providedIn:"root",factory:()=>({})});let ii=(()=>{class u{static#e=this.\u0275fac=function(F){return new(F||u)};static#t=this.\u0275cmp=g.VBU({type:u,selectors:[["ng-component"]],standalone:!0,features:[g.aNF],decls:1,vars:0,template:function(F,_){1&F&&g.nrm(0,"router-outlet")},dependencies:[qs],encapsulation:2})}return u})();function Qr(u){const m=u.children&&u.children.map(Qr),p=m?{...u,children:m}:{...u};return!p.component&&!p.loadComponent&&(m||p.loadChildren)&&p.outlet&&p.outlet!==qe&&(p.component=ii),p}const Ro=new g.nKC("");let Os=(()=>{class u{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,g.WQX)(g.Ql9)}loadComponent(p){if(this.componentLoaders.get(p))return this.componentLoaders.get(p);if(p._loadedComponent)return(0,O.of)(p._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(p);const F=Ne(p.loadComponent()).pipe((0,oe.T)(fa),(0,ft.M)(S=>{this.onLoadEndListener&&this.onLoadEndListener(p),p._loadedComponent=S}),(0,De.j)(()=>{this.componentLoaders.delete(p)})),_=new Te(F,()=>new Ie.B).pipe(me());return this.componentLoaders.set(p,_),_}loadChildren(p,F){if(this.childrenLoaders.get(F))return this.childrenLoaders.get(F);if(F._loadedRoutes)return(0,O.of)({routes:F._loadedRoutes,injector:F._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(F);const S=function ai(u,m,p,F){return Ne(u.loadChildren()).pipe((0,oe.T)(fa),(0,Ve.Z)(_=>_ instanceof g.Co$||Array.isArray(_)?(0,O.of)(_):(0,$.H)(m.compileModuleAsync(_))),(0,oe.T)(_=>{F&&F(u);let S,x,z=!1;return Array.isArray(_)?(x=_,!0):(S=_.create(p).injector,x=S.get(Ro,[],{optional:!0,self:!0}).flat()),{routes:x.map(Qr),injector:S}}))}(F,this.compiler,p,this.onLoadEndListener).pipe((0,De.j)(()=>{this.childrenLoaders.delete(F)})),x=new Te(S,()=>new Ie.B).pipe(me());return this.childrenLoaders.set(F,x),x}static#e=this.\u0275fac=function(F){return new(F||u)};static#t=this.\u0275prov=g.jDH({token:u,factory:u.\u0275fac,providedIn:"root"})}return u})();function fa(u){return function Yo(u){return u&&"object"==typeof u&&"default"in u}(u)?u.default:u}let bs=(()=>{class u{static#e=this.\u0275fac=function(F){return new(F||u)};static#t=this.\u0275prov=g.jDH({token:u,factory:()=>(0,g.WQX)(No),providedIn:"root"})}return u})(),No=(()=>{class u{shouldProcessUrl(p){return!0}extract(p){return p}merge(p,F){return p}static#e=this.\u0275fac=function(F){return new(F||u)};static#t=this.\u0275prov=g.jDH({token:u,factory:u.\u0275fac,providedIn:"root"})}return u})();const es=new g.nKC(""),Zi=new g.nKC("");function y(u,m,p){const F=u.get(Zi),_=u.get(de.qQ);return u.get(g.SKi).runOutsideAngular(()=>{if(!_.startViewTransition||F.skipNextTransition)return F.skipNextTransition=!1,new Promise(Ee=>setTimeout(Ee));let S;const x=new Promise(Ee=>{S=Ee}),z=_.startViewTransition(()=>(S(),function T(u){return new Promise(m=>{(0,g.mal)({read:()=>setTimeout(m)},{injector:u})})}(u))),{onViewTransitionCreated:U}=F;return U&&(0,g.N4e)(u,()=>U({transition:z,from:m,to:p})),x})}const w=new g.nKC("");let I=(()=>{class u{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Ie.B,this.transitionAbortSubject=new Ie.B,this.configLoader=(0,g.WQX)(Os),this.environmentInjector=(0,g.WQX)(g.uvJ),this.urlSerializer=(0,g.WQX)(_t),this.rootContexts=(0,g.WQX)(io),this.location=(0,g.WQX)(de.aZ),this.inputBindingEnabled=null!==(0,g.WQX)(Pr,{optional:!0}),this.titleStrategy=(0,g.WQX)(vs),this.options=(0,g.WQX)(Oo,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=(0,g.WQX)(bs),this.createViewTransition=(0,g.WQX)(es,{optional:!0}),this.navigationErrorHandler=(0,g.WQX)(w,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,O.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=_=>this.events.next(new Ke(_)),this.configLoader.onLoadStartListener=_=>this.events.next(new ot(_))}complete(){this.transitions?.complete()}handleNavigationRequest(p){const F=++this.navigationId;this.transitions?.next({...this.transitions.value,...p,id:F})}setupNavigations(p,F,_){return this.transitions=new N.t({id:0,currentUrlTree:F,currentRawUrl:F,extractedUrl:this.urlHandlingStrategy.extract(F),urlAfterRedirects:this.urlHandlingStrategy.extract(F),rawUrl:F,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:ce,restoredState:null,currentSnapshot:_.snapshot,targetSnapshot:null,currentRouterState:_,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,Me.p)(S=>0!==S.id),(0,oe.T)(S=>({...S,extractedUrl:this.urlHandlingStrategy.extract(S.rawUrl)})),(0,J.n)(S=>{let x=!1,z=!1;return(0,O.of)(S).pipe((0,J.n)(U=>{if(this.navigationId>S.id)return this.cancelNavigationTransition(S,"",Je.SupersededByNewNavigation),q.w;this.currentTransition=S,this.currentNavigation={id:U.id,initialUrl:U.rawUrl,extractedUrl:U.extractedUrl,targetBrowserUrl:"string"==typeof U.extras.browserUrl?this.urlSerializer.parse(U.extras.browserUrl):U.extras.browserUrl,trigger:U.source,extras:U.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const Ee=!p.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!Ee&&"reload"!==(U.extras.onSameUrlNavigation??p.onSameUrlNavigation)){const ze="";return this.events.next(new $t(U.id,this.urlSerializer.serialize(U.rawUrl),ze,tn.IgnoredSameUrlNavigation)),U.resolve(!1),q.w}if(this.urlHandlingStrategy.shouldProcessUrl(U.rawUrl))return(0,O.of)(U).pipe((0,J.n)(ze=>{const dt=this.transitions?.getValue();return this.events.next(new Pe(ze.id,this.urlSerializer.serialize(ze.extractedUrl),ze.source,ze.restoredState)),dt!==this.transitions?.getValue()?q.w:Promise.resolve(ze)}),function ri(u,m,p,F,_,S){return(0,Ve.Z)(x=>function Ao(u,m,p,F,_,S,x="emptyOnly"){return new xi(u,m,p,F,_,x,S).recognize()}(u,m,p,F,x.extractedUrl,_,S).pipe((0,oe.T)(({state:z,tree:U})=>({...x,targetSnapshot:z,urlAfterRedirects:U}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,p.config,this.urlSerializer,this.paramsInheritanceStrategy),(0,ft.M)(ze=>{S.targetSnapshot=ze.targetSnapshot,S.urlAfterRedirects=ze.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:ze.urlAfterRedirects};const dt=new nn(ze.id,this.urlSerializer.serialize(ze.extractedUrl),this.urlSerializer.serialize(ze.urlAfterRedirects),ze.targetSnapshot);this.events.next(dt)}));if(Ee&&this.urlHandlingStrategy.shouldProcessUrl(U.currentRawUrl)){const{id:ze,extractedUrl:dt,source:rn,restoredState:Sn,extras:Gn}=U,gn=new Pe(ze,this.urlSerializer.serialize(dt),rn,Sn);this.events.next(gn);const qn=Io(this.rootComponentType).snapshot;return this.currentTransition=S={...U,targetSnapshot:qn,urlAfterRedirects:dt,extras:{...Gn,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=dt,(0,O.of)(S)}{const ze="";return this.events.next(new $t(U.id,this.urlSerializer.serialize(U.extractedUrl),ze,tn.IgnoredByUrlHandlingStrategy)),U.resolve(!1),q.w}}),(0,ft.M)(U=>{const Ee=new bn(U.id,this.urlSerializer.serialize(U.extractedUrl),this.urlSerializer.serialize(U.urlAfterRedirects),U.targetSnapshot);this.events.next(Ee)}),(0,oe.T)(U=>(this.currentTransition=S={...U,guards:xs(U.targetSnapshot,U.currentSnapshot,this.rootContexts)},S)),function Ii(u,m){return(0,Ve.Z)(p=>{const{targetSnapshot:F,currentSnapshot:_,guards:{canActivateChecks:S,canDeactivateChecks:x}}=p;return 0===x.length&&0===S.length?(0,O.of)({...p,guardsResult:!0}):function Na(u,m,p,F){return(0,$.H)(u).pipe((0,Ve.Z)(_=>function ua(u,m,p,F,_){const S=m&&m.routeConfig?m.routeConfig.canDeactivate:null;if(!S||0===S.length)return(0,O.of)(!0);const x=S.map(z=>{const U=Do(m)??_,Ee=Gr(z,U);return Ne(function Wi(u){return u&&jo(u.canDeactivate)}(Ee)?Ee.canDeactivate(u,m,p,F):(0,g.N4e)(U,()=>Ee(u,m,p,F))).pipe(Ye())});return(0,O.of)(x).pipe(zn())}(_.component,_.route,p,m,F)),Ye(_=>!0!==_,!0))}(x,F,_,u).pipe((0,Ve.Z)(z=>z&&function ms(u){return"boolean"==typeof u}(z)?function Zs(u,m,p,F){return(0,$.H)(m).pipe((0,pt.H)(_=>(0,be.x)(function qi(u,m){return null!==u&&m&&m(new Dr(u)),(0,O.of)(!0)}(_.route.parent,F),function Gi(u,m){return null!==u&&m&&m(new Rr(u)),(0,O.of)(!0)}(_.route,F),function la(u,m,p){const F=m[m.length-1],S=m.slice(0,m.length-1).reverse().map(x=>function fs(u){const m=u.routeConfig?u.routeConfig.canActivateChild:null;return m&&0!==m.length?{node:u,guards:m}:null}(x)).filter(x=>null!==x).map(x=>X(()=>{const z=x.guards.map(U=>{const Ee=Do(x.node)??p,Le=Gr(U,Ee);return Ne(function Zo(u){return u&&jo(u.canActivateChild)}(Le)?Le.canActivateChild(F,u):(0,g.N4e)(Ee,()=>Le(F,u))).pipe(Ye())});return(0,O.of)(z).pipe(zn())}));return(0,O.of)(S).pipe(zn())}(u,_.path,p),function Ti(u,m,p){const F=m.routeConfig?m.routeConfig.canActivate:null;if(!F||0===F.length)return(0,O.of)(!0);const _=F.map(S=>X(()=>{const x=Do(m)??p,z=Gr(S,x);return Ne(function Js(u){return u&&jo(u.canActivate)}(z)?z.canActivate(m,u):(0,g.N4e)(x,()=>z(m,u))).pipe(Ye())}));return(0,O.of)(_).pipe(zn())}(u,_.route,p))),Ye(_=>!0!==_,!0))}(F,S,u,m):(0,O.of)(z)),(0,oe.T)(z=>({...p,guardsResult:z})))})}(this.environmentInjector,U=>this.events.next(U)),(0,ft.M)(U=>{if(S.guardsResult=U.guardsResult,U.guardsResult&&"boolean"!=typeof U.guardsResult)throw Pn(0,U.guardsResult);const Ee=new Mt(U.id,this.urlSerializer.serialize(U.extractedUrl),this.urlSerializer.serialize(U.urlAfterRedirects),U.targetSnapshot,!!U.guardsResult);this.events.next(Ee)}),(0,Me.p)(U=>!!U.guardsResult||(this.cancelNavigationTransition(U,"",Je.GuardRejected),!1)),fo(U=>{if(U.guards.canActivateChecks.length)return(0,O.of)(U).pipe((0,ft.M)(Ee=>{const Le=new Dt(Ee.id,this.urlSerializer.serialize(Ee.extractedUrl),this.urlSerializer.serialize(Ee.urlAfterRedirects),Ee.targetSnapshot);this.events.next(Le)}),(0,J.n)(Ee=>{let Le=!1;return(0,O.of)(Ee).pipe(function oi(u,m){return(0,Ve.Z)(p=>{const{targetSnapshot:F,guards:{canActivateChecks:_}}=p;if(!_.length)return(0,O.of)(p);const S=new Set(_.map(U=>U.route)),x=new Set;for(const U of S)if(!x.has(U))for(const Ee of Ai(U))x.add(Ee);let z=0;return(0,$.H)(x).pipe((0,pt.H)(U=>S.has(U)?function ho(u,m,p,F){const _=u.routeConfig,S=u._resolve;return void 0!==_?.title&&!Tr(_)&&(S[tt]=_.title),function si(u,m,p,F){const _=At(u);if(0===_.length)return(0,O.of)({});const S={};return(0,$.H)(_).pipe((0,Ve.Z)(x=>function fn(u,m,p,F){const _=Do(m)??F,S=Gr(u,_);return Ne(S.resolve?S.resolve(m,p):(0,g.N4e)(_,()=>S(m,p)))}(u[x],m,p,F).pipe(Ye(),(0,ft.M)(z=>{if(z instanceof Ks)throw Pn(new Ar,z);S[x]=z}))),ae(1),function ge(u){return(0,oe.T)(()=>u)}(S),(0,Rt.W)(x=>js(x)?q.w:(0,Y.$)(x)))}(S,u,m,F).pipe((0,oe.T)(x=>(u._resolvedData=x,u.data=Ko(u,u.parent,p).resolve,null)))}(U,F,u,m):(U.data=Ko(U,U.parent,u).resolve,(0,O.of)(void 0))),(0,ft.M)(()=>z++),ae(1),(0,Ve.Z)(U=>z===x.size?(0,O.of)(p):q.w))})}(this.paramsInheritanceStrategy,this.environmentInjector),(0,ft.M)({next:()=>Le=!0,complete:()=>{Le||this.cancelNavigationTransition(Ee,"",Je.NoDataFromResolver)}}))}),(0,ft.M)(Ee=>{const Le=new _n(Ee.id,this.urlSerializer.serialize(Ee.extractedUrl),this.urlSerializer.serialize(Ee.urlAfterRedirects),Ee.targetSnapshot);this.events.next(Le)}))}),fo(U=>{const Ee=Le=>{const ze=[];Le.routeConfig?.loadComponent&&!Le.routeConfig._loadedComponent&&ze.push(this.configLoader.loadComponent(Le.routeConfig).pipe((0,ft.M)(dt=>{Le.component=dt}),(0,oe.T)(()=>{})));for(const dt of Le.children)ze.push(...Ee(dt));return ze};return(0,G.z)(Ee(U.targetSnapshot.root)).pipe(it(null),(0,Oe.s)(1))}),fo(()=>this.afterPreactivation()),(0,J.n)(()=>{const{currentSnapshot:U,targetSnapshot:Ee}=S,Le=this.createViewTransition?.(this.environmentInjector,U.root,Ee.root);return Le?(0,$.H)(Le).pipe((0,oe.T)(()=>S)):(0,O.of)(S)}),(0,oe.T)(U=>{const Ee=function Ss(u,m,p){const F=co(u,m._root,p?p._root:void 0);return new ao(F,m)}(p.routeReuseStrategy,U.targetSnapshot,U.currentRouterState);return this.currentTransition=S={...U,targetRouterState:Ee},this.currentNavigation.targetRouterState=Ee,S}),(0,ft.M)(()=>{this.events.next(new Go)}),((u,m,p,F)=>(0,oe.T)(_=>(new Lt(m,_.targetRouterState,_.currentRouterState,p,F).activate(u),_)))(this.rootContexts,p.routeReuseStrategy,U=>this.events.next(U),this.inputBindingEnabled),(0,Oe.s)(1),(0,ft.M)({next:U=>{x=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new at(U.id,this.urlSerializer.serialize(U.extractedUrl),this.urlSerializer.serialize(U.urlAfterRedirects))),this.titleStrategy?.updateTitle(U.targetRouterState.snapshot),U.resolve(!0)},complete:()=>{x=!0}}),(0,Se.Q)(this.transitionAbortSubject.pipe((0,ft.M)(U=>{throw U}))),(0,De.j)(()=>{!x&&!z&&this.cancelNavigationTransition(S,"",Je.SupersededByNewNavigation),this.currentTransition?.id===S.id&&(this.currentNavigation=null,this.currentTransition=null)}),(0,Rt.W)(U=>{if(z=!0,zi(U))this.events.next(new cn(S.id,this.urlSerializer.serialize(S.extractedUrl),U.message,U.cancellationCode)),function xo(u){return zi(u)&&lr(u.url)}(U)?this.events.next(new wt(U.url,U.navigationBehaviorOptions)):S.resolve(!1);else{const Ee=new an(S.id,this.urlSerializer.serialize(S.extractedUrl),U,S.targetSnapshot??void 0);try{const Le=(0,g.N4e)(this.environmentInjector,()=>this.navigationErrorHandler?.(Ee));if(Le instanceof Ks){const{message:ze,cancellationCode:dt}=Pn(0,Le);this.events.next(new cn(S.id,this.urlSerializer.serialize(S.extractedUrl),ze,dt)),this.events.next(new wt(Le.redirectTo,Le.navigationBehaviorOptions))}else{this.events.next(Ee);const ze=p.errorHandler(U);S.resolve(!!ze)}}catch(Le){this.options.resolveNavigationPromiseOnError?S.resolve(!1):S.reject(Le)}}return q.w}))}))}cancelNavigationTransition(p,F,_){const S=new cn(p.id,this.urlSerializer.serialize(p.extractedUrl),F,_);this.events.next(S),p.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){const p=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),F=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return p.toString()!==F?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static#e=this.\u0275fac=function(F){return new(F||u)};static#t=this.\u0275prov=g.jDH({token:u,factory:u.\u0275fac,providedIn:"root"})}return u})();function P(u){return u!==ce}let le=(()=>{class u{static#e=this.\u0275fac=function(F){return new(F||u)};static#t=this.\u0275prov=g.jDH({token:u,factory:()=>(0,g.WQX)(Ge),providedIn:"root"})}return u})();class ke{shouldDetach(m){return!1}store(m,p){}shouldAttach(m){return!1}retrieve(m){return null}shouldReuseRoute(m,p){return m.routeConfig===p.routeConfig}}let Ge=(()=>{class u extends ke{static#e=this.\u0275fac=(()=>{let p;return function(_){return(p||(p=g.xGo(u)))(_||u)}})();static#t=this.\u0275prov=g.jDH({token:u,factory:u.\u0275fac,providedIn:"root"})}return u})(),Bt=(()=>{class u{static#e=this.\u0275fac=function(F){return new(F||u)};static#t=this.\u0275prov=g.jDH({token:u,factory:()=>(0,g.WQX)(ln),providedIn:"root"})}return u})(),ln=(()=>{class u extends Bt{constructor(){super(...arguments),this.location=(0,g.WQX)(de.aZ),this.urlSerializer=(0,g.WQX)(_t),this.options=(0,g.WQX)(Oo,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=(0,g.WQX)(bs),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new mn,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Io(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(p){return this.location.subscribe(F=>{"popstate"===F.type&&p(F.url,F.state)})}handleRouterEvent(p,F){if(p instanceof Pe)this.stateMemento=this.createStateMemento();else if(p instanceof $t)this.rawUrlTree=F.initialUrl;else if(p instanceof nn){if("eager"===this.urlUpdateStrategy&&!F.extras.skipLocationChange){const _=this.urlHandlingStrategy.merge(F.finalUrl,F.initialUrl);this.setBrowserUrl(F.targetBrowserUrl??_,F)}}else p instanceof Go?(this.currentUrlTree=F.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(F.finalUrl,F.initialUrl),this.routerState=F.targetRouterState,"deferred"===this.urlUpdateStrategy&&!F.extras.skipLocationChange&&this.setBrowserUrl(F.targetBrowserUrl??this.rawUrlTree,F)):p instanceof cn&&(p.code===Je.GuardRejected||p.code===Je.NoDataFromResolver)?this.restoreHistory(F):p instanceof an?this.restoreHistory(F,!0):p instanceof at&&(this.lastSuccessfulId=p.id,this.currentPageId=this.browserPageId)}setBrowserUrl(p,F){const _=p instanceof mn?this.urlSerializer.serialize(p):p;if(this.location.isCurrentPathEqualTo(_)||F.extras.replaceUrl){const x={...F.extras.state,...this.generateNgRouterState(F.id,this.browserPageId)};this.location.replaceState(_,"",x)}else{const S={...F.extras.state,...this.generateNgRouterState(F.id,this.browserPageId+1)};this.location.go(_,"",S)}}restoreHistory(p,F=!1){if("computed"===this.canceledNavigationResolution){const S=this.currentPageId-this.browserPageId;0!==S?this.location.historyGo(S):this.currentUrlTree===p.finalUrl&&0===S&&(this.resetState(p),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(F&&this.resetState(p),this.resetUrlToCurrentUrlTree())}resetState(p){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,p.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(p,F){return"computed"===this.canceledNavigationResolution?{navigationId:p,\u0275routerPageId:F}:{navigationId:p}}static#e=this.\u0275fac=(()=>{let p;return function(_){return(p||(p=g.xGo(u)))(_||u)}})();static#t=this.\u0275prov=g.jDH({token:u,factory:u.\u0275fac,providedIn:"root"})}return u})();var zt=function(u){return u[u.COMPLETE=0]="COMPLETE",u[u.FAILED=1]="FAILED",u[u.REDIRECTING=2]="REDIRECTING",u}(zt||{});function It(u,m){u.events.pipe((0,Me.p)(p=>p instanceof at||p instanceof cn||p instanceof an||p instanceof $t),(0,oe.T)(p=>p instanceof at||p instanceof $t?zt.COMPLETE:p instanceof cn&&(p.code===Je.Redirect||p.code===Je.SupersededByNewNavigation)?zt.REDIRECTING:zt.FAILED),(0,Me.p)(p=>p!==zt.REDIRECTING),(0,Oe.s)(1)).subscribe(()=>{m()})}function un(u){throw u}const st={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Ce={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let He=(()=>{class u{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=(0,g.WQX)(g.H3F),this.stateManager=(0,g.WQX)(Bt),this.options=(0,g.WQX)(Oo,{optional:!0})||{},this.pendingTasks=(0,g.WQX)(g.TgB),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=(0,g.WQX)(I),this.urlSerializer=(0,g.WQX)(_t),this.location=(0,g.WQX)(de.aZ),this.urlHandlingStrategy=(0,g.WQX)(bs),this._events=new Ie.B,this.errorHandler=this.options.errorHandler||un,this.navigated=!1,this.routeReuseStrategy=(0,g.WQX)(le),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=(0,g.WQX)(Ro,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!(0,g.WQX)(Pr,{optional:!0}),this.eventsSubscription=new Fe.yU,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:p=>{this.console.warn(p)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const p=this.navigationTransitions.events.subscribe(F=>{try{const _=this.navigationTransitions.currentTransition,S=this.navigationTransitions.currentNavigation;if(null!==_&&null!==S)if(this.stateManager.handleRouterEvent(F,S),F instanceof cn&&F.code!==Je.Redirect&&F.code!==Je.SupersededByNewNavigation)this.navigated=!0;else if(F instanceof at)this.navigated=!0;else if(F instanceof wt){const x=F.navigationBehaviorOptions,z=this.urlHandlingStrategy.merge(F.url,_.currentRawUrl),U={browserUrl:_.extras.browserUrl,info:_.extras.info,skipLocationChange:_.extras.skipLocationChange,replaceUrl:_.extras.replaceUrl||"eager"===this.urlUpdateStrategy||P(_.source),...x};this.scheduleNavigation(z,ce,null,U,{resolve:_.resolve,reject:_.reject,promise:_.promise})}(function Un(u){return!(u instanceof Go||u instanceof wt)})(F)&&this._events.next(F)}catch(_){this.navigationTransitions.transitionAbortSubject.next(_)}});this.eventsSubscription.add(p)}resetRootComponentType(p){this.routerState.root.component=p,this.navigationTransitions.rootComponentType=p}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),ce,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((p,F)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(p,"popstate",F)},0)})}navigateToSyncWithBrowser(p,F,_){const S={replaceUrl:!0},x=_?.navigationId?_:null;if(_){const U={..._};delete U.navigationId,delete U.\u0275routerPageId,0!==Object.keys(U).length&&(S.state=U)}const z=this.parseUrl(p);this.scheduleNavigation(z,F,x,S)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(p){this.config=p.map(Qr),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(p,F={}){const{relativeTo:_,queryParams:S,fragment:x,queryParamsHandling:z,preserveFragment:U}=F,Ee=U?this.currentUrlTree.fragment:x;let ze,Le=null;switch(z??this.options.defaultQueryParamsHandling){case"merge":Le={...this.currentUrlTree.queryParams,...S};break;case"preserve":Le=this.currentUrlTree.queryParams;break;default:Le=S||null}null!==Le&&(Le=this.removeEmptyProps(Le));try{ze=ur(_?_.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof p[0]||"/"!==p[0][0])&&(p=[]),ze=this.currentUrlTree.root}return zo(ze,p,Le,Ee??null)}navigateByUrl(p,F={skipLocationChange:!1}){const _=lr(p)?p:this.parseUrl(p),S=this.urlHandlingStrategy.merge(_,this.rawUrlTree);return this.scheduleNavigation(S,ce,null,F)}navigate(p,F={skipLocationChange:!1}){return function Xt(u){for(let m=0;m<u.length;m++)if(null==u[m])throw new g.wOt(4008,!1)}(p),this.navigateByUrl(this.createUrlTree(p,F),F)}serializeUrl(p){return this.urlSerializer.serialize(p)}parseUrl(p){try{return this.urlSerializer.parse(p)}catch{return this.urlSerializer.parse("/")}}isActive(p,F){let _;if(_=!0===F?{...st}:!1===F?{...Ce}:F,lr(p))return jr(this.currentUrlTree,p,_);const S=this.parseUrl(p);return jr(this.currentUrlTree,S,_)}removeEmptyProps(p){return Object.entries(p).reduce((F,[_,S])=>(null!=S&&(F[_]=S),F),{})}scheduleNavigation(p,F,_,S,x){if(this.disposed)return Promise.resolve(!1);let z,U,Ee;x?(z=x.resolve,U=x.reject,Ee=x.promise):Ee=new Promise((ze,dt)=>{z=ze,U=dt});const Le=this.pendingTasks.add();return It(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(Le))}),this.navigationTransitions.handleNavigationRequest({source:F,restoredState:_,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:p,extras:S,resolve:z,reject:U,promise:Ee,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Ee.catch(ze=>Promise.reject(ze))}static#e=this.\u0275fac=function(F){return new(F||u)};static#t=this.\u0275prov=g.jDH({token:u,factory:u.\u0275fac,providedIn:"root"})}return u})(),en=(()=>{class u{constructor(p,F,_,S,x,z){this.router=p,this.route=F,this.tabIndexAttribute=_,this.renderer=S,this.el=x,this.locationStrategy=z,this.href=null,this.onChanges=new Ie.B,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;const U=x.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===U||"area"===U,this.isAnchorElement?this.subscription=p.events.subscribe(Ee=>{Ee instanceof at&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(p){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",p)}ngOnChanges(p){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(p){null==p?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(this.routerLinkInput=lr(p)||Array.isArray(p)?p:[p],this.setTabIndexIfNotOnNativeEl("0"))}onClick(p,F,_,S,x){const z=this.urlTree;return!!(null===z||this.isAnchorElement&&(0!==p||F||_||S||x||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(z,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){const p=this.urlTree;this.href=null!==p&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(p)):null;const F=null===this.href?null:(0,g.n$t)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",F)}applyAttributeValue(p,F){const _=this.renderer,S=this.el.nativeElement;null!==F?_.setAttribute(S,p,F):_.removeAttribute(S,p)}get urlTree(){return null===this.routerLinkInput?null:lr(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(F){return new(F||u)(g.rXU(He),g.rXU(Wr),g.kS0("tabindex"),g.rXU(g.sFG),g.rXU(g.aKT),g.rXU(de.hb))};static#t=this.\u0275dir=g.FsC({type:u,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(F,_){1&F&&g.bIt("click",function(x){return _.onClick(x.button,x.ctrlKey,x.shiftKey,x.altKey,x.metaKey)}),2&F&&g.BMQ("target",_.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",g.L39],skipLocationChange:[2,"skipLocationChange","skipLocationChange",g.L39],replaceUrl:[2,"replaceUrl","replaceUrl",g.L39],routerLink:"routerLink"},standalone:!0,features:[g.GFd,g.OA$]})}return u})(),wn=(()=>{class u{get isActive(){return this._isActive}constructor(p,F,_,S,x){this.router=p,this.element=F,this.renderer=_,this.cdr=S,this.link=x,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new g.bkB,this.routerEventsSubscription=p.events.subscribe(z=>{z instanceof at&&this.update()})}ngAfterContentInit(){(0,O.of)(this.links.changes,(0,O.of)(null)).pipe((0,Qe.U)()).subscribe(p=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const p=[...this.links.toArray(),this.link].filter(F=>!!F).map(F=>F.onChanges);this.linkInputChangesSubscription=(0,$.H)(p).pipe((0,Qe.U)()).subscribe(F=>{this._isActive!==this.isLinkActive(this.router)(F)&&this.update()})}set routerLinkActive(p){const F=Array.isArray(p)?p:p.split(" ");this.classes=F.filter(_=>!!_)}ngOnChanges(p){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const p=this.hasActiveLinks();this.classes.forEach(F=>{p?this.renderer.addClass(this.element.nativeElement,F):this.renderer.removeClass(this.element.nativeElement,F)}),p&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==p&&(this._isActive=p,this.cdr.markForCheck(),this.isActiveChange.emit(p))})}isLinkActive(p){const F=function Jn(u){return!!u.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return _=>{const S=_.urlTree;return!!S&&p.isActive(S,F)}}hasActiveLinks(){const p=this.isLinkActive(this.router);return this.link&&p(this.link)||this.links.some(p)}static#e=this.\u0275fac=function(F){return new(F||u)(g.rXU(He),g.rXU(g.aKT),g.rXU(g.sFG),g.rXU(g.gRc),g.rXU(en,8))};static#t=this.\u0275dir=g.FsC({type:u,selectors:[["","routerLinkActive",""]],contentQueries:function(F,_,S){if(1&F&&g.wni(S,en,5),2&F){let x;g.mGM(x=g.lsd())&&(_.links=x)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[g.OA$]})}return u})();class St{}let dn=(()=>{class u{preload(p,F){return F().pipe((0,Rt.W)(()=>(0,O.of)(null)))}static#e=this.\u0275fac=function(F){return new(F||u)};static#t=this.\u0275prov=g.jDH({token:u,factory:u.\u0275fac,providedIn:"root"})}return u})(),Xe=(()=>{class u{constructor(p,F,_,S,x){this.router=p,this.injector=_,this.preloadingStrategy=S,this.loader=x}setUpPreloading(){this.subscription=this.router.events.pipe((0,Me.p)(p=>p instanceof at),(0,pt.H)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(p,F){const _=[];for(const S of F){S.providers&&!S._injector&&(S._injector=(0,g.Ol2)(S.providers,p,`Route: ${S.path}`));const x=S._injector??p,z=S._loadedInjector??x;(S.loadChildren&&!S._loadedRoutes&&void 0===S.canLoad||S.loadComponent&&!S._loadedComponent)&&_.push(this.preloadConfig(x,S)),(S.children||S._loadedRoutes)&&_.push(this.processRoutes(z,S.children??S._loadedRoutes))}return(0,$.H)(_).pipe((0,Qe.U)())}preloadConfig(p,F){return this.preloadingStrategy.preload(F,()=>{let _;_=F.loadChildren&&void 0===F.canLoad?this.loader.loadChildren(p,F):(0,O.of)(null);const S=_.pipe((0,Ve.Z)(x=>null===x?(0,O.of)(void 0):(F._loadedRoutes=x.routes,F._loadedInjector=x.injector,this.processRoutes(x.injector??p,x.routes))));if(F.loadComponent&&!F._loadedComponent){const x=this.loader.loadComponent(F);return(0,$.H)([S,x]).pipe((0,Qe.U)())}return S})}static#e=this.\u0275fac=function(F){return new(F||u)(g.KVO(He),g.KVO(g.Ql9),g.KVO(g.uvJ),g.KVO(St),g.KVO(Os))};static#t=this.\u0275prov=g.jDH({token:u,factory:u.\u0275fac,providedIn:"root"})}return u})();const Wn=new g.nKC("");let Ln=(()=>{class u{constructor(p,F,_,S,x={}){this.urlSerializer=p,this.transitions=F,this.viewportScroller=_,this.zone=S,this.options=x,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},x.scrollPositionRestoration||="disabled",x.anchorScrolling||="disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(p=>{p instanceof Pe?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=p.navigationTrigger,this.restoredId=p.restoredState?p.restoredState.navigationId:0):p instanceof at?(this.lastId=p.id,this.scheduleScrollEvent(p,this.urlSerializer.parse(p.urlAfterRedirects).fragment)):p instanceof $t&&p.code===tn.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(p,this.urlSerializer.parse(p.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(p=>{p instanceof cs&&(p.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(p.position):p.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(p.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(p,F){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new cs(p,"popstate"===this.lastSource?this.store[this.restoredId]:null,F))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(F){g.QTQ()};static#t=this.\u0275prov=g.jDH({token:u,factory:u.\u0275fac})}return u})();function Mn(u,m){return{\u0275kind:u,\u0275providers:m}}function Zr(){const u=(0,g.WQX)(g.zZn);return m=>{const p=u.get(g.o8S);if(m!==p.components[0])return;const F=u.get(He),_=u.get(Rs);1===u.get(Vn)&&F.initialNavigation(),u.get(Xr,null,g.$GK.Optional)?.setUpPreloading(),u.get(Wn,null,g.$GK.Optional)?.init(),F.resetRootComponentType(p.componentTypes[0]),_.closed||(_.next(),_.complete(),_.unsubscribe())}}const Rs=new g.nKC("",{factory:()=>new Ie.B}),Vn=new g.nKC("",{providedIn:"root",factory:()=>1}),Xr=new g.nKC("");function ci(u){return Mn(0,[{provide:Xr,useExisting:Xe},{provide:St,useExisting:u}])}function sr(u){return Mn(9,[{provide:es,useValue:y},{provide:Zi,useValue:{skipNextTransition:!!u?.skipInitialTransition,...u}}])}const Lo=new g.nKC("ROUTER_FORROOT_GUARD"),Oi=[de.aZ,{provide:_t,useClass:Ar},He,io,{provide:Wr,useFactory:function pn(u){return u.routerState.root},deps:[He]},Os,[]];let Ur=(()=>{class u{constructor(p){}static forRoot(p,F){return{ngModule:u,providers:[Oi,[],{provide:Ro,multi:!0,useValue:p},{provide:Lo,useFactory:Ri,deps:[[He,new g.Xx1,new g.kdw]]},{provide:Oo,useValue:F||{}},F?.useHash?{provide:de.hb,useClass:de.fw}:{provide:de.hb,useClass:de.Sm},{provide:Wn,useFactory:()=>{const u=(0,g.WQX)(de.Xr),m=(0,g.WQX)(g.SKi),p=(0,g.WQX)(Oo),F=(0,g.WQX)(I),_=(0,g.WQX)(_t);return p.scrollOffset&&u.setOffset(p.scrollOffset),new Ln(_,F,u,m,p)}},F?.preloadingStrategy?ci(F.preloadingStrategy).\u0275providers:[],F?.initialNavigation?ta(F):[],F?.bindToComponentInputs?Mn(8,[Ms,{provide:Pr,useExisting:Ms}]).\u0275providers:[],F?.enableViewTransitions?sr().\u0275providers:[],[{provide:na,useFactory:Zr},{provide:g.iLQ,multi:!0,useExisting:na}]]}}static forChild(p){return{ngModule:u,providers:[{provide:Ro,multi:!0,useValue:p}]}}static#e=this.\u0275fac=function(F){return new(F||u)(g.KVO(Lo,8))};static#t=this.\u0275mod=g.$C({type:u});static#n=this.\u0275inj=g.G2t({})}return u})();function Ri(u){return"guarded"}function ta(u){return["disabled"===u.initialNavigation?Mn(3,[{provide:g.hnV,multi:!0,useFactory:()=>{const m=(0,g.WQX)(He);return()=>{m.setUpLocationChangeListener()}}},{provide:Vn,useValue:2}]).\u0275providers:[],"enabledBlocking"===u.initialNavigation?Mn(2,[{provide:Vn,useValue:0},{provide:g.hnV,multi:!0,deps:[g.zZn],useFactory:m=>{const p=m.get(de.hj,Promise.resolve());return()=>p.then(()=>new Promise(F=>{const _=m.get(He),S=m.get(Rs);It(_,()=>{F(!0)}),m.get(I).afterPreactivation=()=>(F(!0),S.closed?(0,O.of)(void 0):S),_.initialNavigation()}))}}]).\u0275providers:[]]}const na=new g.nKC("")},467:(je,ne,C)=>{"use strict";function g($,O,N,G,re,be,fe){try{var ue=$[be](fe),X=ue.value}catch(te){return void N(te)}ue.done?O(X):Promise.resolve(X).then(G,re)}function e($){return function(){var O=this,N=arguments;return new Promise(function(G,re){var be=$.apply(O,N);function fe(X){g(be,G,re,fe,ue,"next",X)}function ue(X){g(be,G,re,fe,ue,"throw",X)}fe(void 0)})}}C.d(ne,{A:()=>e})},1635:(je,ne,C)=>{"use strict";function te(se,ae,he,ge){return new(he||(he=Promise))(function(Se,Qe){function Ct(Vt){try{tt(ge.next(Vt))}catch(Jt){Qe(Jt)}}function qe(Vt){try{tt(ge.throw(Vt))}catch(Jt){Qe(Jt)}}function tt(Vt){Vt.done?Se(Vt.value):function De(Se){return Se instanceof he?Se:new he(function(Qe){Qe(Se)})}(Vt.value).then(Ct,qe)}tt((ge=ge.apply(se,ae||[])).next())})}function de(se){return this instanceof de?(this.v=se,this):new de(se)}function oe(se,ae,he){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var De,ge=he.apply(se,ae||[]),Se=[];return De=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),Ct("next"),Ct("throw"),Ct("return",function Qe(Pt){return function(Qt){return Promise.resolve(Qt).then(Pt,Jt)}}),De[Symbol.asyncIterator]=function(){return this},De;function Ct(Pt,Qt){ge[Pt]&&(De[Pt]=function(At){return new Promise(function(jn,An){Se.push([Pt,At,jn,An])>1||qe(Pt,At)})},Qt&&(De[Pt]=Qt(De[Pt])))}function qe(Pt,Qt){try{!function tt(Pt){Pt.value instanceof de?Promise.resolve(Pt.value.v).then(Vt,Jt):ar(Se[0][2],Pt)}(ge[Pt](Qt))}catch(At){ar(Se[0][3],At)}}function Vt(Pt){qe("next",Pt)}function Jt(Pt){qe("throw",Pt)}function ar(Pt,Qt){Pt(Qt),Se.shift(),Se.length&&qe(Se[0][0],Se[0][1])}}function Oe(se){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var he,ae=se[Symbol.asyncIterator];return ae?ae.call(se):(se=function ee(se){var ae="function"==typeof Symbol&&Symbol.iterator,he=ae&&se[ae],ge=0;if(he)return he.call(se);if(se&&"number"==typeof se.length)return{next:function(){return se&&ge>=se.length&&(se=void 0),{value:se&&se[ge++],done:!se}}};throw new TypeError(ae?"Object is not iterable.":"Symbol.iterator is not defined.")}(se),he={},ge("next"),ge("throw"),ge("return"),he[Symbol.asyncIterator]=function(){return this},he);function ge(Se){he[Se]=se[Se]&&function(Qe){return new Promise(function(Ct,qe){!function De(Se,Qe,Ct,qe){Promise.resolve(qe).then(function(tt){Se({value:tt,done:Ct})},Qe)}(Ct,qe,(Qe=se[Se](Qe)).done,Qe.value)})}}}C.d(ne,{AQ:()=>oe,N3:()=>de,sH:()=>te,xN:()=>Oe}),"function"==typeof SuppressedError&&SuppressedError}},je=>{je(je.s=6760)}]);